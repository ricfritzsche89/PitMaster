(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var Nf={exports:{}},Bl={};var vy;function sT(){if(vy)return Bl;vy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var p in o)p!=="key"&&(h[p]=o[p])}else h=o;return o=h.ref,{$$typeof:r,type:s,key:d,ref:o!==void 0?o:null,props:h}}return Bl.Fragment=e,Bl.jsx=i,Bl.jsxs=i,Bl}var Ey;function rT(){return Ey||(Ey=1,Nf.exports=sT()),Nf.exports}var R=rT(),If={exports:{}},_t={};var Ty;function lT(){if(Ty)return _t;Ty=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),V=Symbol.iterator;function M(O){return O===null||typeof O!="object"?null:(O=V&&O[V]||O["@@iterator"],typeof O=="function"?O:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,W={};function ot(O,X,nt){this.props=O,this.context=X,this.refs=W,this.updater=nt||P}ot.prototype.isReactComponent={},ot.prototype.setState=function(O,X){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,X,"setState")},ot.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ct(){}ct.prototype=ot.prototype;function mt(O,X,nt){this.props=O,this.context=X,this.refs=W,this.updater=nt||P}var Ut=mt.prototype=new ct;Ut.constructor=mt,J(Ut,ot.prototype),Ut.isPureReactComponent=!0;var $t=Array.isArray;function Mt(){}var D={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function x(O,X,nt){var at=nt.ref;return{$$typeof:r,type:O,key:X,ref:at!==void 0?at:null,props:nt}}function z(O,X){return x(O.type,X,O.props)}function I(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function j(O){var X={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(nt){return X[nt]})}var w=/\/+/g;function ie(O,X){return typeof O=="object"&&O!==null&&O.key!=null?j(""+O.key):X.toString(36)}function Ce(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Mt,Mt):(O.status="pending",O.then(function(X){O.status==="pending"&&(O.status="fulfilled",O.value=X)},function(X){O.status==="pending"&&(O.status="rejected",O.reason=X)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function F(O,X,nt,at,pt){var St=typeof O;(St==="undefined"||St==="boolean")&&(O=null);var Nt=!1;if(O===null)Nt=!0;else switch(St){case"bigint":case"string":case"number":Nt=!0;break;case"object":switch(O.$$typeof){case r:case e:Nt=!0;break;case T:return Nt=O._init,F(Nt(O._payload),X,nt,at,pt)}}if(Nt)return pt=pt(O),Nt=at===""?"."+ie(O,0):at,$t(pt)?(nt="",Nt!=null&&(nt=Nt.replace(w,"$&/")+"/"),F(pt,X,nt,"",function(Ba){return Ba})):pt!=null&&(I(pt)&&(pt=z(pt,nt+(pt.key==null||O&&O.key===pt.key?"":(""+pt.key).replace(w,"$&/")+"/")+Nt)),X.push(pt)),1;Nt=0;var xe=at===""?".":at+":";if($t(O))for(var ae=0;ae<O.length;ae++)at=O[ae],St=xe+ie(at,ae),Nt+=F(at,X,nt,St,pt);else if(ae=M(O),typeof ae=="function")for(O=ae.call(O),ae=0;!(at=O.next()).done;)at=at.value,St=xe+ie(at,ae++),Nt+=F(at,X,nt,St,pt);else if(St==="object"){if(typeof O.then=="function")return F(Ce(O),X,nt,at,pt);throw X=String(O),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Nt}function et(O,X,nt){if(O==null)return O;var at=[],pt=0;return F(O,at,"","",function(St){return X.call(nt,St,pt++)}),at}function ht(O){if(O._status===-1){var X=O._result;X=X(),X.then(function(nt){(O._status===0||O._status===-1)&&(O._status=1,O._result=nt)},function(nt){(O._status===0||O._status===-1)&&(O._status=2,O._result=nt)}),O._status===-1&&(O._status=0,O._result=X)}if(O._status===1)return O._result.default;throw O._result}var zt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},qt={map:et,forEach:function(O,X,nt){et(O,function(){X.apply(this,arguments)},nt)},count:function(O){var X=0;return et(O,function(){X++}),X},toArray:function(O){return et(O,function(X){return X})||[]},only:function(O){if(!I(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return _t.Activity=A,_t.Children=qt,_t.Component=ot,_t.Fragment=i,_t.Profiler=o,_t.PureComponent=mt,_t.StrictMode=s,_t.Suspense=v,_t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,_t.__COMPILER_RUNTIME={__proto__:null,c:function(O){return D.H.useMemoCache(O)}},_t.cache=function(O){return function(){return O.apply(null,arguments)}},_t.cacheSignal=function(){return null},_t.cloneElement=function(O,X,nt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var at=J({},O.props),pt=O.key;if(X!=null)for(St in X.key!==void 0&&(pt=""+X.key),X)!b.call(X,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&X.ref===void 0||(at[St]=X[St]);var St=arguments.length-2;if(St===1)at.children=nt;else if(1<St){for(var Nt=Array(St),xe=0;xe<St;xe++)Nt[xe]=arguments[xe+2];at.children=Nt}return x(O.type,pt,at)},_t.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:h,_context:O},O},_t.createElement=function(O,X,nt){var at,pt={},St=null;if(X!=null)for(at in X.key!==void 0&&(St=""+X.key),X)b.call(X,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(pt[at]=X[at]);var Nt=arguments.length-2;if(Nt===1)pt.children=nt;else if(1<Nt){for(var xe=Array(Nt),ae=0;ae<Nt;ae++)xe[ae]=arguments[ae+2];pt.children=xe}if(O&&O.defaultProps)for(at in Nt=O.defaultProps,Nt)pt[at]===void 0&&(pt[at]=Nt[at]);return x(O,St,pt)},_t.createRef=function(){return{current:null}},_t.forwardRef=function(O){return{$$typeof:p,render:O}},_t.isValidElement=I,_t.lazy=function(O){return{$$typeof:T,_payload:{_status:-1,_result:O},_init:ht}},_t.memo=function(O,X){return{$$typeof:_,type:O,compare:X===void 0?null:X}},_t.startTransition=function(O){var X=D.T,nt={};D.T=nt;try{var at=O(),pt=D.S;pt!==null&&pt(nt,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(Mt,zt)}catch(St){zt(St)}finally{X!==null&&nt.types!==null&&(X.types=nt.types),D.T=X}},_t.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},_t.use=function(O){return D.H.use(O)},_t.useActionState=function(O,X,nt){return D.H.useActionState(O,X,nt)},_t.useCallback=function(O,X){return D.H.useCallback(O,X)},_t.useContext=function(O){return D.H.useContext(O)},_t.useDebugValue=function(){},_t.useDeferredValue=function(O,X){return D.H.useDeferredValue(O,X)},_t.useEffect=function(O,X){return D.H.useEffect(O,X)},_t.useEffectEvent=function(O){return D.H.useEffectEvent(O)},_t.useId=function(){return D.H.useId()},_t.useImperativeHandle=function(O,X,nt){return D.H.useImperativeHandle(O,X,nt)},_t.useInsertionEffect=function(O,X){return D.H.useInsertionEffect(O,X)},_t.useLayoutEffect=function(O,X){return D.H.useLayoutEffect(O,X)},_t.useMemo=function(O,X){return D.H.useMemo(O,X)},_t.useOptimistic=function(O,X){return D.H.useOptimistic(O,X)},_t.useReducer=function(O,X,nt){return D.H.useReducer(O,X,nt)},_t.useRef=function(O){return D.H.useRef(O)},_t.useState=function(O){return D.H.useState(O)},_t.useSyncExternalStore=function(O,X,nt){return D.H.useSyncExternalStore(O,X,nt)},_t.useTransition=function(){return D.H.useTransition()},_t.version="19.2.3",_t}var Sy;function pd(){return Sy||(Sy=1,If.exports=lT()),If.exports}var Zt=pd(),Of={exports:{}},kl={},Mf={exports:{}},zf={};var Ay;function oT(){return Ay||(Ay=1,(function(r){function e(F,et){var ht=F.length;F.push(et);t:for(;0<ht;){var zt=ht-1>>>1,qt=F[zt];if(0<o(qt,et))F[zt]=et,F[ht]=qt,ht=zt;else break t}}function i(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var et=F[0],ht=F.pop();if(ht!==et){F[0]=ht;t:for(var zt=0,qt=F.length,O=qt>>>1;zt<O;){var X=2*(zt+1)-1,nt=F[X],at=X+1,pt=F[at];if(0>o(nt,ht))at<qt&&0>o(pt,nt)?(F[zt]=pt,F[at]=ht,zt=at):(F[zt]=nt,F[X]=ht,zt=X);else if(at<qt&&0>o(pt,ht))F[zt]=pt,F[at]=ht,zt=at;else break t}}return et}function o(F,et){var ht=F.sortIndex-et.sortIndex;return ht!==0?ht:F.id-et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var v=[],_=[],T=1,A=null,V=3,M=!1,P=!1,J=!1,W=!1,ot=typeof setTimeout=="function"?setTimeout:null,ct=typeof clearTimeout=="function"?clearTimeout:null,mt=typeof setImmediate<"u"?setImmediate:null;function Ut(F){for(var et=i(_);et!==null;){if(et.callback===null)s(_);else if(et.startTime<=F)s(_),et.sortIndex=et.expirationTime,e(v,et);else break;et=i(_)}}function $t(F){if(J=!1,Ut(F),!P)if(i(v)!==null)P=!0,Mt||(Mt=!0,j());else{var et=i(_);et!==null&&Ce($t,et.startTime-F)}}var Mt=!1,D=-1,b=5,x=-1;function z(){return W?!0:!(r.unstable_now()-x<b)}function I(){if(W=!1,Mt){var F=r.unstable_now();x=F;var et=!0;try{t:{P=!1,J&&(J=!1,ct(D),D=-1),M=!0;var ht=V;try{e:{for(Ut(F),A=i(v);A!==null&&!(A.expirationTime>F&&z());){var zt=A.callback;if(typeof zt=="function"){A.callback=null,V=A.priorityLevel;var qt=zt(A.expirationTime<=F);if(F=r.unstable_now(),typeof qt=="function"){A.callback=qt,Ut(F),et=!0;break e}A===i(v)&&s(v),Ut(F)}else s(v);A=i(v)}if(A!==null)et=!0;else{var O=i(_);O!==null&&Ce($t,O.startTime-F),et=!1}}break t}finally{A=null,V=ht,M=!1}et=void 0}}finally{et?j():Mt=!1}}}var j;if(typeof mt=="function")j=function(){mt(I)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ie=w.port2;w.port1.onmessage=I,j=function(){ie.postMessage(null)}}else j=function(){ot(I,0)};function Ce(F,et){D=ot(function(){F(r.unstable_now())},et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return V},r.unstable_next=function(F){switch(V){case 1:case 2:case 3:var et=3;break;default:et=V}var ht=V;V=et;try{return F()}finally{V=ht}},r.unstable_requestPaint=function(){W=!0},r.unstable_runWithPriority=function(F,et){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ht=V;V=F;try{return et()}finally{V=ht}},r.unstable_scheduleCallback=function(F,et,ht){var zt=r.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?zt+ht:zt):ht=zt,F){case 1:var qt=-1;break;case 2:qt=250;break;case 5:qt=1073741823;break;case 4:qt=1e4;break;default:qt=5e3}return qt=ht+qt,F={id:T++,callback:et,priorityLevel:F,startTime:ht,expirationTime:qt,sortIndex:-1},ht>zt?(F.sortIndex=ht,e(_,F),i(v)===null&&F===i(_)&&(J?(ct(D),D=-1):J=!0,Ce($t,ht-zt))):(F.sortIndex=qt,e(v,F),P||M||(P=!0,Mt||(Mt=!0,j()))),F},r.unstable_shouldYield=z,r.unstable_wrapCallback=function(F){var et=V;return function(){var ht=V;V=et;try{return F.apply(this,arguments)}finally{V=ht}}}})(zf)),zf}var by;function uT(){return by||(by=1,Mf.exports=oT()),Mf.exports}var Lf={exports:{}},Fe={};var Ry;function cT(){if(Ry)return Fe;Ry=1;var r=pd();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(v,_,T){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:v,containerInfo:_,implementation:T}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Fe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Fe.createPortal=function(v,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,T)},Fe.flushSync=function(v){var _=d.T,T=s.p;try{if(d.T=null,s.p=2,v)return v()}finally{d.T=_,s.p=T,s.d.f()}},Fe.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(v,_))},Fe.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},Fe.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var T=_.as,A=p(T,_.crossOrigin),V=typeof _.integrity=="string"?_.integrity:void 0,M=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?s.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:V,fetchPriority:M}):T==="script"&&s.d.X(v,{crossOrigin:A,integrity:V,fetchPriority:M,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Fe.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=p(_.as,_.crossOrigin);s.d.M(v,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(v)},Fe.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,A=p(T,_.crossOrigin);s.d.L(v,T,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Fe.preloadModule=function(v,_){if(typeof v=="string")if(_){var T=p(_.as,_.crossOrigin);s.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(v)},Fe.requestFormReset=function(v){s.d.r(v)},Fe.unstable_batchedUpdates=function(v,_){return v(_)},Fe.useFormState=function(v,_,T){return d.H.useFormState(v,_,T)},Fe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Fe.version="19.2.3",Fe}var wy;function hT(){if(wy)return Lf.exports;wy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Lf.exports=cT(),Lf.exports}var Cy;function fT(){if(Cy)return kl;Cy=1;var r=uT(),e=pd(),i=hT();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(h(t)!==t)throw Error(s(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return v(c),t;if(f===l)return v(c),n;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=c,l=f;else{for(var g=!1,E=c.child;E;){if(E===a){g=!0,a=c,l=f;break}if(E===l){g=!0,l=c,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,l=c;break}if(E===l){g=!0,l=f,a=c;break}E=E.sibling}if(!g)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function T(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=T(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,V=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),ot=Symbol.for("react.profiler"),ct=Symbol.for("react.consumer"),mt=Symbol.for("react.context"),Ut=Symbol.for("react.forward_ref"),$t=Symbol.for("react.suspense"),Mt=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function ie(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case J:return"Fragment";case ot:return"Profiler";case W:return"StrictMode";case $t:return"Suspense";case Mt:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case P:return"Portal";case mt:return t.displayName||"Context";case ct:return(t._context.displayName||"Context")+".Consumer";case Ut:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return n=t.displayName||null,n!==null?n:ie(t.type)||"Memo";case b:n=t._payload,t=t._init;try{return ie(t(n))}catch{}}return null}var Ce=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},zt=[],qt=-1;function O(t){return{current:t}}function X(t){0>qt||(t.current=zt[qt],zt[qt]=null,qt--)}function nt(t,n){qt++,zt[qt]=t.current,t.current=n}var at=O(null),pt=O(null),St=O(null),Nt=O(null);function xe(t,n){switch(nt(St,n),nt(pt,t),nt(at,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?qp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=qp(n),t=Hp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}X(at),nt(at,t)}function ae(){X(at),X(pt),X(St)}function Ba(t){t.memoizedState!==null&&nt(Nt,t);var n=at.current,a=Hp(n,t.type);n!==a&&(nt(pt,t),nt(at,a))}function Cs(t){pt.current===t&&(X(at),X(pt)),Nt.current===t&&(X(Nt),zl._currentValue=ht)}var xs,Ds;function Yn(t){if(xs===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);xs=n&&n[1]||"",Ds=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xs+t+Ds}var zr=!1;function ka(t,n){if(!t||zr)return"";zr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(G){var q=G}Reflect.construct(t,[],K)}else{try{K.call()}catch(G){q=G}t.call(K.prototype)}}else{try{throw Error()}catch(G){q=G}(K=t())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(G){if(G&&q&&typeof G.stack=="string")return[G.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var C=g.split(`
`),k=E.split(`
`);for(c=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;if(l===C.length||c===k.length)for(l=C.length-1,c=k.length-1;1<=l&&0<=c&&C[l]!==k[c];)c--;for(;1<=l&&0<=c;l--,c--)if(C[l]!==k[c]){if(l!==1||c!==1)do if(l--,c--,0>c||C[l]!==k[c]){var Q=`
`+C[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=c);break}}}finally{zr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Yn(a):""}function Lr(t,n){switch(t.tag){case 26:case 27:case 5:return Yn(t.type);case 16:return Yn("Lazy");case 13:return t.child!==n&&n!==null?Yn("Suspense Fallback"):Yn("Suspense");case 19:return Yn("SuspenseList");case 0:case 15:return ka(t.type,!1);case 11:return ka(t.type.render,!1);case 1:return ka(t.type,!0);case 31:return Yn("Activity");default:return""}}function jr(t){try{var n="",a=null;do n+=Lr(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ge=Object.prototype.hasOwnProperty,De=r.unstable_scheduleCallback,Fi=r.unstable_cancelCallback,Ic=r.unstable_shouldYield,ho=r.unstable_requestPaint,Ze=r.unstable_now,Pa=r.unstable_getCurrentPriorityLevel,Ur=r.unstable_ImmediatePriority,Br=r.unstable_UserBlockingPriority,Yi=r.unstable_NormalPriority,Oc=r.unstable_LowPriority,fo=r.unstable_IdlePriority,mo=r.log,go=r.unstable_setDisableYieldValue,Mn=null,je=null;function En(t){if(typeof mo=="function"&&go(t),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(Mn,t)}catch{}}var ce=Math.clz32?Math.clz32:yo,po=Math.log,Vs=Math.LN2;function yo(t){return t>>>=0,t===0?32:31-(po(t)/Vs|0)|0}var Kn=256,qa=262144,pe=4194304;function Xn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Zn(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Xn(l):(g&=E,g!==0?c=Xn(g):a||(a=E&~t,a!==0&&(c=Xn(a))))):(E=l&~f,E!==0?c=Xn(E):g!==0?c=Xn(g):a||(a=l&~t,a!==0&&(c=Xn(a)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:c}function zn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Mc(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _o(){var t=pe;return pe<<=1,(pe&62914560)===0&&(pe=4194304),t}function Jn(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Ha(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function zc(t,n,a,l,c,f){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,k=t.hiddenUpdates;for(a=g&~a;0<a;){var Q=31-ce(a),K=1<<Q;E[Q]=0,C[Q]=-1;var q=k[Q];if(q!==null)for(k[Q]=null,Q=0;Q<q.length;Q++){var G=q[Q];G!==null&&(G.lane&=-536870913)}a&=~K}l!==0&&Ga(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function Ga(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-ce(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function kr(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-ce(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function Pr(t,n){var a=n&-n;return a=(a&42)!==0?1:Qa(a),(a&(t.suspendedLanes|n))!==0?0:a}function Qa(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ai(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function vo(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:fy(t.type))}function Ln(t,n){var a=et.p;try{return et.p=t,n()}finally{et.p=a}}var jn=Math.random().toString(36).slice(2),ye="__reactFiber$"+jn,Oe="__reactProps$"+jn,$n="__reactContainer$"+jn,Ns="__reactEvents$"+jn,Lc="__reactListeners$"+jn,Eo="__reactHandles$"+jn,To="__reactResources$"+jn,Wn="__reactMarker$"+jn;function Is(t){delete t[ye],delete t[Oe],delete t[Ns],delete t[Lc],delete t[Eo]}function ti(t){var n=t[ye];if(n)return n;for(var a=t.parentNode;a;){if(n=a[$n]||a[ye]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Zp(t);t!==null;){if(a=t[ye])return a;t=Zp(t)}return n}t=a,a=t.parentNode}return null}function Tn(t){if(t=t[ye]||t[$n]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function cn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function ei(t){var n=t[To];return n||(n=t[To]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function _e(t){t[Wn]=!0}var qr=new Set,Hr={};function ni(t,n){ii(t,n),ii(t+"Capture",n)}function ii(t,n){for(Hr[t]=n,t=0;t<n.length;t++)qr.add(n[t])}var Gr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qr={},Fr={};function So(t){return ge.call(Fr,t)?!0:ge.call(Qr,t)?!1:Gr.test(t)?Fr[t]=!0:(Qr[t]=!0,!1)}function Os(t,n,a){if(So(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function hn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function ve(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Me(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ki(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Yr(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ht(t){if(!t._valueTracker){var n=Ki(t)?"checked":"value";t._valueTracker=Yr(t,n,""+t[n])}}function Fa(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Ki(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function ai(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ya=/[\n"\\]/g;function tn(t){return t.replace(Ya,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ms(t,n,a,l,c,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Me(n)):t.value!==""+Me(n)&&(t.value=""+Me(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Kr(t,g,Me(n)):a!=null?Kr(t,g,Me(a)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Me(E):t.removeAttribute("name")}function Ao(t,n,a,l,c,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ht(t);return}a=a!=null?""+Me(a):"",n=n!=null?""+Me(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Ht(t)}function Kr(t,n,a){n==="number"&&ai(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Xi(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Me(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function bo(t,n,a){if(n!=null&&(n=""+Me(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Me(a):""}function Zi(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(Ce(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Me(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ht(t)}function en(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Ro=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xr(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Ro.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Zr(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&Xr(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Xr(t,f,n[f])}function zs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ji=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ls(t){return Ji.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Un(){}var Jr=null;function Sn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $i=null,si=null;function Ka(t){var n=Tn(t);if(n&&(t=n.stateNode)){var a=t[Oe]||null;t:switch(t=n.stateNode,n.type){case"input":if(Ms(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+tn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[Oe]||null;if(!c)throw Error(s(90));Ms(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Fa(l)}break t;case"textarea":bo(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Xi(t,!!a.multiple,n,!1)}}}var js=!1;function Wi(t,n,a){if(js)return t(n,a);js=!0;try{var l=t(n);return l}finally{if(js=!1,($i!==null||si!==null)&&(vu(),$i&&(n=$i,t=si,si=$i=null,Ka(n),t)))for(n=0;n<t.length;n++)Ka(t[n])}}function Bn(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Oe]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xa=!1;if(An)try{var Ft={};Object.defineProperty(Ft,"passive",{get:function(){Xa=!0}}),window.addEventListener("test",Ft,Ft),window.removeEventListener("test",Ft,Ft)}catch{Xa=!1}var ri=null,$r=null,Za=null;function Wr(){if(Za)return Za;var t,n=$r,a=n.length,l,c="value"in ri?ri.value:ri.textContent,f=c.length;for(t=0;t<a&&n[t]===c[t];t++);var g=a-t;for(l=1;l<=g&&n[a-l]===c[f-l];l++);return Za=c.slice(t,1<l?1-l:void 0)}function Ja(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function bi(){return!0}function kn(){return!1}function Ue(t){function n(a,l,c,f,g){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?bi:kn,this.isPropagationStopped=kn,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=bi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=bi)},persist:function(){},isPersistent:bi}),n}var Ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},li=Ue(Ri),ta=A({},Ri,{view:0,detail:0}),tl=Ue(ta),ea,Us,oi,Bs=A({},ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:na,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==oi&&(oi&&t.type==="mousemove"?(ea=t.screenX-oi.screenX,Us=t.screenY-oi.screenY):Us=ea=0,oi=t),ea)},movementY:function(t){return"movementY"in t?t.movementY:Us}}),el=Ue(Bs),$a=A({},Bs,{dataTransfer:0}),Co=Ue($a),xo=A({},ta,{relatedTarget:0}),Wa=Ue(xo),nl=A({},Ri,{animationName:0,elapsedTime:0,pseudoElement:0}),Do=Ue(nl),ks=A({},Ri,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Vo=Ue(ks),No=A({},Ri,{data:0}),ui=Ue(No),Io={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Oo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zo(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Mo[t])?!!n[t]:!1}function na(){return zo}var Je=A({},ta,{key:function(t){if(t.key){var n=Io[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ja(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Oo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:na,charCode:function(t){return t.type==="keypress"?Ja(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ja(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Lo=Ue(Je),jo=A({},Bs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wi=Ue(jo),u=A({},ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:na}),m=Ue(u),y=A({},Ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Ue(y),U=A({},Bs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=Ue(U),tt=A({},Ri,{newState:0,oldState:0}),Et=Ue(tt),he=[9,13,27,32],Bt=An&&"CompositionEvent"in window,se=null;An&&"documentMode"in document&&(se=document.documentMode);var bn=An&&"TextEvent"in window&&!se,ci=An&&(!Bt||se&&8<se&&11>=se),Pn=" ",qn=!1;function ts(t,n){switch(t){case"keyup":return he.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ps(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qs=!1;function D0(t,n){switch(t){case"compositionend":return Ps(n);case"keypress":return n.which!==32?null:(qn=!0,Pn);case"textInput":return t=n.data,t===Pn&&qn?null:t;default:return null}}function V0(t,n){if(qs)return t==="compositionend"||!Bt&&ts(t,n)?(t=Wr(),Za=$r=ri=null,qs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ci&&n.locale!=="ko"?null:n.data;default:return null}}var N0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wd(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!N0[t.type]:n==="textarea"}function tm(t,n,a,l){$i?si?si.push(l):si=[l]:$i=l,n=wu(n,"onChange"),0<n.length&&(a=new li("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var il=null,al=null;function I0(t){Lp(t,0)}function Uo(t){var n=cn(t);if(Fa(n))return t}function em(t,n){if(t==="change")return n}var nm=!1;if(An){var jc;if(An){var Uc="oninput"in document;if(!Uc){var im=document.createElement("div");im.setAttribute("oninput","return;"),Uc=typeof im.oninput=="function"}jc=Uc}else jc=!1;nm=jc&&(!document.documentMode||9<document.documentMode)}function am(){il&&(il.detachEvent("onpropertychange",sm),al=il=null)}function sm(t){if(t.propertyName==="value"&&Uo(al)){var n=[];tm(n,al,t,Sn(t)),Wi(I0,n)}}function O0(t,n,a){t==="focusin"?(am(),il=n,al=a,il.attachEvent("onpropertychange",sm)):t==="focusout"&&am()}function M0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Uo(al)}function z0(t,n){if(t==="click")return Uo(n)}function L0(t,n){if(t==="input"||t==="change")return Uo(n)}function j0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var fn=typeof Object.is=="function"?Object.is:j0;function sl(t,n){if(fn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!ge.call(n,c)||!fn(t[c],n[c]))return!1}return!0}function rm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function lm(t,n){var a=rm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=rm(a)}}function om(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?om(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function um(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ai(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=ai(t.document)}return n}function Bc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var U0=An&&"documentMode"in document&&11>=document.documentMode,Hs=null,kc=null,rl=null,Pc=!1;function cm(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Pc||Hs==null||Hs!==ai(l)||(l=Hs,"selectionStart"in l&&Bc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),rl&&sl(rl,l)||(rl=l,l=wu(kc,"onSelect"),0<l.length&&(n=new li("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Hs)))}function es(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Gs={animationend:es("Animation","AnimationEnd"),animationiteration:es("Animation","AnimationIteration"),animationstart:es("Animation","AnimationStart"),transitionrun:es("Transition","TransitionRun"),transitionstart:es("Transition","TransitionStart"),transitioncancel:es("Transition","TransitionCancel"),transitionend:es("Transition","TransitionEnd")},qc={},hm={};An&&(hm=document.createElement("div").style,"AnimationEvent"in window||(delete Gs.animationend.animation,delete Gs.animationiteration.animation,delete Gs.animationstart.animation),"TransitionEvent"in window||delete Gs.transitionend.transition);function ns(t){if(qc[t])return qc[t];if(!Gs[t])return t;var n=Gs[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in hm)return qc[t]=n[a];return t}var fm=ns("animationend"),dm=ns("animationiteration"),mm=ns("animationstart"),B0=ns("transitionrun"),k0=ns("transitionstart"),P0=ns("transitioncancel"),gm=ns("transitionend"),pm=new Map,Hc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hc.push("scrollEnd");function Hn(t,n){pm.set(t,n),ni(n,[t])}var Bo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Rn=[],Qs=0,Gc=0;function ko(){for(var t=Qs,n=Gc=Qs=0;n<t;){var a=Rn[n];Rn[n++]=null;var l=Rn[n];Rn[n++]=null;var c=Rn[n];Rn[n++]=null;var f=Rn[n];if(Rn[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}f!==0&&ym(a,c,f)}}function Po(t,n,a,l){Rn[Qs++]=t,Rn[Qs++]=n,Rn[Qs++]=a,Rn[Qs++]=l,Gc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Qc(t,n,a,l){return Po(t,n,a,l),qo(t)}function is(t,n){return Po(t,null,null,n),qo(t)}function ym(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-ce(a),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),f):null}function qo(t){if(50<xl)throw xl=0,tf=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Fs={};function q0(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(t,n,a,l){return new q0(t,n,a,l)}function Fc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ci(t,n){var a=t.alternate;return a===null?(a=dn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function _m(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Ho(t,n,a,l,c,f){var g=0;if(l=t,typeof t=="function")Fc(t)&&(g=1);else if(typeof t=="string")g=YE(t,a,at.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case x:return t=dn(31,a,n,c),t.elementType=x,t.lanes=f,t;case J:return as(a.children,c,f,n);case W:g=8,c|=24;break;case ot:return t=dn(12,a,n,c|2),t.elementType=ot,t.lanes=f,t;case $t:return t=dn(13,a,n,c),t.elementType=$t,t.lanes=f,t;case Mt:return t=dn(19,a,n,c),t.elementType=Mt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case mt:g=10;break t;case ct:g=9;break t;case Ut:g=11;break t;case D:g=14;break t;case b:g=16,l=null;break t}g=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=dn(g,a,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function as(t,n,a,l){return t=dn(7,t,l,n),t.lanes=a,t}function Yc(t,n,a){return t=dn(6,t,null,n),t.lanes=a,t}function vm(t){var n=dn(18,null,null,0);return n.stateNode=t,n}function Kc(t,n,a){return n=dn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Em=new WeakMap;function wn(t,n){if(typeof t=="object"&&t!==null){var a=Em.get(t);return a!==void 0?a:(n={value:t,source:n,stack:jr(n)},Em.set(t,n),n)}return{value:t,source:n,stack:jr(n)}}var Ys=[],Ks=0,Go=null,ll=0,Cn=[],xn=0,ia=null,hi=1,fi="";function xi(t,n){Ys[Ks++]=ll,Ys[Ks++]=Go,Go=t,ll=n}function Tm(t,n,a){Cn[xn++]=hi,Cn[xn++]=fi,Cn[xn++]=ia,ia=t;var l=hi;t=fi;var c=32-ce(l)-1;l&=~(1<<c),a+=1;var f=32-ce(n)+c;if(30<f){var g=c-c%5;f=(l&(1<<g)-1).toString(32),l>>=g,c-=g,hi=1<<32-ce(n)+c|a<<c|l,fi=f+t}else hi=1<<f|a<<c|l,fi=t}function Xc(t){t.return!==null&&(xi(t,1),Tm(t,1,0))}function Zc(t){for(;t===Go;)Go=Ys[--Ks],Ys[Ks]=null,ll=Ys[--Ks],Ys[Ks]=null;for(;t===ia;)ia=Cn[--xn],Cn[xn]=null,fi=Cn[--xn],Cn[xn]=null,hi=Cn[--xn],Cn[xn]=null}function Sm(t,n){Cn[xn++]=hi,Cn[xn++]=fi,Cn[xn++]=ia,hi=n.id,fi=n.overflow,ia=t}var Be=null,Wt=null,Vt=!1,aa=null,Dn=!1,Jc=Error(s(519));function sa(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ol(wn(n,t)),Jc}function Am(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[ye]=t,n[Oe]=l,a){case"dialog":Rt("cancel",n),Rt("close",n);break;case"iframe":case"object":case"embed":Rt("load",n);break;case"video":case"audio":for(a=0;a<Vl.length;a++)Rt(Vl[a],n);break;case"source":Rt("error",n);break;case"img":case"image":case"link":Rt("error",n),Rt("load",n);break;case"details":Rt("toggle",n);break;case"input":Rt("invalid",n),Ao(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Rt("invalid",n);break;case"textarea":Rt("invalid",n),Zi(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||kp(n.textContent,a)?(l.popover!=null&&(Rt("beforetoggle",n),Rt("toggle",n)),l.onScroll!=null&&Rt("scroll",n),l.onScrollEnd!=null&&Rt("scrollend",n),l.onClick!=null&&(n.onclick=Un),n=!0):n=!1,n||sa(t,!0)}function bm(t){for(Be=t.return;Be;)switch(Be.tag){case 5:case 31:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:Be=Be.return}}function Xs(t){if(t!==Be)return!1;if(!Vt)return bm(t),Vt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||pf(t.type,t.memoizedProps)),a=!a),a&&Wt&&sa(t),bm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Wt=Xp(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Wt=Xp(t)}else n===27?(n=Wt,va(t.type)?(t=Tf,Tf=null,Wt=t):Wt=n):Wt=Be?Nn(t.stateNode.nextSibling):null;return!0}function ss(){Wt=Be=null,Vt=!1}function $c(){var t=aa;return t!==null&&(rn===null?rn=t:rn.push.apply(rn,t),aa=null),t}function ol(t){aa===null?aa=[t]:aa.push(t)}var Wc=O(null),rs=null,Di=null;function ra(t,n,a){nt(Wc,n._currentValue),n._currentValue=a}function Vi(t){t._currentValue=Wc.current,X(Wc)}function th(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function eh(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),th(f.return,a,t),l||(g=null);break t}f=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(s(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),th(g,a,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function Zs(t,n,a,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var E=c.type;fn(c.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(c===Nt.current){if(g=c.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(zl):t=[zl])}c=c.return}t!==null&&eh(n,t,a,l),n.flags|=262144}function Qo(t){for(t=t.firstContext;t!==null;){if(!fn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ls(t){rs=t,Di=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ke(t){return Rm(rs,t)}function Fo(t,n){return rs===null&&ls(t),Rm(t,n)}function Rm(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Di===null){if(t===null)throw Error(s(308));Di=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Di=Di.next=n;return a}var H0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},G0=r.unstable_scheduleCallback,Q0=r.unstable_NormalPriority,Ee={$$typeof:mt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nh(){return{controller:new H0,data:new Map,refCount:0}}function ul(t){t.refCount--,t.refCount===0&&G0(Q0,function(){t.controller.abort()})}var cl=null,ih=0,Js=0,$s=null;function F0(t,n){if(cl===null){var a=cl=[];ih=0,Js=lf(),$s={status:"pending",value:void 0,then:function(l){a.push(l)}}}return ih++,n.then(wm,wm),n}function wm(){if(--ih===0&&cl!==null){$s!==null&&($s.status="fulfilled");var t=cl;cl=null,Js=0,$s=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function Y0(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var Cm=F.S;F.S=function(t,n){cp=Ze(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&F0(t,n),Cm!==null&&Cm(t,n)};var os=O(null);function ah(){var t=os.current;return t!==null?t:Jt.pooledCache}function Yo(t,n){n===null?nt(os,os.current):nt(os,n.pool)}function xm(){var t=ah();return t===null?null:{parent:Ee._currentValue,pool:t}}var Ws=Error(s(460)),sh=Error(s(474)),Ko=Error(s(542)),Xo={then:function(){}};function Dm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Vm(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Un,Un),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Im(t),t;default:if(typeof n.status=="string")n.then(Un,Un);else{if(t=Jt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Im(t),t}throw cs=n,Ws}}function us(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(cs=a,Ws):a}}var cs=null;function Nm(){if(cs===null)throw Error(s(459));var t=cs;return cs=null,t}function Im(t){if(t===Ws||t===Ko)throw Error(s(483))}var tr=null,hl=0;function Zo(t){var n=hl;return hl+=1,tr===null&&(tr=[]),Vm(tr,t,n)}function fl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Jo(t,n){throw n.$$typeof===V?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Om(t){function n(L,N){if(t){var B=L.deletions;B===null?(L.deletions=[N],L.flags|=16):B.push(N)}}function a(L,N){if(!t)return null;for(;N!==null;)n(L,N),N=N.sibling;return null}function l(L){for(var N=new Map;L!==null;)L.key!==null?N.set(L.key,L):N.set(L.index,L),L=L.sibling;return N}function c(L,N){return L=Ci(L,N),L.index=0,L.sibling=null,L}function f(L,N,B){return L.index=B,t?(B=L.alternate,B!==null?(B=B.index,B<N?(L.flags|=67108866,N):B):(L.flags|=67108866,N)):(L.flags|=1048576,N)}function g(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function E(L,N,B,Y){return N===null||N.tag!==6?(N=Yc(B,L.mode,Y),N.return=L,N):(N=c(N,B),N.return=L,N)}function C(L,N,B,Y){var ut=B.type;return ut===J?Q(L,N,B.props.children,Y,B.key):N!==null&&(N.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===b&&us(ut)===N.type)?(N=c(N,B.props),fl(N,B),N.return=L,N):(N=Ho(B.type,B.key,B.props,null,L.mode,Y),fl(N,B),N.return=L,N)}function k(L,N,B,Y){return N===null||N.tag!==4||N.stateNode.containerInfo!==B.containerInfo||N.stateNode.implementation!==B.implementation?(N=Kc(B,L.mode,Y),N.return=L,N):(N=c(N,B.children||[]),N.return=L,N)}function Q(L,N,B,Y,ut){return N===null||N.tag!==7?(N=as(B,L.mode,Y,ut),N.return=L,N):(N=c(N,B),N.return=L,N)}function K(L,N,B){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Yc(""+N,L.mode,B),N.return=L,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case M:return B=Ho(N.type,N.key,N.props,null,L.mode,B),fl(B,N),B.return=L,B;case P:return N=Kc(N,L.mode,B),N.return=L,N;case b:return N=us(N),K(L,N,B)}if(Ce(N)||j(N))return N=as(N,L.mode,B,null),N.return=L,N;if(typeof N.then=="function")return K(L,Zo(N),B);if(N.$$typeof===mt)return K(L,Fo(L,N),B);Jo(L,N)}return null}function q(L,N,B,Y){var ut=N!==null?N.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ut!==null?null:E(L,N,""+B,Y);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case M:return B.key===ut?C(L,N,B,Y):null;case P:return B.key===ut?k(L,N,B,Y):null;case b:return B=us(B),q(L,N,B,Y)}if(Ce(B)||j(B))return ut!==null?null:Q(L,N,B,Y,null);if(typeof B.then=="function")return q(L,N,Zo(B),Y);if(B.$$typeof===mt)return q(L,N,Fo(L,B),Y);Jo(L,B)}return null}function G(L,N,B,Y,ut){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return L=L.get(B)||null,E(N,L,""+Y,ut);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case M:return L=L.get(Y.key===null?B:Y.key)||null,C(N,L,Y,ut);case P:return L=L.get(Y.key===null?B:Y.key)||null,k(N,L,Y,ut);case b:return Y=us(Y),G(L,N,B,Y,ut)}if(Ce(Y)||j(Y))return L=L.get(B)||null,Q(N,L,Y,ut,null);if(typeof Y.then=="function")return G(L,N,B,Zo(Y),ut);if(Y.$$typeof===mt)return G(L,N,B,Fo(N,Y),ut);Jo(N,Y)}return null}function st(L,N,B,Y){for(var ut=null,Lt=null,rt=N,At=N=0,Ct=null;rt!==null&&At<B.length;At++){rt.index>At?(Ct=rt,rt=null):Ct=rt.sibling;var jt=q(L,rt,B[At],Y);if(jt===null){rt===null&&(rt=Ct);break}t&&rt&&jt.alternate===null&&n(L,rt),N=f(jt,N,At),Lt===null?ut=jt:Lt.sibling=jt,Lt=jt,rt=Ct}if(At===B.length)return a(L,rt),Vt&&xi(L,At),ut;if(rt===null){for(;At<B.length;At++)rt=K(L,B[At],Y),rt!==null&&(N=f(rt,N,At),Lt===null?ut=rt:Lt.sibling=rt,Lt=rt);return Vt&&xi(L,At),ut}for(rt=l(rt);At<B.length;At++)Ct=G(rt,L,At,B[At],Y),Ct!==null&&(t&&Ct.alternate!==null&&rt.delete(Ct.key===null?At:Ct.key),N=f(Ct,N,At),Lt===null?ut=Ct:Lt.sibling=Ct,Lt=Ct);return t&&rt.forEach(function(ba){return n(L,ba)}),Vt&&xi(L,At),ut}function dt(L,N,B,Y){if(B==null)throw Error(s(151));for(var ut=null,Lt=null,rt=N,At=N=0,Ct=null,jt=B.next();rt!==null&&!jt.done;At++,jt=B.next()){rt.index>At?(Ct=rt,rt=null):Ct=rt.sibling;var ba=q(L,rt,jt.value,Y);if(ba===null){rt===null&&(rt=Ct);break}t&&rt&&ba.alternate===null&&n(L,rt),N=f(ba,N,At),Lt===null?ut=ba:Lt.sibling=ba,Lt=ba,rt=Ct}if(jt.done)return a(L,rt),Vt&&xi(L,At),ut;if(rt===null){for(;!jt.done;At++,jt=B.next())jt=K(L,jt.value,Y),jt!==null&&(N=f(jt,N,At),Lt===null?ut=jt:Lt.sibling=jt,Lt=jt);return Vt&&xi(L,At),ut}for(rt=l(rt);!jt.done;At++,jt=B.next())jt=G(rt,L,At,jt.value,Y),jt!==null&&(t&&jt.alternate!==null&&rt.delete(jt.key===null?At:jt.key),N=f(jt,N,At),Lt===null?ut=jt:Lt.sibling=jt,Lt=jt);return t&&rt.forEach(function(aT){return n(L,aT)}),Vt&&xi(L,At),ut}function Xt(L,N,B,Y){if(typeof B=="object"&&B!==null&&B.type===J&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case M:t:{for(var ut=B.key;N!==null;){if(N.key===ut){if(ut=B.type,ut===J){if(N.tag===7){a(L,N.sibling),Y=c(N,B.props.children),Y.return=L,L=Y;break t}}else if(N.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===b&&us(ut)===N.type){a(L,N.sibling),Y=c(N,B.props),fl(Y,B),Y.return=L,L=Y;break t}a(L,N);break}else n(L,N);N=N.sibling}B.type===J?(Y=as(B.props.children,L.mode,Y,B.key),Y.return=L,L=Y):(Y=Ho(B.type,B.key,B.props,null,L.mode,Y),fl(Y,B),Y.return=L,L=Y)}return g(L);case P:t:{for(ut=B.key;N!==null;){if(N.key===ut)if(N.tag===4&&N.stateNode.containerInfo===B.containerInfo&&N.stateNode.implementation===B.implementation){a(L,N.sibling),Y=c(N,B.children||[]),Y.return=L,L=Y;break t}else{a(L,N);break}else n(L,N);N=N.sibling}Y=Kc(B,L.mode,Y),Y.return=L,L=Y}return g(L);case b:return B=us(B),Xt(L,N,B,Y)}if(Ce(B))return st(L,N,B,Y);if(j(B)){if(ut=j(B),typeof ut!="function")throw Error(s(150));return B=ut.call(B),dt(L,N,B,Y)}if(typeof B.then=="function")return Xt(L,N,Zo(B),Y);if(B.$$typeof===mt)return Xt(L,N,Fo(L,B),Y);Jo(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,N!==null&&N.tag===6?(a(L,N.sibling),Y=c(N,B),Y.return=L,L=Y):(a(L,N),Y=Yc(B,L.mode,Y),Y.return=L,L=Y),g(L)):a(L,N)}return function(L,N,B,Y){try{hl=0;var ut=Xt(L,N,B,Y);return tr=null,ut}catch(rt){if(rt===Ws||rt===Ko)throw rt;var Lt=dn(29,rt,null,L.mode);return Lt.lanes=Y,Lt.return=L,Lt}}}var hs=Om(!0),Mm=Om(!1),la=!1;function rh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function oa(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ua(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(kt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=qo(t),ym(t,null,a),n}return Po(t,l,n,a),qo(t)}function dl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,kr(t,a)}}function oh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var uh=!1;function ml(){if(uh){var t=$s;if(t!==null)throw t}}function gl(t,n,a,l){uh=!1;var c=t.updateQueue;la=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var C=E,k=C.next;C.next=null,g===null?f=k:g.next=k,g=C;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==g&&(E===null?Q.firstBaseUpdate=k:E.next=k,Q.lastBaseUpdate=C))}if(f!==null){var K=c.baseState;g=0,Q=k=C=null,E=f;do{var q=E.lane&-536870913,G=q!==E.lane;if(G?(wt&q)===q:(l&q)===q){q!==0&&q===Js&&(uh=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var st=t,dt=E;q=n;var Xt=a;switch(dt.tag){case 1:if(st=dt.payload,typeof st=="function"){K=st.call(Xt,K,q);break t}K=st;break t;case 3:st.flags=st.flags&-65537|128;case 0:if(st=dt.payload,q=typeof st=="function"?st.call(Xt,K,q):st,q==null)break t;K=A({},K,q);break t;case 2:la=!0}}q=E.callback,q!==null&&(t.flags|=64,G&&(t.flags|=8192),G=c.callbacks,G===null?c.callbacks=[q]:G.push(q))}else G={lane:q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(k=Q=G,C=K):Q=Q.next=G,g|=q;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;G=E,E=G.next,G.next=null,c.lastBaseUpdate=G,c.shared.pending=null}}while(!0);Q===null&&(C=K),c.baseState=C,c.firstBaseUpdate=k,c.lastBaseUpdate=Q,f===null&&(c.shared.lanes=0),ma|=g,t.lanes=g,t.memoizedState=K}}function zm(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Lm(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)zm(a[t],n)}var er=O(null),$o=O(0);function jm(t,n){t=Bi,nt($o,t),nt(er,n),Bi=t|n.baseLanes}function ch(){nt($o,Bi),nt(er,er.current)}function hh(){Bi=$o.current,X(er),X($o)}var mn=O(null),Vn=null;function ca(t){var n=t.alternate;nt(fe,fe.current&1),nt(mn,t),Vn===null&&(n===null||er.current!==null||n.memoizedState!==null)&&(Vn=t)}function fh(t){nt(fe,fe.current),nt(mn,t),Vn===null&&(Vn=t)}function Um(t){t.tag===22?(nt(fe,fe.current),nt(mn,t),Vn===null&&(Vn=t)):ha()}function ha(){nt(fe,fe.current),nt(mn,mn.current)}function gn(t){X(mn),Vn===t&&(Vn=null),X(fe)}var fe=O(0);function Wo(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||vf(a)||Ef(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ni=0,Tt=null,Yt=null,Te=null,tu=!1,nr=!1,fs=!1,eu=0,pl=0,ir=null,K0=0;function oe(){throw Error(s(321))}function dh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!fn(t[a],n[a]))return!1;return!0}function mh(t,n,a,l,c,f){return Ni=f,Tt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=t===null||t.memoizedState===null?Tg:Dh,fs=!1,f=a(l,c),fs=!1,nr&&(f=km(n,a,l,c)),Bm(t),f}function Bm(t){F.H=vl;var n=Yt!==null&&Yt.next!==null;if(Ni=0,Te=Yt=Tt=null,tu=!1,pl=0,ir=null,n)throw Error(s(300));t===null||Se||(t=t.dependencies,t!==null&&Qo(t)&&(Se=!0))}function km(t,n,a,l){Tt=t;var c=0;do{if(nr&&(ir=null),pl=0,nr=!1,25<=c)throw Error(s(301));if(c+=1,Te=Yt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=Sg,f=n(a,l)}while(nr);return f}function X0(){var t=F.H,n=t.useState()[0];return n=typeof n.then=="function"?yl(n):n,t=t.useState()[0],(Yt!==null?Yt.memoizedState:null)!==t&&(Tt.flags|=1024),n}function gh(){var t=eu!==0;return eu=0,t}function ph(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function yh(t){if(tu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}tu=!1}Ni=0,Te=Yt=Tt=null,nr=!1,pl=eu=0,ir=null}function $e(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?Tt.memoizedState=Te=t:Te=Te.next=t,Te}function de(){if(Yt===null){var t=Tt.alternate;t=t!==null?t.memoizedState:null}else t=Yt.next;var n=Te===null?Tt.memoizedState:Te.next;if(n!==null)Te=n,Yt=t;else{if(t===null)throw Tt.alternate===null?Error(s(467)):Error(s(310));Yt=t,t={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},Te===null?Tt.memoizedState=Te=t:Te=Te.next=t}return Te}function nu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yl(t){var n=pl;return pl+=1,ir===null&&(ir=[]),t=Vm(ir,t,n),n=Tt,(Te===null?n.memoizedState:Te.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Tg:Dh),t}function iu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return yl(t);if(t.$$typeof===mt)return ke(t)}throw Error(s(438,String(t)))}function _h(t){var n=null,a=Tt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Tt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=nu(),Tt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=z;return n.index++,a}function Ii(t,n){return typeof n=="function"?n(t):n}function au(t){var n=de();return vh(n,Yt,t)}function vh(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=g=null,C=null,k=n,Q=!1;do{var K=k.lane&-536870913;if(K!==k.lane?(wt&K)===K:(Ni&K)===K){var q=k.revertLane;if(q===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),K===Js&&(Q=!0);else if((Ni&q)===q){k=k.next,q===Js&&(Q=!0);continue}else K={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},C===null?(E=C=K,g=f):C=C.next=K,Tt.lanes|=q,ma|=q;K=k.action,fs&&a(f,K),f=k.hasEagerState?k.eagerState:a(f,K)}else q={lane:K,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},C===null?(E=C=q,g=f):C=C.next=q,Tt.lanes|=K,ma|=K;k=k.next}while(k!==null&&k!==n);if(C===null?g=f:C.next=E,!fn(f,t.memoizedState)&&(Se=!0,Q&&(a=$s,a!==null)))throw a;t.memoizedState=f,t.baseState=g,t.baseQueue=C,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Eh(t){var n=de(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var g=c=c.next;do f=t(f,g.action),g=g.next;while(g!==c);fn(f,n.memoizedState)||(Se=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function Pm(t,n,a){var l=Tt,c=de(),f=Vt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var g=!fn((Yt||c).memoizedState,a);if(g&&(c.memoizedState=a,Se=!0),c=c.queue,Ah(Gm.bind(null,l,c,t),[t]),c.getSnapshot!==n||g||Te!==null&&Te.memoizedState.tag&1){if(l.flags|=2048,ar(9,{destroy:void 0},Hm.bind(null,l,c,a,n),null),Jt===null)throw Error(s(349));f||(Ni&127)!==0||qm(l,n,a)}return a}function qm(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Tt.updateQueue,n===null?(n=nu(),Tt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Hm(t,n,a,l){n.value=a,n.getSnapshot=l,Qm(n)&&Fm(t)}function Gm(t,n,a){return a(function(){Qm(n)&&Fm(t)})}function Qm(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!fn(t,a)}catch{return!0}}function Fm(t){var n=is(t,2);n!==null&&ln(n,t,2)}function Th(t){var n=$e();if(typeof t=="function"){var a=t;if(t=a(),fs){En(!0);try{a()}finally{En(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:t},n}function Ym(t,n,a,l){return t.baseState=a,vh(t,Yt,typeof l=="function"?l:Ii)}function Z0(t,n,a,l,c){if(lu(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};F.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,Km(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Km(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=F.T,g={};F.T=g;try{var E=a(c,l),C=F.S;C!==null&&C(g,E),Xm(t,n,E)}catch(k){Sh(t,n,k)}finally{f!==null&&g.types!==null&&(f.types=g.types),F.T=f}}else try{f=a(c,l),Xm(t,n,f)}catch(k){Sh(t,n,k)}}function Xm(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Zm(t,n,l)},function(l){return Sh(t,n,l)}):Zm(t,n,a)}function Zm(t,n,a){n.status="fulfilled",n.value=a,Jm(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Km(t,a)))}function Sh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Jm(n),n=n.next;while(n!==l)}t.action=null}function Jm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function $m(t,n){return n}function Wm(t,n){if(Vt){var a=Jt.formState;if(a!==null){t:{var l=Tt;if(Vt){if(Wt){e:{for(var c=Wt,f=Dn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Nn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){Wt=Nn(c.nextSibling),l=c.data==="F!";break t}}sa(l)}l=!1}l&&(n=a[0])}}return a=$e(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$m,lastRenderedState:n},a.queue=l,a=_g.bind(null,Tt,l),l.dispatch=a,l=Th(!1),f=xh.bind(null,Tt,!1,l.queue),l=$e(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=Z0.bind(null,Tt,c,f,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function tg(t){var n=de();return eg(n,Yt,t)}function eg(t,n,a){if(n=vh(t,n,$m)[0],t=au(Ii)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=yl(n)}catch(g){throw g===Ws?Ko:g}else l=n;n=de();var c=n.queue,f=c.dispatch;return a!==n.memoizedState&&(Tt.flags|=2048,ar(9,{destroy:void 0},J0.bind(null,c,a),null)),[l,f,t]}function J0(t,n){t.action=n}function ng(t){var n=de(),a=Yt;if(a!==null)return eg(n,a,t);de(),n=n.memoizedState,a=de();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function ar(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Tt.updateQueue,n===null&&(n=nu(),Tt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function ig(){return de().memoizedState}function su(t,n,a,l){var c=$e();Tt.flags|=t,c.memoizedState=ar(1|n,{destroy:void 0},a,l===void 0?null:l)}function ru(t,n,a,l){var c=de();l=l===void 0?null:l;var f=c.memoizedState.inst;Yt!==null&&l!==null&&dh(l,Yt.memoizedState.deps)?c.memoizedState=ar(n,f,a,l):(Tt.flags|=t,c.memoizedState=ar(1|n,f,a,l))}function ag(t,n){su(8390656,8,t,n)}function Ah(t,n){ru(2048,8,t,n)}function $0(t){Tt.flags|=4;var n=Tt.updateQueue;if(n===null)n=nu(),Tt.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function sg(t){var n=de().memoizedState;return $0({ref:n,nextImpl:t}),function(){if((kt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function rg(t,n){return ru(4,2,t,n)}function lg(t,n){return ru(4,4,t,n)}function og(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function ug(t,n,a){a=a!=null?a.concat([t]):null,ru(4,4,og.bind(null,n,t),a)}function bh(){}function cg(t,n){var a=de();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&dh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function hg(t,n){var a=de();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&dh(n,l[1]))return l[0];if(l=t(),fs){En(!0);try{t()}finally{En(!1)}}return a.memoizedState=[l,n],l}function Rh(t,n,a){return a===void 0||(Ni&1073741824)!==0&&(wt&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=fp(),Tt.lanes|=t,ma|=t,a)}function fg(t,n,a,l){return fn(a,n)?a:er.current!==null?(t=Rh(t,a,l),fn(t,n)||(Se=!0),t):(Ni&42)===0||(Ni&1073741824)!==0&&(wt&261930)===0?(Se=!0,t.memoizedState=a):(t=fp(),Tt.lanes|=t,ma|=t,n)}function dg(t,n,a,l,c){var f=et.p;et.p=f!==0&&8>f?f:8;var g=F.T,E={};F.T=E,xh(t,!1,n,a);try{var C=c(),k=F.S;if(k!==null&&k(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Q=Y0(C,l);_l(t,n,Q,_n(t))}else _l(t,n,l,_n(t))}catch(K){_l(t,n,{then:function(){},status:"rejected",reason:K},_n())}finally{et.p=f,g!==null&&E.types!==null&&(g.types=E.types),F.T=g}}function W0(){}function wh(t,n,a,l){if(t.tag!==5)throw Error(s(476));var c=mg(t).queue;dg(t,c,n,ht,a===null?W0:function(){return gg(t),a(l)})}function mg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:ht},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function gg(t){var n=mg(t);n.next===null&&(n=t.alternate.memoizedState),_l(t,n.next.queue,{},_n())}function Ch(){return ke(zl)}function pg(){return de().memoizedState}function yg(){return de().memoizedState}function tE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=_n();t=oa(a);var l=ua(n,t,a);l!==null&&(ln(l,n,a),dl(l,n,a)),n={cache:nh()},t.payload=n;return}n=n.return}}function eE(t,n,a){var l=_n();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},lu(t)?vg(n,a):(a=Qc(t,n,a,l),a!==null&&(ln(a,t,l),Eg(a,n,l)))}function _g(t,n,a){var l=_n();_l(t,n,a,l)}function _l(t,n,a,l){var c={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(lu(t))vg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,a);if(c.hasEagerState=!0,c.eagerState=E,fn(E,g))return Po(t,n,c,0),Jt===null&&ko(),!1}catch{}if(a=Qc(t,n,c,l),a!==null)return ln(a,t,l),Eg(a,n,l),!0}return!1}function xh(t,n,a,l){if(l={lane:2,revertLane:lf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},lu(t)){if(n)throw Error(s(479))}else n=Qc(t,a,l,2),n!==null&&ln(n,t,2)}function lu(t){var n=t.alternate;return t===Tt||n!==null&&n===Tt}function vg(t,n){nr=tu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Eg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,kr(t,a)}}var vl={readContext:ke,use:iu,useCallback:oe,useContext:oe,useEffect:oe,useImperativeHandle:oe,useLayoutEffect:oe,useInsertionEffect:oe,useMemo:oe,useReducer:oe,useRef:oe,useState:oe,useDebugValue:oe,useDeferredValue:oe,useTransition:oe,useSyncExternalStore:oe,useId:oe,useHostTransitionStatus:oe,useFormState:oe,useActionState:oe,useOptimistic:oe,useMemoCache:oe,useCacheRefresh:oe};vl.useEffectEvent=oe;var Tg={readContext:ke,use:iu,useCallback:function(t,n){return $e().memoizedState=[t,n===void 0?null:n],t},useContext:ke,useEffect:ag,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,su(4194308,4,og.bind(null,n,t),a)},useLayoutEffect:function(t,n){return su(4194308,4,t,n)},useInsertionEffect:function(t,n){su(4,2,t,n)},useMemo:function(t,n){var a=$e();n=n===void 0?null:n;var l=t();if(fs){En(!0);try{t()}finally{En(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=$e();if(a!==void 0){var c=a(n);if(fs){En(!0);try{a(n)}finally{En(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=eE.bind(null,Tt,t),[l.memoizedState,t]},useRef:function(t){var n=$e();return t={current:t},n.memoizedState=t},useState:function(t){t=Th(t);var n=t.queue,a=_g.bind(null,Tt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:bh,useDeferredValue:function(t,n){var a=$e();return Rh(a,t,n)},useTransition:function(){var t=Th(!1);return t=dg.bind(null,Tt,t.queue,!0,!1),$e().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Tt,c=$e();if(Vt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Jt===null)throw Error(s(349));(wt&127)!==0||qm(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,ag(Gm.bind(null,l,f,t),[t]),l.flags|=2048,ar(9,{destroy:void 0},Hm.bind(null,l,f,a,n),null),a},useId:function(){var t=$e(),n=Jt.identifierPrefix;if(Vt){var a=fi,l=hi;a=(l&~(1<<32-ce(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=eu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=K0++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Ch,useFormState:Wm,useActionState:Wm,useOptimistic:function(t){var n=$e();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=xh.bind(null,Tt,!0,a),a.dispatch=n,[t,n]},useMemoCache:_h,useCacheRefresh:function(){return $e().memoizedState=tE.bind(null,Tt)},useEffectEvent:function(t){var n=$e(),a={impl:t};return n.memoizedState=a,function(){if((kt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Dh={readContext:ke,use:iu,useCallback:cg,useContext:ke,useEffect:Ah,useImperativeHandle:ug,useInsertionEffect:rg,useLayoutEffect:lg,useMemo:hg,useReducer:au,useRef:ig,useState:function(){return au(Ii)},useDebugValue:bh,useDeferredValue:function(t,n){var a=de();return fg(a,Yt.memoizedState,t,n)},useTransition:function(){var t=au(Ii)[0],n=de().memoizedState;return[typeof t=="boolean"?t:yl(t),n]},useSyncExternalStore:Pm,useId:pg,useHostTransitionStatus:Ch,useFormState:tg,useActionState:tg,useOptimistic:function(t,n){var a=de();return Ym(a,Yt,t,n)},useMemoCache:_h,useCacheRefresh:yg};Dh.useEffectEvent=sg;var Sg={readContext:ke,use:iu,useCallback:cg,useContext:ke,useEffect:Ah,useImperativeHandle:ug,useInsertionEffect:rg,useLayoutEffect:lg,useMemo:hg,useReducer:Eh,useRef:ig,useState:function(){return Eh(Ii)},useDebugValue:bh,useDeferredValue:function(t,n){var a=de();return Yt===null?Rh(a,t,n):fg(a,Yt.memoizedState,t,n)},useTransition:function(){var t=Eh(Ii)[0],n=de().memoizedState;return[typeof t=="boolean"?t:yl(t),n]},useSyncExternalStore:Pm,useId:pg,useHostTransitionStatus:Ch,useFormState:ng,useActionState:ng,useOptimistic:function(t,n){var a=de();return Yt!==null?Ym(a,Yt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:_h,useCacheRefresh:yg};Sg.useEffectEvent=sg;function Vh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:A({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Nh={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=_n(),c=oa(l);c.payload=n,a!=null&&(c.callback=a),n=ua(t,c,l),n!==null&&(ln(n,t,l),dl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=_n(),c=oa(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=ua(t,c,l),n!==null&&(ln(n,t,l),dl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=_n(),l=oa(a);l.tag=2,n!=null&&(l.callback=n),n=ua(t,l,a),n!==null&&(ln(n,t,a),dl(n,t,a))}};function Ag(t,n,a,l,c,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!sl(a,l)||!sl(c,f):!0}function bg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Nh.enqueueReplaceState(n,n.state,null)}function ds(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=A({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}function Rg(t){Bo(t)}function wg(t){console.error(t)}function Cg(t){Bo(t)}function ou(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function xg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Ih(t,n,a){return a=oa(a),a.tag=3,a.payload={element:null},a.callback=function(){ou(t,n)},a}function Dg(t){return t=oa(t),t.tag=3,t}function Vg(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){xg(n,a,l)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){xg(n,a,l),typeof c!="function"&&(ga===null?ga=new Set([this]):ga.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function nE(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Zs(n,a,c,!0),a=mn.current,a!==null){switch(a.tag){case 31:case 13:return Vn===null?Eu():a.alternate===null&&ue===0&&(ue=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===Xo?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),af(t,l,c)),!1;case 22:return a.flags|=65536,l===Xo?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),af(t,l,c)),!1}throw Error(s(435,a.tag))}return af(t,l,c),Eu(),!1}if(Vt)return n=mn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Jc&&(t=Error(s(422),{cause:l}),ol(wn(t,a)))):(l!==Jc&&(n=Error(s(423),{cause:l}),ol(wn(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=wn(l,a),c=Ih(t.stateNode,l,c),oh(t,c),ue!==4&&(ue=2)),!1;var f=Error(s(520),{cause:l});if(f=wn(f,a),Cl===null?Cl=[f]:Cl.push(f),ue!==4&&(ue=2),n===null)return!0;l=wn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=Ih(a.stateNode,l,t),oh(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ga===null||!ga.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=Dg(c),Vg(c,t,a,l),oh(a,c),!1}a=a.return}while(a!==null);return!1}var Oh=Error(s(461)),Se=!1;function Pe(t,n,a,l){n.child=t===null?Mm(n,null,a,l):hs(n,t.child,a,l)}function Ng(t,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return ls(n),l=mh(t,n,a,g,f,c),E=gh(),t!==null&&!Se?(ph(t,n,c),Oi(t,n,c)):(Vt&&E&&Xc(n),n.flags|=1,Pe(t,n,l,c),n.child)}function Ig(t,n,a,l,c){if(t===null){var f=a.type;return typeof f=="function"&&!Fc(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Og(t,n,f,l,c)):(t=Ho(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Ph(t,c)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:sl,a(g,l)&&t.ref===n.ref)return Oi(t,n,c)}return n.flags|=1,t=Ci(f,l),t.ref=n.ref,t.return=n,n.child=t}function Og(t,n,a,l,c){if(t!==null){var f=t.memoizedProps;if(sl(f,l)&&t.ref===n.ref)if(Se=!1,n.pendingProps=l=f,Ph(t,c))(t.flags&131072)!==0&&(Se=!0);else return n.lanes=t.lanes,Oi(t,n,c)}return Mh(t,n,a,l,c)}function Mg(t,n,a,l){var c=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,n.child=null;return zg(t,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Yo(n,f!==null?f.cachePool:null),f!==null?jm(n,f):ch(),Um(n);else return l=n.lanes=536870912,zg(t,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(Yo(n,f.cachePool),jm(n,f),ha(),n.memoizedState=null):(t!==null&&Yo(n,null),ch(),ha());return Pe(t,n,c,a),n.child}function El(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function zg(t,n,a,l,c){var f=ah();return f=f===null?null:{parent:Ee._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Yo(n,null),ch(),Um(n),t!==null&&Zs(t,n,l,!0),n.childLanes=c,null}function uu(t,n){return n=hu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Lg(t,n,a){return hs(n,t.child,null,a),t=uu(n,n.pendingProps),t.flags|=2,gn(n),n.memoizedState=null,t}function iE(t,n,a){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Vt){if(l.mode==="hidden")return t=uu(n,l),n.lanes=536870912,El(null,t);if(fh(n),(t=Wt)?(t=Kp(t,Dn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ia!==null?{id:hi,overflow:fi}:null,retryLane:536870912,hydrationErrors:null},a=vm(t),a.return=n,n.child=a,Be=n,Wt=null)):t=null,t===null)throw sa(n);return n.lanes=536870912,null}return uu(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(fh(n),c)if(n.flags&256)n.flags&=-257,n=Lg(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(Se||Zs(t,n,a,!1),c=(a&t.childLanes)!==0,Se||c){if(l=Jt,l!==null&&(g=Pr(l,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,is(t,g),ln(l,t,g),Oh;Eu(),n=Lg(t,n,a)}else t=f.treeContext,Wt=Nn(g.nextSibling),Be=n,Vt=!0,aa=null,Dn=!1,t!==null&&Sm(n,t),n=uu(n,l),n.flags|=4096;return n}return t=Ci(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function cu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Mh(t,n,a,l,c){return ls(n),a=mh(t,n,a,l,void 0,c),l=gh(),t!==null&&!Se?(ph(t,n,c),Oi(t,n,c)):(Vt&&l&&Xc(n),n.flags|=1,Pe(t,n,a,c),n.child)}function jg(t,n,a,l,c,f){return ls(n),n.updateQueue=null,a=km(n,l,a,c),Bm(t),l=gh(),t!==null&&!Se?(ph(t,n,f),Oi(t,n,f)):(Vt&&l&&Xc(n),n.flags|=1,Pe(t,n,a,f),n.child)}function Ug(t,n,a,l,c){if(ls(n),n.stateNode===null){var f=Fs,g=a.contextType;typeof g=="object"&&g!==null&&(f=ke(g)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Nh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},rh(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?ke(g):Fs,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Vh(n,a,g,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Nh.enqueueReplaceState(f,f.state,null),gl(n,l,f,c),ml(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,C=ds(a,E);f.props=C;var k=f.context,Q=a.contextType;g=Fs,typeof Q=="object"&&Q!==null&&(g=ke(Q));var K=a.getDerivedStateFromProps;Q=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||k!==g)&&bg(n,f,l,g),la=!1;var q=n.memoizedState;f.state=q,gl(n,l,f,c),ml(),k=n.memoizedState,E||q!==k||la?(typeof K=="function"&&(Vh(n,a,K,l),k=n.memoizedState),(C=la||Ag(n,a,C,l,q,k,g))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=k),f.props=l,f.state=k,f.context=g,l=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,lh(t,n),g=n.memoizedProps,Q=ds(a,g),f.props=Q,K=n.pendingProps,q=f.context,k=a.contextType,C=Fs,typeof k=="object"&&k!==null&&(C=ke(k)),E=a.getDerivedStateFromProps,(k=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==K||q!==C)&&bg(n,f,l,C),la=!1,q=n.memoizedState,f.state=q,gl(n,l,f,c),ml();var G=n.memoizedState;g!==K||q!==G||la||t!==null&&t.dependencies!==null&&Qo(t.dependencies)?(typeof E=="function"&&(Vh(n,a,E,l),G=n.memoizedState),(Q=la||Ag(n,a,Q,l,q,G,C)||t!==null&&t.dependencies!==null&&Qo(t.dependencies))?(k||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,G,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,G,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=G),f.props=l,f.state=G,f.context=C,l=Q):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,cu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=hs(n,t.child,null,c),n.child=hs(n,null,a,c)):Pe(t,n,a,c),n.memoizedState=f.state,t=n.child):t=Oi(t,n,c),t}function Bg(t,n,a,l){return ss(),n.flags|=256,Pe(t,n,a,l),n.child}var zh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lh(t){return{baseLanes:t,cachePool:xm()}}function jh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=yn),t}function kg(t,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(fe.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Vt){if(c?ca(n):ha(),(t=Wt)?(t=Kp(t,Dn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ia!==null?{id:hi,overflow:fi}:null,retryLane:536870912,hydrationErrors:null},a=vm(t),a.return=n,n.child=a,Be=n,Wt=null)):t=null,t===null)throw sa(n);return Ef(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,c?(ha(),c=n.mode,E=hu({mode:"hidden",children:E},c),l=as(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Lh(a),l.childLanes=jh(t,g,a),n.memoizedState=zh,El(null,l)):(ca(n),Uh(n,E))}var C=t.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(ca(n),n.flags&=-257,n=Bh(t,n,a)):n.memoizedState!==null?(ha(),n.child=t.child,n.flags|=128,n=null):(ha(),E=l.fallback,c=n.mode,l=hu({mode:"visible",children:l.children},c),E=as(E,c,a,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,hs(n,t.child,null,a),l=n.child,l.memoizedState=Lh(a),l.childLanes=jh(t,g,a),n.memoizedState=zh,n=El(null,l));else if(ca(n),Ef(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var k=g.dgst;g=k,l=Error(s(419)),l.stack="",l.digest=g,ol({value:l,source:null,stack:null}),n=Bh(t,n,a)}else if(Se||Zs(t,n,a,!1),g=(a&t.childLanes)!==0,Se||g){if(g=Jt,g!==null&&(l=Pr(g,a),l!==0&&l!==C.retryLane))throw C.retryLane=l,is(t,l),ln(g,t,l),Oh;vf(E)||Eu(),n=Bh(t,n,a)}else vf(E)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,Wt=Nn(E.nextSibling),Be=n,Vt=!0,aa=null,Dn=!1,t!==null&&Sm(n,t),n=Uh(n,l.children),n.flags|=4096);return n}return c?(ha(),E=l.fallback,c=n.mode,C=t.child,k=C.sibling,l=Ci(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,k!==null?E=Ci(k,E):(E=as(E,c,a,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,El(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Lh(a):(c=E.cachePool,c!==null?(C=Ee._currentValue,c=c.parent!==C?{parent:C,pool:C}:c):c=xm(),E={baseLanes:E.baseLanes|a,cachePool:c}),l.memoizedState=E,l.childLanes=jh(t,g,a),n.memoizedState=zh,El(t.child,l)):(ca(n),a=t.child,t=a.sibling,a=Ci(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function Uh(t,n){return n=hu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function hu(t,n){return t=dn(22,t,null,n),t.lanes=0,t}function Bh(t,n,a){return hs(n,t.child,null,a),t=Uh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Pg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),th(t.return,n,a)}function kh(t,n,a,l,c,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=a,g.tailMode=c,g.treeForkCount=f)}function qg(t,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var g=fe.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,nt(fe,g),Pe(t,n,l,a),l=Vt?ll:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Pg(t,a,n);else if(t.tag===19)Pg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&Wo(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),kh(n,!1,c,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Wo(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}kh(n,!0,a,null,f,l);break;case"together":kh(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Oi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),ma|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Zs(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=Ci(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Ci(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Ph(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Qo(t)))}function aE(t,n,a){switch(n.tag){case 3:xe(n,n.stateNode.containerInfo),ra(n,Ee,t.memoizedState.cache),ss();break;case 27:case 5:Ba(n);break;case 4:xe(n,n.stateNode.containerInfo);break;case 10:ra(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,fh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ca(n),n.flags|=128,null):(a&n.child.childLanes)!==0?kg(t,n,a):(ca(n),t=Oi(t,n,a),t!==null?t.sibling:null);ca(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Zs(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return qg(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),nt(fe,fe.current),l)break;return null;case 22:return n.lanes=0,Mg(t,n,a,n.pendingProps);case 24:ra(n,Ee,t.memoizedState.cache)}return Oi(t,n,a)}function Hg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Se=!0;else{if(!Ph(t,a)&&(n.flags&128)===0)return Se=!1,aE(t,n,a);Se=(t.flags&131072)!==0}else Se=!1,Vt&&(n.flags&1048576)!==0&&Tm(n,ll,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=us(n.elementType),n.type=t,typeof t=="function")Fc(t)?(l=ds(t,l),n.tag=1,n=Ug(null,n,t,l,a)):(n.tag=0,n=Mh(null,n,t,l,a));else{if(t!=null){var c=t.$$typeof;if(c===Ut){n.tag=11,n=Ng(null,n,t,l,a);break t}else if(c===D){n.tag=14,n=Ig(null,n,t,l,a);break t}}throw n=ie(t)||t,Error(s(306,n,""))}}return n;case 0:return Mh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=ds(l,n.pendingProps),Ug(t,n,l,c,a);case 3:t:{if(xe(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,lh(t,n),gl(n,l,null,a);var g=n.memoizedState;if(l=g.cache,ra(n,Ee,l),l!==f.cache&&eh(n,[Ee],a,!0),ml(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Bg(t,n,l,a);break t}else if(l!==c){c=wn(Error(s(424)),n),ol(c),n=Bg(t,n,l,a);break t}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,Wt=Nn(t.firstChild),Be=n,Vt=!0,aa=null,Dn=!0,a=Mm(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ss(),l===c){n=Oi(t,n,a);break t}Pe(t,n,l,a)}n=n.child}return n;case 26:return cu(t,n),t===null?(a=ty(n.type,null,n.pendingProps,null))?n.memoizedState=a:Vt||(a=n.type,t=n.pendingProps,l=Cu(St.current).createElement(a),l[ye]=n,l[Oe]=t,qe(l,a,t),_e(l),n.stateNode=l):n.memoizedState=ty(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ba(n),t===null&&Vt&&(l=n.stateNode=Jp(n.type,n.pendingProps,St.current),Be=n,Dn=!0,c=Wt,va(n.type)?(Tf=c,Wt=Nn(l.firstChild)):Wt=c),Pe(t,n,n.pendingProps.children,a),cu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Vt&&((c=l=Wt)&&(l=ME(l,n.type,n.pendingProps,Dn),l!==null?(n.stateNode=l,Be=n,Wt=Nn(l.firstChild),Dn=!1,c=!0):c=!1),c||sa(n)),Ba(n),c=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,pf(c,f)?l=null:g!==null&&pf(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=mh(t,n,X0,null,null,a),zl._currentValue=c),cu(t,n),Pe(t,n,l,a),n.child;case 6:return t===null&&Vt&&((t=a=Wt)&&(a=zE(a,n.pendingProps,Dn),a!==null?(n.stateNode=a,Be=n,Wt=null,t=!0):t=!1),t||sa(n)),null;case 13:return kg(t,n,a);case 4:return xe(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=hs(n,null,l,a):Pe(t,n,l,a),n.child;case 11:return Ng(t,n,n.type,n.pendingProps,a);case 7:return Pe(t,n,n.pendingProps,a),n.child;case 8:return Pe(t,n,n.pendingProps.children,a),n.child;case 12:return Pe(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,ra(n,n.type,l.value),Pe(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ls(n),c=ke(c),l=l(c),n.flags|=1,Pe(t,n,l,a),n.child;case 14:return Ig(t,n,n.type,n.pendingProps,a);case 15:return Og(t,n,n.type,n.pendingProps,a);case 19:return qg(t,n,a);case 31:return iE(t,n,a);case 22:return Mg(t,n,a,n.pendingProps);case 24:return ls(n),l=ke(Ee),t===null?(c=ah(),c===null&&(c=Jt,f=nh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},rh(n),ra(n,Ee,c)):((t.lanes&a)!==0&&(lh(t,n),gl(n,null,null,a),ml()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ra(n,Ee,l)):(l=f.cache,ra(n,Ee,l),l!==c.cache&&eh(n,[Ee],a,!0))),Pe(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Mi(t){t.flags|=4}function qh(t,n,a,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(pp())t.flags|=8192;else throw cs=Xo,sh}else t.flags&=-16777217}function Gg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!sy(n))if(pp())t.flags|=8192;else throw cs=Xo,sh}function fu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?_o():536870912,t.lanes|=n,or|=n)}function Tl(t,n){if(!Vt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function te(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function sE(t,n,a){var l=n.pendingProps;switch(Zc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return te(n),null;case 1:return te(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Vi(Ee),ae(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Xs(n)?Mi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,$c())),te(n),null;case 26:var c=n.type,f=n.memoizedState;return t===null?(Mi(n),f!==null?(te(n),Gg(n,f)):(te(n),qh(n,c,null,l,a))):f?f!==t.memoizedState?(Mi(n),te(n),Gg(n,f)):(te(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Mi(n),te(n),qh(n,c,t,l,a)),null;case 27:if(Cs(n),a=St.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Mi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return te(n),null}t=at.current,Xs(n)?Am(n):(t=Jp(c,l,a),n.stateNode=t,Mi(n))}return te(n),null;case 5:if(Cs(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Mi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return te(n),null}if(f=at.current,Xs(n))Am(n);else{var g=Cu(St.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}f[ye]=n,f[Oe]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(qe(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Mi(n)}}return te(n),qh(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Mi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=St.current,Xs(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=Be,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[ye]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||kp(t.nodeValue,a)),t||sa(n,!0)}else t=Cu(t).createTextNode(l),t[ye]=n,n.stateNode=t}return te(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=Xs(n),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[ye]=n}else ss(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),t=!1}else a=$c(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(gn(n),n):(gn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return te(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Xs(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[ye]=n}else ss(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),c=!1}else c=$c(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(gn(n),n):(gn(n),null)}return gn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),fu(n,n.updateQueue),te(n),null);case 4:return ae(),t===null&&hf(n.stateNode.containerInfo),te(n),null;case 10:return Vi(n.type),te(n),null;case 19:if(X(fe),l=n.memoizedState,l===null)return te(n),null;if(c=(n.flags&128)!==0,f=l.rendering,f===null)if(c)Tl(l,!1);else{if(ue!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Wo(t),f!==null){for(n.flags|=128,Tl(l,!1),t=f.updateQueue,n.updateQueue=t,fu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)_m(a,t),a=a.sibling;return nt(fe,fe.current&1|2),Vt&&xi(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Ze()>yu&&(n.flags|=128,c=!0,Tl(l,!1),n.lanes=4194304)}else{if(!c)if(t=Wo(f),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,fu(n,t),Tl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Vt)return te(n),null}else 2*Ze()-l.renderingStartTime>yu&&a!==536870912&&(n.flags|=128,c=!0,Tl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ze(),t.sibling=null,a=fe.current,nt(fe,c?a&1|2:a&1),Vt&&xi(n,l.treeForkCount),t):(te(n),null);case 22:case 23:return gn(n),hh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(te(n),n.subtreeFlags&6&&(n.flags|=8192)):te(n),a=n.updateQueue,a!==null&&fu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&X(os),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Vi(Ee),te(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function rE(t,n){switch(Zc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Vi(Ee),ae(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Cs(n),null;case 31:if(n.memoizedState!==null){if(gn(n),n.alternate===null)throw Error(s(340));ss()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(gn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));ss()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return X(fe),null;case 4:return ae(),null;case 10:return Vi(n.type),null;case 22:case 23:return gn(n),hh(),t!==null&&X(os),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Vi(Ee),null;case 25:return null;default:return null}}function Qg(t,n){switch(Zc(n),n.tag){case 3:Vi(Ee),ae();break;case 26:case 27:case 5:Cs(n);break;case 4:ae();break;case 31:n.memoizedState!==null&&gn(n);break;case 13:gn(n);break;case 19:X(fe);break;case 10:Vi(n.type);break;case 22:case 23:gn(n),hh(),t!==null&&X(os);break;case 24:Vi(Ee)}}function Sl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var f=a.create,g=a.inst;l=f(),g.destroy=l}a=a.next}while(a!==c)}}catch(E){Qt(n,n.return,E)}}function fa(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=n;var C=a,k=E;try{k()}catch(Q){Qt(c,C,Q)}}}l=l.next}while(l!==f)}}catch(Q){Qt(n,n.return,Q)}}function Fg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Lm(n,a)}catch(l){Qt(t,t.return,l)}}}function Yg(t,n,a){a.props=ds(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Qt(t,n,l)}}function Al(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){Qt(t,n,c)}}function di(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Qt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Qt(t,n,c)}else a.current=null}function Kg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Qt(t,t.return,c)}}function Hh(t,n,a){try{var l=t.stateNode;xE(l,t.type,a,n),l[Oe]=n}catch(c){Qt(t,t.return,c)}}function Xg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&va(t.type)||t.tag===4}function Gh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Xg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&va(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Qh(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Un));else if(l!==4&&(l===27&&va(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Qh(t,n,a),t=t.sibling;t!==null;)Qh(t,n,a),t=t.sibling}function du(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&va(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(du(t,n,a),t=t.sibling;t!==null;)du(t,n,a),t=t.sibling}function Zg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);qe(n,l,a),n[ye]=t,n[Oe]=a}catch(f){Qt(t,t.return,f)}}var zi=!1,Ae=!1,Fh=!1,Jg=typeof WeakSet=="function"?WeakSet:Set,ze=null;function lE(t,n){if(t=t.containerInfo,mf=Mu,t=um(t),Bc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var g=0,E=-1,C=-1,k=0,Q=0,K=t,q=null;e:for(;;){for(var G;K!==a||c!==0&&K.nodeType!==3||(E=g+c),K!==f||l!==0&&K.nodeType!==3||(C=g+l),K.nodeType===3&&(g+=K.nodeValue.length),(G=K.firstChild)!==null;)q=K,K=G;for(;;){if(K===t)break e;if(q===a&&++k===c&&(E=g),q===f&&++Q===l&&(C=g),(G=K.nextSibling)!==null)break;K=q,q=K.parentNode}K=G}a=E===-1||C===-1?null:{start:E,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(gf={focusedElem:t,selectionRange:a},Mu=!1,ze=n;ze!==null;)if(n=ze,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,ze=t;else for(;ze!==null;){switch(n=ze,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)c=t[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var st=ds(a.type,c);t=l.getSnapshotBeforeUpdate(st,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(dt){Qt(a,a.return,dt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)_f(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":_f(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,ze=t;break}ze=n.return}}function $g(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ji(t,a),l&4&&Sl(5,a);break;case 1:if(ji(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(g){Qt(a,a.return,g)}else{var c=ds(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Qt(a,a.return,g)}}l&64&&Fg(a),l&512&&Al(a,a.return);break;case 3:if(ji(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Lm(t,n)}catch(g){Qt(a,a.return,g)}}break;case 27:n===null&&l&4&&Zg(a);case 26:case 5:ji(t,a),n===null&&l&4&&Kg(a),l&512&&Al(a,a.return);break;case 12:ji(t,a);break;case 31:ji(t,a),l&4&&ep(t,a);break;case 13:ji(t,a),l&4&&np(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=pE.bind(null,a),LE(t,a))));break;case 22:if(l=a.memoizedState!==null||zi,!l){n=n!==null&&n.memoizedState!==null||Ae,c=zi;var f=Ae;zi=l,(Ae=n)&&!f?Ui(t,a,(a.subtreeFlags&8772)!==0):ji(t,a),zi=c,Ae=f}break;case 30:break;default:ji(t,a)}}function Wg(t){var n=t.alternate;n!==null&&(t.alternate=null,Wg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Is(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var re=null,nn=!1;function Li(t,n,a){for(a=a.child;a!==null;)tp(t,n,a),a=a.sibling}function tp(t,n,a){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(Mn,a)}catch{}switch(a.tag){case 26:Ae||di(a,n),Li(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ae||di(a,n);var l=re,c=nn;va(a.type)&&(re=a.stateNode,nn=!1),Li(t,n,a),Il(a.stateNode),re=l,nn=c;break;case 5:Ae||di(a,n);case 6:if(l=re,c=nn,re=null,Li(t,n,a),re=l,nn=c,re!==null)if(nn)try{(re.nodeType===9?re.body:re.nodeName==="HTML"?re.ownerDocument.body:re).removeChild(a.stateNode)}catch(f){Qt(a,n,f)}else try{re.removeChild(a.stateNode)}catch(f){Qt(a,n,f)}break;case 18:re!==null&&(nn?(t=re,Fp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),pr(t)):Fp(re,a.stateNode));break;case 4:l=re,c=nn,re=a.stateNode.containerInfo,nn=!0,Li(t,n,a),re=l,nn=c;break;case 0:case 11:case 14:case 15:fa(2,a,n),Ae||fa(4,a,n),Li(t,n,a);break;case 1:Ae||(di(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Yg(a,n,l)),Li(t,n,a);break;case 21:Li(t,n,a);break;case 22:Ae=(l=Ae)||a.memoizedState!==null,Li(t,n,a),Ae=l;break;default:Li(t,n,a)}}function ep(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{pr(t)}catch(a){Qt(n,n.return,a)}}}function np(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{pr(t)}catch(a){Qt(n,n.return,a)}}function oE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Jg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Jg),n;default:throw Error(s(435,t.tag))}}function mu(t,n){var a=oE(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var c=yE.bind(null,t,l);l.then(c,c)}})}function an(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=t,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(va(E.type)){re=E.stateNode,nn=!1;break t}break;case 5:re=E.stateNode,nn=!1;break t;case 3:case 4:re=E.stateNode.containerInfo,nn=!0;break t}E=E.return}if(re===null)throw Error(s(160));tp(f,g,c),re=null,nn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ip(n,t),n=n.sibling}var Gn=null;function ip(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:an(n,t),sn(t),l&4&&(fa(3,t,t.return),Sl(3,t),fa(5,t,t.return));break;case 1:an(n,t),sn(t),l&512&&(Ae||a===null||di(a,a.return)),l&64&&zi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=Gn;if(an(n,t),sn(t),l&512&&(Ae||a===null||di(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Wn]||f[ye]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),qe(f,l,a),f[ye]=t,_e(f),l=f;break t;case"link":var g=iy("link","href",c).get(l+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break e}}f=c.createElement(l),qe(f,l,a),c.head.appendChild(f);break;case"meta":if(g=iy("meta","content",c).get(l+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break e}}f=c.createElement(l),qe(f,l,a),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[ye]=t,_e(f),l=f}t.stateNode=l}else ay(c,t.type,t.stateNode);else t.stateNode=ny(c,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?ay(c,t.type,t.stateNode):ny(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Hh(t,t.memoizedProps,a.memoizedProps)}break;case 27:an(n,t),sn(t),l&512&&(Ae||a===null||di(a,a.return)),a!==null&&l&4&&Hh(t,t.memoizedProps,a.memoizedProps);break;case 5:if(an(n,t),sn(t),l&512&&(Ae||a===null||di(a,a.return)),t.flags&32){c=t.stateNode;try{en(c,"")}catch(st){Qt(t,t.return,st)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Hh(t,c,a!==null?a.memoizedProps:c)),l&1024&&(Fh=!0);break;case 6:if(an(n,t),sn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(st){Qt(t,t.return,st)}}break;case 3:if(Vu=null,c=Gn,Gn=xu(n.containerInfo),an(n,t),Gn=c,sn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{pr(n.containerInfo)}catch(st){Qt(t,t.return,st)}Fh&&(Fh=!1,ap(t));break;case 4:l=Gn,Gn=xu(t.stateNode.containerInfo),an(n,t),sn(t),Gn=l;break;case 12:an(n,t),sn(t);break;case 31:an(n,t),sn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,mu(t,l)));break;case 13:an(n,t),sn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(pu=Ze()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,mu(t,l)));break;case 22:c=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,k=zi,Q=Ae;if(zi=k||c,Ae=Q||C,an(n,t),Ae=Q,zi=k,sn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||C||zi||Ae||ms(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){C=a=n;try{if(f=C.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=C.stateNode;var K=C.memoizedProps.style,q=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(st){Qt(C,C.return,st)}}}else if(n.tag===6){if(a===null){C=n;try{C.stateNode.nodeValue=c?"":C.memoizedProps}catch(st){Qt(C,C.return,st)}}}else if(n.tag===18){if(a===null){C=n;try{var G=C.stateNode;c?Yp(G,!0):Yp(C.stateNode,!1)}catch(st){Qt(C,C.return,st)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,mu(t,a))));break;case 19:an(n,t),sn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,mu(t,l)));break;case 30:break;case 21:break;default:an(n,t),sn(t)}}function sn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Xg(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var c=a.stateNode,f=Gh(t);du(t,f,c);break;case 5:var g=a.stateNode;a.flags&32&&(en(g,""),a.flags&=-33);var E=Gh(t);du(t,E,g);break;case 3:case 4:var C=a.stateNode.containerInfo,k=Gh(t);Qh(t,k,C);break;default:throw Error(s(161))}}catch(Q){Qt(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function ap(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;ap(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ji(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)$g(t,n.alternate,n),n=n.sibling}function ms(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:fa(4,n,n.return),ms(n);break;case 1:di(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Yg(n,n.return,a),ms(n);break;case 27:Il(n.stateNode);case 26:case 5:di(n,n.return),ms(n);break;case 22:n.memoizedState===null&&ms(n);break;case 30:ms(n);break;default:ms(n)}t=t.sibling}}function Ui(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Ui(c,f,a),Sl(4,f);break;case 1:if(Ui(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(k){Qt(l,l.return,k)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var C=c.shared.hiddenCallbacks;if(C!==null)for(c.shared.hiddenCallbacks=null,c=0;c<C.length;c++)zm(C[c],E)}catch(k){Qt(l,l.return,k)}}a&&g&64&&Fg(f),Al(f,f.return);break;case 27:Zg(f);case 26:case 5:Ui(c,f,a),a&&l===null&&g&4&&Kg(f),Al(f,f.return);break;case 12:Ui(c,f,a);break;case 31:Ui(c,f,a),a&&g&4&&ep(c,f);break;case 13:Ui(c,f,a),a&&g&4&&np(c,f);break;case 22:f.memoizedState===null&&Ui(c,f,a),Al(f,f.return);break;case 30:break;default:Ui(c,f,a)}n=n.sibling}}function Yh(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ul(a))}function Kh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ul(t))}function Qn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)sp(t,n,a,l),n=n.sibling}function sp(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Qn(t,n,a,l),c&2048&&Sl(9,n);break;case 1:Qn(t,n,a,l);break;case 3:Qn(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ul(t)));break;case 12:if(c&2048){Qn(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Qt(n,n.return,C)}}else Qn(t,n,a,l);break;case 31:Qn(t,n,a,l);break;case 13:Qn(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Qn(t,n,a,l):bl(t,n):f._visibility&2?Qn(t,n,a,l):(f._visibility|=2,sr(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Yh(g,n);break;case 24:Qn(t,n,a,l),c&2048&&Kh(n.alternate,n);break;default:Qn(t,n,a,l)}}function sr(t,n,a,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=a,C=l,k=g.flags;switch(g.tag){case 0:case 11:case 15:sr(f,g,E,C,c),Sl(8,g);break;case 23:break;case 22:var Q=g.stateNode;g.memoizedState!==null?Q._visibility&2?sr(f,g,E,C,c):bl(f,g):(Q._visibility|=2,sr(f,g,E,C,c)),c&&k&2048&&Yh(g.alternate,g);break;case 24:sr(f,g,E,C,c),c&&k&2048&&Kh(g.alternate,g);break;default:sr(f,g,E,C,c)}n=n.sibling}}function bl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:bl(a,l),c&2048&&Yh(l.alternate,l);break;case 24:bl(a,l),c&2048&&Kh(l.alternate,l);break;default:bl(a,l)}n=n.sibling}}var Rl=8192;function rr(t,n,a){if(t.subtreeFlags&Rl)for(t=t.child;t!==null;)rp(t,n,a),t=t.sibling}function rp(t,n,a){switch(t.tag){case 26:rr(t,n,a),t.flags&Rl&&t.memoizedState!==null&&KE(a,Gn,t.memoizedState,t.memoizedProps);break;case 5:rr(t,n,a);break;case 3:case 4:var l=Gn;Gn=xu(t.stateNode.containerInfo),rr(t,n,a),Gn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Rl,Rl=16777216,rr(t,n,a),Rl=l):rr(t,n,a));break;default:rr(t,n,a)}}function lp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function wl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];ze=l,up(l,t)}lp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)op(t),t=t.sibling}function op(t){switch(t.tag){case 0:case 11:case 15:wl(t),t.flags&2048&&fa(9,t,t.return);break;case 3:wl(t);break;case 12:wl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,gu(t)):wl(t);break;default:wl(t)}}function gu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];ze=l,up(l,t)}lp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:fa(8,n,n.return),gu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,gu(n));break;default:gu(n)}t=t.sibling}}function up(t,n){for(;ze!==null;){var a=ze;switch(a.tag){case 0:case 11:case 15:fa(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ul(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,ze=l;else t:for(a=t;ze!==null;){l=ze;var c=l.sibling,f=l.return;if(Wg(l),l===a){ze=null;break t}if(c!==null){c.return=f,ze=c;break t}ze=f}}}var uE={getCacheForType:function(t){var n=ke(Ee),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return ke(Ee).controller.signal}},cE=typeof WeakMap=="function"?WeakMap:Map,kt=0,Jt=null,bt=null,wt=0,Gt=0,pn=null,da=!1,lr=!1,Xh=!1,Bi=0,ue=0,ma=0,gs=0,Zh=0,yn=0,or=0,Cl=null,rn=null,Jh=!1,pu=0,cp=0,yu=1/0,_u=null,ga=null,Ve=0,pa=null,ur=null,ki=0,$h=0,Wh=null,hp=null,xl=0,tf=null;function _n(){return(kt&2)!==0&&wt!==0?wt&-wt:F.T!==null?lf():vo()}function fp(){if(yn===0)if((wt&536870912)===0||Vt){var t=qa;qa<<=1,(qa&3932160)===0&&(qa=262144),yn=t}else yn=536870912;return t=mn.current,t!==null&&(t.flags|=32),yn}function ln(t,n,a){(t===Jt&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)&&(cr(t,0),ya(t,wt,yn,!1)),Ha(t,a),((kt&2)===0||t!==Jt)&&(t===Jt&&((kt&2)===0&&(gs|=a),ue===4&&ya(t,wt,yn,!1)),mi(t))}function dp(t,n,a){if((kt&6)!==0)throw Error(s(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||zn(t,n),c=l?dE(t,n):nf(t,n,!0),f=l;do{if(c===0){lr&&!l&&ya(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!hE(a)){c=nf(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=t;c=Cl;var C=E.current.memoizedState.isDehydrated;if(C&&(cr(E,g).flags|=256),g=nf(E,g,!1),g!==2){if(Xh&&!C){E.errorRecoveryDisabledLanes|=f,gs|=f,c=4;break t}f=rn,rn=c,f!==null&&(rn===null?rn=f:rn.push.apply(rn,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){cr(t,0),ya(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:ya(l,n,yn,!da);break t;case 2:rn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=pu+300-Ze(),10<c)){if(ya(l,n,yn,!da),Zn(l,0,!0)!==0)break t;ki=n,l.timeoutHandle=Gp(mp.bind(null,l,a,rn,_u,Jh,n,yn,gs,or,da,f,"Throttled",-0,0),c);break t}mp(l,a,rn,_u,Jh,n,yn,gs,or,da,f,null,-0,0)}}break}while(!0);mi(t)}function mp(t,n,a,l,c,f,g,E,C,k,Q,K,q,G){if(t.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Un},rp(n,f,K);var st=(f&62914560)===f?pu-Ze():(f&4194048)===f?cp-Ze():0;if(st=XE(K,st),st!==null){ki=f,t.cancelPendingCommit=st(Sp.bind(null,t,n,f,a,l,c,g,E,C,Q,K,null,q,G)),ya(t,f,g,!k);return}}Sp(t,n,f,a,l,c,g,E,C)}function hE(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!fn(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ya(t,n,a,l){n&=~Zh,n&=~gs,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-ce(c),g=1<<f;l[f]=-1,c&=~g}a!==0&&Ga(t,a,n)}function vu(){return(kt&6)===0?(Dl(0),!1):!0}function ef(){if(bt!==null){if(Gt===0)var t=bt.return;else t=bt,Di=rs=null,yh(t),tr=null,hl=0,t=bt;for(;t!==null;)Qg(t.alternate,t),t=t.return;bt=null}}function cr(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,NE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ki=0,ef(),Jt=t,bt=a=Ci(t.current,null),wt=n,Gt=0,pn=null,da=!1,lr=zn(t,n),Xh=!1,or=yn=Zh=gs=ma=ue=0,rn=Cl=null,Jh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-ce(l),f=1<<c;n|=t[c],l&=~f}return Bi=n,ko(),a}function gp(t,n){Tt=null,F.H=vl,n===Ws||n===Ko?(n=Nm(),Gt=3):n===sh?(n=Nm(),Gt=4):Gt=n===Oh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,pn=n,bt===null&&(ue=1,ou(t,wn(n,t.current)))}function pp(){var t=mn.current;return t===null?!0:(wt&4194048)===wt?Vn===null:(wt&62914560)===wt||(wt&536870912)!==0?t===Vn:!1}function yp(){var t=F.H;return F.H=vl,t===null?vl:t}function _p(){var t=F.A;return F.A=uE,t}function Eu(){ue=4,da||(wt&4194048)!==wt&&mn.current!==null||(lr=!0),(ma&134217727)===0&&(gs&134217727)===0||Jt===null||ya(Jt,wt,yn,!1)}function nf(t,n,a){var l=kt;kt|=2;var c=yp(),f=_p();(Jt!==t||wt!==n)&&(_u=null,cr(t,n)),n=!1;var g=ue;t:do try{if(Gt!==0&&bt!==null){var E=bt,C=pn;switch(Gt){case 8:ef(),g=6;break t;case 3:case 2:case 9:case 6:mn.current===null&&(n=!0);var k=Gt;if(Gt=0,pn=null,hr(t,E,C,k),a&&lr){g=0;break t}break;default:k=Gt,Gt=0,pn=null,hr(t,E,C,k)}}fE(),g=ue;break}catch(Q){gp(t,Q)}while(!0);return n&&t.shellSuspendCounter++,Di=rs=null,kt=l,F.H=c,F.A=f,bt===null&&(Jt=null,wt=0,ko()),g}function fE(){for(;bt!==null;)vp(bt)}function dE(t,n){var a=kt;kt|=2;var l=yp(),c=_p();Jt!==t||wt!==n?(_u=null,yu=Ze()+500,cr(t,n)):lr=zn(t,n);t:do try{if(Gt!==0&&bt!==null){n=bt;var f=pn;e:switch(Gt){case 1:Gt=0,pn=null,hr(t,n,f,1);break;case 2:case 9:if(Dm(f)){Gt=0,pn=null,Ep(n);break}n=function(){Gt!==2&&Gt!==9||Jt!==t||(Gt=7),mi(t)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:Dm(f)?(Gt=0,pn=null,Ep(n)):(Gt=0,pn=null,hr(t,n,f,7));break;case 5:var g=null;switch(bt.tag){case 26:g=bt.memoizedState;case 5:case 27:var E=bt;if(g?sy(g):E.stateNode.complete){Gt=0,pn=null;var C=E.sibling;if(C!==null)bt=C;else{var k=E.return;k!==null?(bt=k,Tu(k)):bt=null}break e}}Gt=0,pn=null,hr(t,n,f,5);break;case 6:Gt=0,pn=null,hr(t,n,f,6);break;case 8:ef(),ue=6;break t;default:throw Error(s(462))}}mE();break}catch(Q){gp(t,Q)}while(!0);return Di=rs=null,F.H=l,F.A=c,kt=a,bt!==null?0:(Jt=null,wt=0,ko(),ue)}function mE(){for(;bt!==null&&!Ic();)vp(bt)}function vp(t){var n=Hg(t.alternate,t,Bi);t.memoizedProps=t.pendingProps,n===null?Tu(t):bt=n}function Ep(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=jg(a,n,n.pendingProps,n.type,void 0,wt);break;case 11:n=jg(a,n,n.pendingProps,n.type.render,n.ref,wt);break;case 5:yh(n);default:Qg(a,n),n=bt=_m(n,Bi),n=Hg(a,n,Bi)}t.memoizedProps=t.pendingProps,n===null?Tu(t):bt=n}function hr(t,n,a,l){Di=rs=null,yh(n),tr=null,hl=0;var c=n.return;try{if(nE(t,c,n,a,wt)){ue=1,ou(t,wn(a,t.current)),bt=null;return}}catch(f){if(c!==null)throw bt=c,f;ue=1,ou(t,wn(a,t.current)),bt=null;return}n.flags&32768?(Vt||l===1?t=!0:lr||(wt&536870912)!==0?t=!1:(da=t=!0,(l===2||l===9||l===3||l===6)&&(l=mn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Tp(n,t)):Tu(n)}function Tu(t){var n=t;do{if((n.flags&32768)!==0){Tp(n,da);return}t=n.return;var a=sE(n.alternate,n,Bi);if(a!==null){bt=a;return}if(n=n.sibling,n!==null){bt=n;return}bt=n=t}while(n!==null);ue===0&&(ue=5)}function Tp(t,n){do{var a=rE(t.alternate,t);if(a!==null){a.flags&=32767,bt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){bt=t;return}bt=t=a}while(t!==null);ue=6,bt=null}function Sp(t,n,a,l,c,f,g,E,C){t.cancelPendingCommit=null;do Su();while(Ve!==0);if((kt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Gc,zc(t,a,f,g,E,C),t===Jt&&(bt=Jt=null,wt=0),ur=n,pa=t,ki=a,$h=f,Wh=c,hp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,_E(Yi,function(){return Cp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,c=et.p,et.p=2,g=kt,kt|=4;try{lE(t,n,a)}finally{kt=g,et.p=c,F.T=l}}Ve=1,Ap(),bp(),Rp()}}function Ap(){if(Ve===1){Ve=0;var t=pa,n=ur,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var l=et.p;et.p=2;var c=kt;kt|=4;try{ip(n,t);var f=gf,g=um(t.containerInfo),E=f.focusedElem,C=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&om(E.ownerDocument.documentElement,E)){if(C!==null&&Bc(E)){var k=C.start,Q=C.end;if(Q===void 0&&(Q=k),"selectionStart"in E)E.selectionStart=k,E.selectionEnd=Math.min(Q,E.value.length);else{var K=E.ownerDocument||document,q=K&&K.defaultView||window;if(q.getSelection){var G=q.getSelection(),st=E.textContent.length,dt=Math.min(C.start,st),Xt=C.end===void 0?dt:Math.min(C.end,st);!G.extend&&dt>Xt&&(g=Xt,Xt=dt,dt=g);var L=lm(E,dt),N=lm(E,Xt);if(L&&N&&(G.rangeCount!==1||G.anchorNode!==L.node||G.anchorOffset!==L.offset||G.focusNode!==N.node||G.focusOffset!==N.offset)){var B=K.createRange();B.setStart(L.node,L.offset),G.removeAllRanges(),dt>Xt?(G.addRange(B),G.extend(N.node,N.offset)):(B.setEnd(N.node,N.offset),G.addRange(B))}}}}for(K=[],G=E;G=G.parentNode;)G.nodeType===1&&K.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var Y=K[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Mu=!!mf,gf=mf=null}finally{kt=c,et.p=l,F.T=a}}t.current=n,Ve=2}}function bp(){if(Ve===2){Ve=0;var t=pa,n=ur,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var l=et.p;et.p=2;var c=kt;kt|=4;try{$g(t,n.alternate,n)}finally{kt=c,et.p=l,F.T=a}}Ve=3}}function Rp(){if(Ve===4||Ve===3){Ve=0,ho();var t=pa,n=ur,a=ki,l=hp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ve=5:(Ve=0,ur=pa=null,wp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(ga=null),Ai(a),n=n.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(Mn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=F.T,c=et.p,et.p=2,F.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{F.T=n,et.p=c}}(ki&3)!==0&&Su(),mi(t),c=t.pendingLanes,(a&261930)!==0&&(c&42)!==0?t===tf?xl++:(xl=0,tf=t):xl=0,Dl(0)}}function wp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ul(n)))}function Su(){return Ap(),bp(),Rp(),Cp()}function Cp(){if(Ve!==5)return!1;var t=pa,n=$h;$h=0;var a=Ai(ki),l=F.T,c=et.p;try{et.p=32>a?32:a,F.T=null,a=Wh,Wh=null;var f=pa,g=ki;if(Ve=0,ur=pa=null,ki=0,(kt&6)!==0)throw Error(s(331));var E=kt;if(kt|=4,op(f.current),sp(f,f.current,g,a),kt=E,Dl(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(Mn,f)}catch{}return!0}finally{et.p=c,F.T=l,wp(t,n)}}function xp(t,n,a){n=wn(a,n),n=Ih(t.stateNode,n,2),t=ua(t,n,2),t!==null&&(Ha(t,2),mi(t))}function Qt(t,n,a){if(t.tag===3)xp(t,t,a);else for(;n!==null;){if(n.tag===3){xp(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ga===null||!ga.has(l))){t=wn(a,t),a=Dg(2),l=ua(n,a,2),l!==null&&(Vg(a,l,n,t),Ha(l,2),mi(l));break}}n=n.return}}function af(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new cE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(Xh=!0,c.add(a),t=gE.bind(null,t,n,a),n.then(t,t))}function gE(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Jt===t&&(wt&a)===a&&(ue===4||ue===3&&(wt&62914560)===wt&&300>Ze()-pu?(kt&2)===0&&cr(t,0):Zh|=a,or===wt&&(or=0)),mi(t)}function Dp(t,n){n===0&&(n=_o()),t=is(t,n),t!==null&&(Ha(t,n),mi(t))}function pE(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Dp(t,a)}function yE(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Dp(t,a)}function _E(t,n){return De(t,n)}var Au=null,fr=null,sf=!1,bu=!1,rf=!1,_a=0;function mi(t){t!==fr&&t.next===null&&(fr===null?Au=fr=t:fr=fr.next=t),bu=!0,sf||(sf=!0,EE())}function Dl(t,n){if(!rf&&bu){rf=!0;do for(var a=!1,l=Au;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-ce(42|t)+1)-1,f&=c&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Op(l,f))}else f=wt,f=Zn(l,l===Jt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||zn(l,f)||(a=!0,Op(l,f));l=l.next}while(a);rf=!1}}function vE(){Vp()}function Vp(){bu=sf=!1;var t=0;_a!==0&&VE()&&(t=_a);for(var n=Ze(),a=null,l=Au;l!==null;){var c=l.next,f=Np(l,n);f===0?(l.next=null,a===null?Au=c:a.next=c,c===null&&(fr=a)):(a=l,(t!==0||(f&3)!==0)&&(bu=!0)),l=c}Ve!==0&&Ve!==5||Dl(t),_a!==0&&(_a=0)}function Np(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-ce(f),E=1<<g,C=c[g];C===-1?((E&a)===0||(E&l)!==0)&&(c[g]=Mc(E,n)):C<=n&&(t.expiredLanes|=E),f&=~E}if(n=Jt,a=wt,a=Zn(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Fi(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||zn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Fi(l),Ai(a)){case 2:case 8:a=Br;break;case 32:a=Yi;break;case 268435456:a=fo;break;default:a=Yi}return l=Ip.bind(null,t),a=De(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Fi(l),t.callbackPriority=2,t.callbackNode=null,2}function Ip(t,n){if(Ve!==0&&Ve!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Su()&&t.callbackNode!==a)return null;var l=wt;return l=Zn(t,t===Jt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(dp(t,l,n),Np(t,Ze()),t.callbackNode!=null&&t.callbackNode===a?Ip.bind(null,t):null)}function Op(t,n){if(Su())return null;dp(t,n,!0)}function EE(){IE(function(){(kt&6)!==0?De(Ur,vE):Vp()})}function lf(){if(_a===0){var t=Js;t===0&&(t=Kn,Kn<<=1,(Kn&261888)===0&&(Kn=256)),_a=t}return _a}function Mp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ls(""+t)}function zp(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function TE(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=Mp((c[Oe]||null).action),g=l.submitter;g&&(n=(n=g[Oe]||null)?Mp(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new li("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(_a!==0){var C=g?zp(c,g):new FormData(c);wh(a,{pending:!0,data:C,method:c.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=g?zp(c,g):new FormData(c),wh(a,{pending:!0,data:C,method:c.method,action:f},f,C))},currentTarget:c}]})}}for(var of=0;of<Hc.length;of++){var uf=Hc[of],SE=uf.toLowerCase(),AE=uf[0].toUpperCase()+uf.slice(1);Hn(SE,"on"+AE)}Hn(fm,"onAnimationEnd"),Hn(dm,"onAnimationIteration"),Hn(mm,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(B0,"onTransitionRun"),Hn(k0,"onTransitionStart"),Hn(P0,"onTransitionCancel"),Hn(gm,"onTransitionEnd"),ii("onMouseEnter",["mouseout","mouseover"]),ii("onMouseLeave",["mouseout","mouseover"]),ii("onPointerEnter",["pointerout","pointerover"]),ii("onPointerLeave",["pointerout","pointerover"]),ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vl));function Lp(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],C=E.instance,k=E.currentTarget;if(E=E.listener,C!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=k;try{f(c)}catch(Q){Bo(Q)}c.currentTarget=null,f=C}else for(g=0;g<l.length;g++){if(E=l[g],C=E.instance,k=E.currentTarget,E=E.listener,C!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=k;try{f(c)}catch(Q){Bo(Q)}c.currentTarget=null,f=C}}}}function Rt(t,n){var a=n[Ns];a===void 0&&(a=n[Ns]=new Set);var l=t+"__bubble";a.has(l)||(jp(n,t,2,!1),a.add(l))}function cf(t,n,a){var l=0;n&&(l|=4),jp(a,t,l,n)}var Ru="_reactListening"+Math.random().toString(36).slice(2);function hf(t){if(!t[Ru]){t[Ru]=!0,qr.forEach(function(a){a!=="selectionchange"&&(bE.has(a)||cf(a,!1,t),cf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Ru]||(n[Ru]=!0,cf("selectionchange",!1,n))}}function jp(t,n,a,l){switch(fy(n)){case 2:var c=$E;break;case 8:c=WE;break;default:c=wf}a=c.bind(null,n,a,t),c=void 0,!Xa||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function ff(t,n,a,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=l.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=ti(E),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){l=f=g;continue t}E=E.parentNode}}l=l.return}Wi(function(){var k=f,Q=Sn(a),K=[];t:{var q=pm.get(t);if(q!==void 0){var G=li,st=t;switch(t){case"keypress":if(Ja(a)===0)break t;case"keydown":case"keyup":G=Lo;break;case"focusin":st="focus",G=Wa;break;case"focusout":st="blur",G=Wa;break;case"beforeblur":case"afterblur":G=Wa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=el;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Co;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=m;break;case fm:case dm:case mm:G=Do;break;case gm:G=S;break;case"scroll":case"scrollend":G=tl;break;case"wheel":G=H;break;case"copy":case"cut":case"paste":G=Vo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=wi;break;case"toggle":case"beforetoggle":G=Et}var dt=(n&4)!==0,Xt=!dt&&(t==="scroll"||t==="scrollend"),L=dt?q!==null?q+"Capture":null:q;dt=[];for(var N=k,B;N!==null;){var Y=N;if(B=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||B===null||L===null||(Y=Bn(N,L),Y!=null&&dt.push(Nl(N,Y,B))),Xt)break;N=N.return}0<dt.length&&(q=new G(q,st,null,a,Q),K.push({event:q,listeners:dt}))}}if((n&7)===0){t:{if(q=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",q&&a!==Jr&&(st=a.relatedTarget||a.fromElement)&&(ti(st)||st[$n]))break t;if((G||q)&&(q=Q.window===Q?Q:(q=Q.ownerDocument)?q.defaultView||q.parentWindow:window,G?(st=a.relatedTarget||a.toElement,G=k,st=st?ti(st):null,st!==null&&(Xt=h(st),dt=st.tag,st!==Xt||dt!==5&&dt!==27&&dt!==6)&&(st=null)):(G=null,st=k),G!==st)){if(dt=el,Y="onMouseLeave",L="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(dt=wi,Y="onPointerLeave",L="onPointerEnter",N="pointer"),Xt=G==null?q:cn(G),B=st==null?q:cn(st),q=new dt(Y,N+"leave",G,a,Q),q.target=Xt,q.relatedTarget=B,Y=null,ti(Q)===k&&(dt=new dt(L,N+"enter",st,a,Q),dt.target=B,dt.relatedTarget=Xt,Y=dt),Xt=Y,G&&st)e:{for(dt=RE,L=G,N=st,B=0,Y=L;Y;Y=dt(Y))B++;Y=0;for(var ut=N;ut;ut=dt(ut))Y++;for(;0<B-Y;)L=dt(L),B--;for(;0<Y-B;)N=dt(N),Y--;for(;B--;){if(L===N||N!==null&&L===N.alternate){dt=L;break e}L=dt(L),N=dt(N)}dt=null}else dt=null;G!==null&&Up(K,q,G,dt,!1),st!==null&&Xt!==null&&Up(K,Xt,st,dt,!0)}}t:{if(q=k?cn(k):window,G=q.nodeName&&q.nodeName.toLowerCase(),G==="select"||G==="input"&&q.type==="file")var Lt=em;else if(Wd(q))if(nm)Lt=L0;else{Lt=M0;var rt=O0}else G=q.nodeName,!G||G.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?k&&zs(k.elementType)&&(Lt=em):Lt=z0;if(Lt&&(Lt=Lt(t,k))){tm(K,Lt,a,Q);break t}rt&&rt(t,q,k),t==="focusout"&&k&&q.type==="number"&&k.memoizedProps.value!=null&&Kr(q,"number",q.value)}switch(rt=k?cn(k):window,t){case"focusin":(Wd(rt)||rt.contentEditable==="true")&&(Hs=rt,kc=k,rl=null);break;case"focusout":rl=kc=Hs=null;break;case"mousedown":Pc=!0;break;case"contextmenu":case"mouseup":case"dragend":Pc=!1,cm(K,a,Q);break;case"selectionchange":if(U0)break;case"keydown":case"keyup":cm(K,a,Q)}var At;if(Bt)t:{switch(t){case"compositionstart":var Ct="onCompositionStart";break t;case"compositionend":Ct="onCompositionEnd";break t;case"compositionupdate":Ct="onCompositionUpdate";break t}Ct=void 0}else qs?ts(t,a)&&(Ct="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ct="onCompositionStart");Ct&&(ci&&a.locale!=="ko"&&(qs||Ct!=="onCompositionStart"?Ct==="onCompositionEnd"&&qs&&(At=Wr()):(ri=Q,$r="value"in ri?ri.value:ri.textContent,qs=!0)),rt=wu(k,Ct),0<rt.length&&(Ct=new ui(Ct,t,null,a,Q),K.push({event:Ct,listeners:rt}),At?Ct.data=At:(At=Ps(a),At!==null&&(Ct.data=At)))),(At=bn?D0(t,a):V0(t,a))&&(Ct=wu(k,"onBeforeInput"),0<Ct.length&&(rt=new ui("onBeforeInput","beforeinput",null,a,Q),K.push({event:rt,listeners:Ct}),rt.data=At)),TE(K,t,k,a,Q)}Lp(K,n)})}function Nl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function wu(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Bn(t,a),c!=null&&l.unshift(Nl(t,c,f)),c=Bn(t,n),c!=null&&l.push(Nl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function RE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Up(t,n,a,l,c){for(var f=n._reactName,g=[];a!==null&&a!==l;){var E=a,C=E.alternate,k=E.stateNode;if(E=E.tag,C!==null&&C===l)break;E!==5&&E!==26&&E!==27||k===null||(C=k,c?(k=Bn(a,f),k!=null&&g.unshift(Nl(a,k,C))):c||(k=Bn(a,f),k!=null&&g.push(Nl(a,k,C)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var wE=/\r\n?/g,CE=/\u0000|\uFFFD/g;function Bp(t){return(typeof t=="string"?t:""+t).replace(wE,`
`).replace(CE,"")}function kp(t,n){return n=Bp(n),Bp(t)===n}function Kt(t,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||en(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&en(t,""+l);break;case"className":hn(t,"class",l);break;case"tabIndex":hn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":hn(t,a,l);break;case"style":Zr(t,l,f);break;case"data":if(n!=="object"){hn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ls(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Kt(t,n,"name",c.name,c,null),Kt(t,n,"formEncType",c.formEncType,c,null),Kt(t,n,"formMethod",c.formMethod,c,null),Kt(t,n,"formTarget",c.formTarget,c,null)):(Kt(t,n,"encType",c.encType,c,null),Kt(t,n,"method",c.method,c,null),Kt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ls(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Un);break;case"onScroll":l!=null&&Rt("scroll",t);break;case"onScrollEnd":l!=null&&Rt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ls(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Rt("beforetoggle",t),Rt("toggle",t),Os(t,"popover",l);break;case"xlinkActuate":ve(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ve(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ve(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ve(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ve(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ve(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ve(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ve(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ve(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Os(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=wo.get(a)||a,Os(t,a,l))}}function df(t,n,a,l,c,f){switch(a){case"style":Zr(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?en(t,l):(typeof l=="number"||typeof l=="bigint")&&en(t,""+l);break;case"onScroll":l!=null&&Rt("scroll",t);break;case"onScrollEnd":l!=null&&Rt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Un);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Hr.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=t[Oe]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Os(t,a,l)}}}function qe(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rt("error",t),Rt("load",t);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(t,n,f,g,a,null)}}c&&Kt(t,n,"srcSet",a.srcSet,a,null),l&&Kt(t,n,"src",a.src,a,null);return;case"input":Rt("invalid",t);var E=f=g=c=null,C=null,k=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":c=Q;break;case"type":g=Q;break;case"checked":C=Q;break;case"defaultChecked":k=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,n));break;default:Kt(t,n,l,Q,a,null)}}Ao(t,f,E,C,k,g,c,!1);return;case"select":Rt("invalid",t),l=g=f=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:Kt(t,n,c,E,a,null)}n=f,a=g,t.multiple=!!l,n!=null?Xi(t,!!l,n,!1):a!=null&&Xi(t,!!l,a,!0);return;case"textarea":Rt("invalid",t),f=c=l=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Kt(t,n,g,E,a,null)}Zi(t,l,c,f);return;case"option":for(C in a)a.hasOwnProperty(C)&&(l=a[C],l!=null)&&(C==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":Kt(t,n,C,l,a,null));return;case"dialog":Rt("beforetoggle",t),Rt("toggle",t),Rt("cancel",t),Rt("close",t);break;case"iframe":case"object":Rt("load",t);break;case"video":case"audio":for(l=0;l<Vl.length;l++)Rt(Vl[l],t);break;case"image":Rt("error",t),Rt("load",t);break;case"details":Rt("toggle",t);break;case"embed":case"source":case"link":Rt("error",t),Rt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in a)if(a.hasOwnProperty(k)&&(l=a[k],l!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(t,n,k,l,a,null)}return;default:if(zs(n)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&df(t,n,Q,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Kt(t,n,E,l,a,null))}function xE(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,E=null,C=null,k=null,Q=null;for(G in a){var K=a[G];if(a.hasOwnProperty(G)&&K!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":C=K;default:l.hasOwnProperty(G)||Kt(t,n,G,null,l,K)}}for(var q in l){var G=l[q];if(K=a[q],l.hasOwnProperty(q)&&(G!=null||K!=null))switch(q){case"type":f=G;break;case"name":c=G;break;case"checked":k=G;break;case"defaultChecked":Q=G;break;case"value":g=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:G!==K&&Kt(t,n,q,G,l,K)}}Ms(t,g,E,C,k,Q,f,c);return;case"select":G=g=E=q=null;for(f in a)if(C=a[f],a.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":G=C;default:l.hasOwnProperty(f)||Kt(t,n,f,null,l,C)}for(c in l)if(f=l[c],C=a[c],l.hasOwnProperty(c)&&(f!=null||C!=null))switch(c){case"value":q=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==C&&Kt(t,n,c,f,l,C)}n=E,a=g,l=G,q!=null?Xi(t,!!a,q,!1):!!l!=!!a&&(n!=null?Xi(t,!!a,n,!0):Xi(t,!!a,a?[]:"",!1));return;case"textarea":G=q=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Kt(t,n,E,null,l,c)}for(g in l)if(c=l[g],f=a[g],l.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":q=c;break;case"defaultValue":G=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Kt(t,n,g,c,l,f)}bo(t,q,G);return;case"option":for(var st in a)q=a[st],a.hasOwnProperty(st)&&q!=null&&!l.hasOwnProperty(st)&&(st==="selected"?t.selected=!1:Kt(t,n,st,null,l,q));for(C in l)q=l[C],G=a[C],l.hasOwnProperty(C)&&q!==G&&(q!=null||G!=null)&&(C==="selected"?t.selected=q&&typeof q!="function"&&typeof q!="symbol":Kt(t,n,C,q,l,G));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in a)q=a[dt],a.hasOwnProperty(dt)&&q!=null&&!l.hasOwnProperty(dt)&&Kt(t,n,dt,null,l,q);for(k in l)if(q=l[k],G=a[k],l.hasOwnProperty(k)&&q!==G&&(q!=null||G!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:Kt(t,n,k,q,l,G)}return;default:if(zs(n)){for(var Xt in a)q=a[Xt],a.hasOwnProperty(Xt)&&q!==void 0&&!l.hasOwnProperty(Xt)&&df(t,n,Xt,void 0,l,q);for(Q in l)q=l[Q],G=a[Q],!l.hasOwnProperty(Q)||q===G||q===void 0&&G===void 0||df(t,n,Q,q,l,G);return}}for(var L in a)q=a[L],a.hasOwnProperty(L)&&q!=null&&!l.hasOwnProperty(L)&&Kt(t,n,L,null,l,q);for(K in l)q=l[K],G=a[K],!l.hasOwnProperty(K)||q===G||q==null&&G==null||Kt(t,n,K,q,l,G)}function Pp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function DE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var c=a[l],f=c.transferSize,g=c.initiatorType,E=c.duration;if(f&&E&&Pp(g)){for(g=0,E=c.responseEnd,l+=1;l<a.length;l++){var C=a[l],k=C.startTime;if(k>E)break;var Q=C.transferSize,K=C.initiatorType;Q&&Pp(K)&&(C=C.responseEnd,g+=Q*(C<E?1:(E-k)/(C-k)))}if(--l,n+=8*(f+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var mf=null,gf=null;function Cu(t){return t.nodeType===9?t:t.ownerDocument}function qp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function pf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var yf=null;function VE(){var t=window.event;return t&&t.type==="popstate"?t===yf?!1:(yf=t,!0):(yf=null,!1)}var Gp=typeof setTimeout=="function"?setTimeout:void 0,NE=typeof clearTimeout=="function"?clearTimeout:void 0,Qp=typeof Promise=="function"?Promise:void 0,IE=typeof queueMicrotask=="function"?queueMicrotask:typeof Qp<"u"?function(t){return Qp.resolve(null).then(t).catch(OE)}:Gp;function OE(t){setTimeout(function(){throw t})}function va(t){return t==="head"}function Fp(t,n){var a=n,l=0;do{var c=a.nextSibling;if(t.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(c),pr(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Il(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Il(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[Wn]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&Il(t.ownerDocument.body);a=c}while(a);pr(n)}function Yp(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function _f(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":_f(a),Is(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function ME(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Wn])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Nn(t.nextSibling),t===null)break}return null}function zE(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Nn(t.nextSibling),t===null))return null;return t}function Kp(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Nn(t.nextSibling),t===null))return null;return t}function vf(t){return t.data==="$?"||t.data==="$~"}function Ef(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function LE(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Nn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Tf=null;function Xp(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Nn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function Zp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function Jp(t,n,a){switch(n=Cu(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Il(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Is(t)}var In=new Map,$p=new Set;function xu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Pi=et.d;et.d={f:jE,r:UE,D:BE,C:kE,L:PE,m:qE,X:GE,S:HE,M:QE};function jE(){var t=Pi.f(),n=vu();return t||n}function UE(t){var n=Tn(t);n!==null&&n.tag===5&&n.type==="form"?gg(n):Pi.r(t)}var dr=typeof document>"u"?null:document;function Wp(t,n,a){var l=dr;if(l&&typeof n=="string"&&n){var c=tn(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),$p.has(c)||($p.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),qe(n,"link",t),_e(n),l.head.appendChild(n)))}}function BE(t){Pi.D(t),Wp("dns-prefetch",t,null)}function kE(t,n){Pi.C(t,n),Wp("preconnect",t,n)}function PE(t,n,a){Pi.L(t,n,a);var l=dr;if(l&&t&&n){var c='link[rel="preload"][as="'+tn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+tn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+tn(a.imageSizes)+'"]')):c+='[href="'+tn(t)+'"]';var f=c;switch(n){case"style":f=mr(t);break;case"script":f=gr(t)}In.has(f)||(t=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),In.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Ol(f))||n==="script"&&l.querySelector(Ml(f))||(n=l.createElement("link"),qe(n,"link",t),_e(n),l.head.appendChild(n)))}}function qE(t,n){Pi.m(t,n);var a=dr;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+tn(l)+'"][href="'+tn(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=gr(t)}if(!In.has(f)&&(t=A({rel:"modulepreload",href:t},n),In.set(f,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ml(f)))return}l=a.createElement("link"),qe(l,"link",t),_e(l),a.head.appendChild(l)}}}function HE(t,n,a){Pi.S(t,n,a);var l=dr;if(l&&t){var c=ei(l).hoistableStyles,f=mr(t);n=n||"default";var g=c.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(Ol(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},a),(a=In.get(f))&&Sf(t,a);var C=g=l.createElement("link");_e(C),qe(C,"link",t),C._p=new Promise(function(k,Q){C.onload=k,C.onerror=Q}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Du(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(f,g)}}}function GE(t,n){Pi.X(t,n);var a=dr;if(a&&t){var l=ei(a).hoistableScripts,c=gr(t),f=l.get(c);f||(f=a.querySelector(Ml(c)),f||(t=A({src:t,async:!0},n),(n=In.get(c))&&Af(t,n),f=a.createElement("script"),_e(f),qe(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function QE(t,n){Pi.M(t,n);var a=dr;if(a&&t){var l=ei(a).hoistableScripts,c=gr(t),f=l.get(c);f||(f=a.querySelector(Ml(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=In.get(c))&&Af(t,n),f=a.createElement("script"),_e(f),qe(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function ty(t,n,a,l){var c=(c=St.current)?xu(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=mr(a.href),a=ei(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=mr(a.href);var f=ei(c).hoistableStyles,g=f.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=c.querySelector(Ol(t)))&&!f._p&&(g.instance=f,g.state.loading=5),In.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},In.set(t,a),f||FE(c,t,a,g.state))),n&&l===null)throw Error(s(528,""));return g}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=gr(a),a=ei(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function mr(t){return'href="'+tn(t)+'"'}function Ol(t){return'link[rel="stylesheet"]['+t+"]"}function ey(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function FE(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),qe(n,"link",a),_e(n),t.head.appendChild(n))}function gr(t){return'[src="'+tn(t)+'"]'}function Ml(t){return"script[async]"+t}function ny(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+tn(a.href)+'"]');if(l)return n.instance=l,_e(l),l;var c=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),_e(l),qe(l,"style",c),Du(l,a.precedence,t),n.instance=l;case"stylesheet":c=mr(a.href);var f=t.querySelector(Ol(c));if(f)return n.state.loading|=4,n.instance=f,_e(f),f;l=ey(a),(c=In.get(c))&&Sf(l,c),f=(t.ownerDocument||t).createElement("link"),_e(f);var g=f;return g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),qe(f,"link",l),n.state.loading|=4,Du(f,a.precedence,t),n.instance=f;case"script":return f=gr(a.src),(c=t.querySelector(Ml(f)))?(n.instance=c,_e(c),c):(l=a,(c=In.get(f))&&(l=A({},a),Af(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),_e(c),qe(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Du(l,a.precedence,t));return n.instance}function Du(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Sf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Af(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Vu=null;function iy(t,n,a){if(Vu===null){var l=new Map,c=Vu=new Map;c.set(a,l)}else c=Vu,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var f=a[c];if(!(f[Wn]||f[ye]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function ay(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function YE(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function sy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function KE(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=mr(l.href),f=n.querySelector(Ol(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Nu.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,_e(f);return}f=n.ownerDocument||n,l=ey(l),(c=In.get(c))&&Sf(l,c),f=f.createElement("link"),_e(f);var g=f;g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),qe(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Nu.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var bf=0;function XE(t,n){return t.stylesheets&&t.count===0&&Ou(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Ou(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&bf===0&&(bf=62500*DE());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ou(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>bf?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Nu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ou(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Iu=null;function Ou(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Iu=new Map,n.forEach(ZE,t),Iu=null,Nu.call(t))}function ZE(t,n){if(!(n.state.loading&4)){var a=Iu.get(t);if(a)var l=a.get(null);else{a=new Map,Iu.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),l=g)}l&&a.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),f=a.get(g)||l,f===l&&a.set(null,c),a.set(g,c),this.count++,l=Nu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var zl={$$typeof:mt,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function JE(t,n,a,l,c,f,g,E,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jn(0),this.hiddenUpdates=Jn(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function ry(t,n,a,l,c,f,g,E,C,k,Q,K){return t=new JE(t,n,a,g,C,k,Q,K,E),n=1,f===!0&&(n|=24),f=dn(3,null,null,n),t.current=f,f.stateNode=t,n=nh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},rh(f),t}function ly(t){return t?(t=Fs,t):Fs}function oy(t,n,a,l,c,f){c=ly(c),l.context===null?l.context=c:l.pendingContext=c,l=oa(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=ua(t,l,n),a!==null&&(ln(a,t,n),dl(a,t,n))}function uy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Rf(t,n){uy(t,n),(t=t.alternate)&&uy(t,n)}function cy(t){if(t.tag===13||t.tag===31){var n=is(t,67108864);n!==null&&ln(n,t,67108864),Rf(t,67108864)}}function hy(t){if(t.tag===13||t.tag===31){var n=_n();n=Qa(n);var a=is(t,n);a!==null&&ln(a,t,n),Rf(t,n)}}var Mu=!0;function $E(t,n,a,l){var c=F.T;F.T=null;var f=et.p;try{et.p=2,wf(t,n,a,l)}finally{et.p=f,F.T=c}}function WE(t,n,a,l){var c=F.T;F.T=null;var f=et.p;try{et.p=8,wf(t,n,a,l)}finally{et.p=f,F.T=c}}function wf(t,n,a,l){if(Mu){var c=Cf(l);if(c===null)ff(t,n,l,zu,a),dy(t,l);else if(eT(c,t,n,a,l))l.stopPropagation();else if(dy(t,l),n&4&&-1<tT.indexOf(t)){for(;c!==null;){var f=Tn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Xn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var C=1<<31-ce(g);E.entanglements[1]|=C,g&=~C}mi(f),(kt&6)===0&&(yu=Ze()+500,Dl(0))}}break;case 31:case 13:E=is(f,2),E!==null&&ln(E,f,2),vu(),Rf(f,2)}if(f=Cf(l),f===null&&ff(t,n,l,zu,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else ff(t,n,l,null,a)}}function Cf(t){return t=Sn(t),xf(t)}var zu=null;function xf(t){if(zu=null,t=ti(t),t!==null){var n=h(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=p(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return zu=t,null}function fy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pa()){case Ur:return 2;case Br:return 8;case Yi:case Oc:return 32;case fo:return 268435456;default:return 32}default:return 32}}var Df=!1,Ea=null,Ta=null,Sa=null,Ll=new Map,jl=new Map,Aa=[],tT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dy(t,n){switch(t){case"focusin":case"focusout":Ea=null;break;case"dragenter":case"dragleave":Ta=null;break;case"mouseover":case"mouseout":Sa=null;break;case"pointerover":case"pointerout":Ll.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":jl.delete(n.pointerId)}}function Ul(t,n,a,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Tn(n),n!==null&&cy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function eT(t,n,a,l,c){switch(n){case"focusin":return Ea=Ul(Ea,t,n,a,l,c),!0;case"dragenter":return Ta=Ul(Ta,t,n,a,l,c),!0;case"mouseover":return Sa=Ul(Sa,t,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return Ll.set(f,Ul(Ll.get(f)||null,t,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,jl.set(f,Ul(jl.get(f)||null,t,n,a,l,c)),!0}return!1}function my(t){var n=ti(t.target);if(n!==null){var a=h(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Ln(t.priority,function(){hy(a)});return}}else if(n===31){if(n=p(a),n!==null){t.blockedOn=n,Ln(t.priority,function(){hy(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Lu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Cf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Jr=l,a.target.dispatchEvent(l),Jr=null}else return n=Tn(a),n!==null&&cy(n),t.blockedOn=a,!1;n.shift()}return!0}function gy(t,n,a){Lu(t)&&a.delete(n)}function nT(){Df=!1,Ea!==null&&Lu(Ea)&&(Ea=null),Ta!==null&&Lu(Ta)&&(Ta=null),Sa!==null&&Lu(Sa)&&(Sa=null),Ll.forEach(gy),jl.forEach(gy)}function ju(t,n){t.blockedOn===n&&(t.blockedOn=null,Df||(Df=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,nT)))}var Uu=null;function py(t){Uu!==t&&(Uu=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Uu===t&&(Uu=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(xf(l||a)===null)continue;break}var f=Tn(a);f!==null&&(t.splice(n,3),n-=3,wh(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function pr(t){function n(C){return ju(C,t)}Ea!==null&&ju(Ea,t),Ta!==null&&ju(Ta,t),Sa!==null&&ju(Sa,t),Ll.forEach(n),jl.forEach(n);for(var a=0;a<Aa.length;a++){var l=Aa[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Aa.length&&(a=Aa[0],a.blockedOn===null);)my(a),a.blockedOn===null&&Aa.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],g=c[Oe]||null;if(typeof f=="function")g||py(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[Oe]||null)E=g.formAction;else if(xf(c)!==null)continue}else E=g.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),py(a)}}}function yy(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function Vf(t){this._internalRoot=t}Bu.prototype.render=Vf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=_n();oy(a,l,t,n,null,null)},Bu.prototype.unmount=Vf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;oy(t.current,2,null,t,null,null),vu(),n[$n]=null}};function Bu(t){this._internalRoot=t}Bu.prototype.unstable_scheduleHydration=function(t){if(t){var n=vo();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Aa.length&&n!==0&&n<Aa[a].priority;a++);Aa.splice(a,0,t),a===0&&my(t)}};var _y=e.version;if(_y!=="19.2.3")throw Error(s(527,_y,"19.2.3"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=_(n),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var iT={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ku.isDisabled&&ku.supportsFiber)try{Mn=ku.inject(iT),je=ku}catch{}}return kl.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",c=Rg,f=wg,g=Cg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=ry(t,1,!1,null,null,a,l,null,c,f,g,yy),t[$n]=n.current,hf(t),new Vf(n)},kl.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,c="",f=Rg,g=wg,E=Cg,C=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),n=ry(t,1,!0,n,a??null,l,c,C,f,g,E,yy),n.context=ly(null),a=n.current,l=_n(),l=Qa(l),c=oa(l),c.callback=null,ua(a,c,l),a=l,n.current.lanes=a,Ha(n,a),mi(n),t[$n]=n.current,hf(t),new Bu(n)},kl.version="19.2.3",kl}var xy;function dT(){if(xy)return Of.exports;xy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Of.exports=fT(),Of.exports}var mT=dT();const gT=()=>{};var Dy={};const U_=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},pT=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const h=r[i++];e[s++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=r[i++],d=r[i++],p=r[i++],v=((o&7)<<18|(h&63)<<12|(d&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(v>>10)),e[s++]=String.fromCharCode(56320+(v&1023))}else{const h=r[i++],d=r[i++];e[s++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},B_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const h=r[o],d=o+1<r.length,p=d?r[o+1]:0,v=o+2<r.length,_=v?r[o+2]:0,T=h>>2,A=(h&3)<<4|p>>4;let V=(p&15)<<2|_>>6,M=_&63;v||(M=64,d||(V=64)),s.push(i[T],i[A],i[V],i[M])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(U_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):pT(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const h=i[r.charAt(o++)],p=o<r.length?i[r.charAt(o)]:0;++o;const _=o<r.length?i[r.charAt(o)]:64;++o;const A=o<r.length?i[r.charAt(o)]:64;if(++o,h==null||p==null||_==null||A==null)throw new yT;const V=h<<2|p>>4;if(s.push(V),_!==64){const M=p<<4&240|_>>2;if(s.push(M),A!==64){const P=_<<6&192|A;s.push(P)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class yT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _T=function(r){const e=U_(r);return B_.encodeByteArray(e,!0)},$u=function(r){return _T(r).replace(/\./g,"")},vT=function(r){try{return B_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ET(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const TT=()=>ET().__FIREBASE_DEFAULTS__,ST=()=>{if(typeof process>"u"||typeof Dy>"u")return;const r=Dy.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},AT=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&vT(r[1]);return e&&JSON.parse(e)},yd=()=>{try{return gT()||TT()||ST()||AT()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},bT=r=>yd()?.emulatorHosts?.[r],RT=r=>{const e=bT(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},k_=()=>yd()?.config;class wT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}function _d(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function CT(r){return(await fetch(r,{credentials:"include"})).ok}function xT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...r};return[$u(JSON.stringify(i)),$u(JSON.stringify(d)),""].join(".")}const Fl={};function DT(){const r={prod:[],emulator:[]};for(const e of Object.keys(Fl))Fl[e]?r.emulator.push(e):r.prod.push(e);return r}function VT(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let Vy=!1;function NT(r,e){if(typeof window>"u"||typeof document>"u"||!_d(window.location.host)||Fl[r]===e||Fl[r]||Vy)return;Fl[r]=e;function i(V){return`__firebase__banner__${V}`}const s="__firebase__banner",h=DT().prod.length>0;function d(){const V=document.getElementById(s);V&&V.remove()}function p(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function v(V,M){V.setAttribute("width","24"),V.setAttribute("id",M),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function _(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{Vy=!0,d()},V}function T(V,M){V.setAttribute("id",M),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function A(){const V=VT(s),M=i("text"),P=document.getElementById(M)||document.createElement("span"),J=i("learnmore"),W=document.getElementById(J)||document.createElement("a"),ot=i("preprendIcon"),ct=document.getElementById(ot)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const mt=V.element;p(mt),T(W,J);const Ut=_();v(ct,ot),mt.append(ct,P,W,Ut),document.body.appendChild(mt)}h?(P.innerText="Preview backend disconnected.",ct.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ct.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function IT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function OT(){const r=yd()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function MT(){return!OT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zT(){try{return typeof indexedDB=="object"}catch{return!1}}function LT(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const jT="FirebaseError";class Vr extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=jT,Object.setPrototypeOf(this,Vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,P_.prototype.create)}}class P_{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?UT(h,s):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new Vr(o,p,s)}}function UT(r,e){return r.replace(BT,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const BT=/\{\$([^}]+)}/g;function Wu(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const h=r[o],d=e[o];if(Ny(h)&&Ny(d)){if(!Wu(h,d))return!1}else if(h!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function Ny(r){return r!==null&&typeof r=="object"}function qi(r){return r&&r._delegate?r._delegate:r}class Jl{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ps="[DEFAULT]";class kT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new wT;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qT(e))try{this.getOrInitializeService({instanceIdentifier:ps})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});s.resolve(h)}catch{}}}}clearInstance(e=ps){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ps){return this.instances.has(e)}getOptions(e=ps){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(h);s===p&&d.resolve(o)}return o}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const h=this.instances.get(s);return h&&e(h,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:PT(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ps){return this.component?this.component.multipleInstances?e:ps:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function PT(r){return r===ps?void 0:r}function qT(r){return r.instantiationMode==="EAGER"}class HT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new kT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Ot;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ot||(Ot={}));const GT={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},QT=Ot.INFO,FT={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},YT=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=FT[e];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class q_{constructor(e){this.name=e,this._logLevel=QT,this._logHandler=YT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?GT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...e),this._logHandler(this,Ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...e),this._logHandler(this,Ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...e),this._logHandler(this,Ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...e),this._logHandler(this,Ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...e),this._logHandler(this,Ot.ERROR,...e)}}const KT=(r,e)=>e.some(i=>r instanceof i);let Iy,Oy;function XT(){return Iy||(Iy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZT(){return Oy||(Oy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const H_=new WeakMap,Ff=new WeakMap,G_=new WeakMap,jf=new WeakMap,vd=new WeakMap;function JT(r){const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",h),r.removeEventListener("error",d)},h=()=>{i(wa(r.result)),o()},d=()=>{s(r.error),o()};r.addEventListener("success",h),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&H_.set(i,r)}).catch(()=>{}),vd.set(e,r),e}function $T(r){if(Ff.has(r))return;const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",d),r.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",h),r.addEventListener("error",d),r.addEventListener("abort",d)});Ff.set(r,e)}let Yf={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Ff.get(r);if(e==="objectStoreNames")return r.objectStoreNames||G_.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return wa(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function WT(r){Yf=r(Yf)}function t1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(Uf(this),e,...i);return G_.set(s,e.sort?e.sort():[e]),wa(s)}:ZT().includes(r)?function(...e){return r.apply(Uf(this),e),wa(H_.get(this))}:function(...e){return wa(r.apply(Uf(this),e))}}function e1(r){return typeof r=="function"?t1(r):(r instanceof IDBTransaction&&$T(r),KT(r,XT())?new Proxy(r,Yf):r)}function wa(r){if(r instanceof IDBRequest)return JT(r);if(jf.has(r))return jf.get(r);const e=e1(r);return e!==r&&(jf.set(r,e),vd.set(e,r)),e}const Uf=r=>vd.get(r);function n1(r,e,{blocked:i,upgrade:s,blocking:o,terminated:h}={}){const d=indexedDB.open(r,e),p=wa(d);return s&&d.addEventListener("upgradeneeded",v=>{s(wa(d.result),v.oldVersion,v.newVersion,wa(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{h&&v.addEventListener("close",()=>h()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const i1=["get","getKey","getAll","getAllKeys","count"],a1=["put","add","delete","clear"],Bf=new Map;function My(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Bf.get(e))return Bf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=a1.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||i1.includes(i)))return;const h=async function(d,...p){const v=this.transaction(d,o?"readwrite":"readonly");let _=v.store;return s&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),o&&v.done]))[0]};return Bf.set(e,h),h}WT(r=>({...r,get:(e,i,s)=>My(e,i)||r.get(e,i,s),has:(e,i)=>!!My(e,i)||r.has(e,i)}));class s1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(r1(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function r1(r){return r.getComponent()?.type==="VERSION"}const Kf="@firebase/app",zy="0.14.6";const Hi=new q_("@firebase/app"),l1="@firebase/app-compat",o1="@firebase/analytics-compat",u1="@firebase/analytics",c1="@firebase/app-check-compat",h1="@firebase/app-check",f1="@firebase/auth",d1="@firebase/auth-compat",m1="@firebase/database",g1="@firebase/data-connect",p1="@firebase/database-compat",y1="@firebase/functions",_1="@firebase/functions-compat",v1="@firebase/installations",E1="@firebase/installations-compat",T1="@firebase/messaging",S1="@firebase/messaging-compat",A1="@firebase/performance",b1="@firebase/performance-compat",R1="@firebase/remote-config",w1="@firebase/remote-config-compat",C1="@firebase/storage",x1="@firebase/storage-compat",D1="@firebase/firestore",V1="@firebase/ai",N1="@firebase/firestore-compat",I1="firebase",O1="12.6.0";const Xf="[DEFAULT]",M1={[Kf]:"fire-core",[l1]:"fire-core-compat",[u1]:"fire-analytics",[o1]:"fire-analytics-compat",[h1]:"fire-app-check",[c1]:"fire-app-check-compat",[f1]:"fire-auth",[d1]:"fire-auth-compat",[m1]:"fire-rtdb",[g1]:"fire-data-connect",[p1]:"fire-rtdb-compat",[y1]:"fire-fn",[_1]:"fire-fn-compat",[v1]:"fire-iid",[E1]:"fire-iid-compat",[T1]:"fire-fcm",[S1]:"fire-fcm-compat",[A1]:"fire-perf",[b1]:"fire-perf-compat",[R1]:"fire-rc",[w1]:"fire-rc-compat",[C1]:"fire-gcs",[x1]:"fire-gcs-compat",[D1]:"fire-fst",[N1]:"fire-fst-compat",[V1]:"fire-vertex","fire-js":"fire-js",[I1]:"fire-js-all"};const tc=new Map,z1=new Map,Zf=new Map;function Ly(r,e){try{r.container.addComponent(e)}catch(i){Hi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function ec(r){const e=r.name;if(Zf.has(e))return Hi.debug(`There were multiple attempts to register component ${e}.`),!1;Zf.set(e,r);for(const i of tc.values())Ly(i,r);for(const i of z1.values())Ly(i,r);return!0}function L1(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function j1(r){return r==null?!1:r.settings!==void 0}const U1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ca=new P_("app","Firebase",U1);class B1{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Jl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ca.create("app-deleted",{appName:this._name})}}const k1=O1;function Q_(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s={name:Xf,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Ca.create("bad-app-name",{appName:String(o)});if(i||(i=k_()),!i)throw Ca.create("no-options");const h=tc.get(o);if(h){if(Wu(i,h.options)&&Wu(s,h.config))return h;throw Ca.create("duplicate-app",{appName:o})}const d=new HT(o);for(const v of Zf.values())d.addComponent(v);const p=new B1(i,s,d);return tc.set(o,p),p}function P1(r=Xf){const e=tc.get(r);if(!e&&r===Xf&&k_())return Q_();if(!e)throw Ca.create("no-app",{appName:r});return e}function Tr(r,e,i){let s=M1[r]??r;i&&(s+=`-${i}`);const o=s.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hi.warn(d.join(" "));return}ec(new Jl(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const q1="firebase-heartbeat-database",H1=1,$l="firebase-heartbeat-store";let kf=null;function F_(){return kf||(kf=n1(q1,H1,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore($l)}catch(i){console.warn(i)}}}}).catch(r=>{throw Ca.create("idb-open",{originalErrorMessage:r.message})})),kf}async function G1(r){try{const i=(await F_()).transaction($l),s=await i.objectStore($l).get(Y_(r));return await i.done,s}catch(e){if(e instanceof Vr)Hi.warn(e.message);else{const i=Ca.create("idb-get",{originalErrorMessage:e?.message});Hi.warn(i.message)}}}async function jy(r,e){try{const s=(await F_()).transaction($l,"readwrite");await s.objectStore($l).put(e,Y_(r)),await s.done}catch(i){if(i instanceof Vr)Hi.warn(i.message);else{const s=Ca.create("idb-set",{originalErrorMessage:i?.message});Hi.warn(s.message)}}}function Y_(r){return`${r.name}!${r.options.appId}`}const Q1=1024,F1=30;class Y1{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new X1(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Uy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>F1){const o=Z1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Hi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Uy(),{heartbeatsToSend:i,unsentEntries:s}=K1(this._heartbeatsCache.heartbeats),o=$u(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Hi.warn(e),""}}}function Uy(){return new Date().toISOString().substring(0,10)}function K1(r,e=Q1){const i=[];let s=r.slice();for(const o of r){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),By(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),By(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class X1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zT()?LT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await G1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return jy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return jy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function By(r){return $u(JSON.stringify({version:2,heartbeats:r})).length}function Z1(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}function J1(r){ec(new Jl("platform-logger",e=>new s1(e),"PRIVATE")),ec(new Jl("heartbeat",e=>new Y1(e),"PRIVATE")),Tr(Kf,zy,r),Tr(Kf,zy,"esm2020"),Tr("fire-js","")}J1("");var $1="firebase",W1="12.7.0";Tr($1,W1,"app");var ky=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var xa,K_;(function(){var r;function e(D,b){function x(){}x.prototype=b.prototype,D.F=b.prototype,D.prototype=new x,D.prototype.constructor=D,D.D=function(z,I,j){for(var w=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)w[ie-2]=arguments[ie];return b.prototype[I].apply(z,w)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,b,x){x||(x=0);const z=Array(16);if(typeof b=="string")for(var I=0;I<16;++I)z[I]=b.charCodeAt(x++)|b.charCodeAt(x++)<<8|b.charCodeAt(x++)<<16|b.charCodeAt(x++)<<24;else for(I=0;I<16;++I)z[I]=b[x++]|b[x++]<<8|b[x++]<<16|b[x++]<<24;b=D.g[0],x=D.g[1],I=D.g[2];let j=D.g[3],w;w=b+(j^x&(I^j))+z[0]+3614090360&4294967295,b=x+(w<<7&4294967295|w>>>25),w=j+(I^b&(x^I))+z[1]+3905402710&4294967295,j=b+(w<<12&4294967295|w>>>20),w=I+(x^j&(b^x))+z[2]+606105819&4294967295,I=j+(w<<17&4294967295|w>>>15),w=x+(b^I&(j^b))+z[3]+3250441966&4294967295,x=I+(w<<22&4294967295|w>>>10),w=b+(j^x&(I^j))+z[4]+4118548399&4294967295,b=x+(w<<7&4294967295|w>>>25),w=j+(I^b&(x^I))+z[5]+1200080426&4294967295,j=b+(w<<12&4294967295|w>>>20),w=I+(x^j&(b^x))+z[6]+2821735955&4294967295,I=j+(w<<17&4294967295|w>>>15),w=x+(b^I&(j^b))+z[7]+4249261313&4294967295,x=I+(w<<22&4294967295|w>>>10),w=b+(j^x&(I^j))+z[8]+1770035416&4294967295,b=x+(w<<7&4294967295|w>>>25),w=j+(I^b&(x^I))+z[9]+2336552879&4294967295,j=b+(w<<12&4294967295|w>>>20),w=I+(x^j&(b^x))+z[10]+4294925233&4294967295,I=j+(w<<17&4294967295|w>>>15),w=x+(b^I&(j^b))+z[11]+2304563134&4294967295,x=I+(w<<22&4294967295|w>>>10),w=b+(j^x&(I^j))+z[12]+1804603682&4294967295,b=x+(w<<7&4294967295|w>>>25),w=j+(I^b&(x^I))+z[13]+4254626195&4294967295,j=b+(w<<12&4294967295|w>>>20),w=I+(x^j&(b^x))+z[14]+2792965006&4294967295,I=j+(w<<17&4294967295|w>>>15),w=x+(b^I&(j^b))+z[15]+1236535329&4294967295,x=I+(w<<22&4294967295|w>>>10),w=b+(I^j&(x^I))+z[1]+4129170786&4294967295,b=x+(w<<5&4294967295|w>>>27),w=j+(x^I&(b^x))+z[6]+3225465664&4294967295,j=b+(w<<9&4294967295|w>>>23),w=I+(b^x&(j^b))+z[11]+643717713&4294967295,I=j+(w<<14&4294967295|w>>>18),w=x+(j^b&(I^j))+z[0]+3921069994&4294967295,x=I+(w<<20&4294967295|w>>>12),w=b+(I^j&(x^I))+z[5]+3593408605&4294967295,b=x+(w<<5&4294967295|w>>>27),w=j+(x^I&(b^x))+z[10]+38016083&4294967295,j=b+(w<<9&4294967295|w>>>23),w=I+(b^x&(j^b))+z[15]+3634488961&4294967295,I=j+(w<<14&4294967295|w>>>18),w=x+(j^b&(I^j))+z[4]+3889429448&4294967295,x=I+(w<<20&4294967295|w>>>12),w=b+(I^j&(x^I))+z[9]+568446438&4294967295,b=x+(w<<5&4294967295|w>>>27),w=j+(x^I&(b^x))+z[14]+3275163606&4294967295,j=b+(w<<9&4294967295|w>>>23),w=I+(b^x&(j^b))+z[3]+4107603335&4294967295,I=j+(w<<14&4294967295|w>>>18),w=x+(j^b&(I^j))+z[8]+1163531501&4294967295,x=I+(w<<20&4294967295|w>>>12),w=b+(I^j&(x^I))+z[13]+2850285829&4294967295,b=x+(w<<5&4294967295|w>>>27),w=j+(x^I&(b^x))+z[2]+4243563512&4294967295,j=b+(w<<9&4294967295|w>>>23),w=I+(b^x&(j^b))+z[7]+1735328473&4294967295,I=j+(w<<14&4294967295|w>>>18),w=x+(j^b&(I^j))+z[12]+2368359562&4294967295,x=I+(w<<20&4294967295|w>>>12),w=b+(x^I^j)+z[5]+4294588738&4294967295,b=x+(w<<4&4294967295|w>>>28),w=j+(b^x^I)+z[8]+2272392833&4294967295,j=b+(w<<11&4294967295|w>>>21),w=I+(j^b^x)+z[11]+1839030562&4294967295,I=j+(w<<16&4294967295|w>>>16),w=x+(I^j^b)+z[14]+4259657740&4294967295,x=I+(w<<23&4294967295|w>>>9),w=b+(x^I^j)+z[1]+2763975236&4294967295,b=x+(w<<4&4294967295|w>>>28),w=j+(b^x^I)+z[4]+1272893353&4294967295,j=b+(w<<11&4294967295|w>>>21),w=I+(j^b^x)+z[7]+4139469664&4294967295,I=j+(w<<16&4294967295|w>>>16),w=x+(I^j^b)+z[10]+3200236656&4294967295,x=I+(w<<23&4294967295|w>>>9),w=b+(x^I^j)+z[13]+681279174&4294967295,b=x+(w<<4&4294967295|w>>>28),w=j+(b^x^I)+z[0]+3936430074&4294967295,j=b+(w<<11&4294967295|w>>>21),w=I+(j^b^x)+z[3]+3572445317&4294967295,I=j+(w<<16&4294967295|w>>>16),w=x+(I^j^b)+z[6]+76029189&4294967295,x=I+(w<<23&4294967295|w>>>9),w=b+(x^I^j)+z[9]+3654602809&4294967295,b=x+(w<<4&4294967295|w>>>28),w=j+(b^x^I)+z[12]+3873151461&4294967295,j=b+(w<<11&4294967295|w>>>21),w=I+(j^b^x)+z[15]+530742520&4294967295,I=j+(w<<16&4294967295|w>>>16),w=x+(I^j^b)+z[2]+3299628645&4294967295,x=I+(w<<23&4294967295|w>>>9),w=b+(I^(x|~j))+z[0]+4096336452&4294967295,b=x+(w<<6&4294967295|w>>>26),w=j+(x^(b|~I))+z[7]+1126891415&4294967295,j=b+(w<<10&4294967295|w>>>22),w=I+(b^(j|~x))+z[14]+2878612391&4294967295,I=j+(w<<15&4294967295|w>>>17),w=x+(j^(I|~b))+z[5]+4237533241&4294967295,x=I+(w<<21&4294967295|w>>>11),w=b+(I^(x|~j))+z[12]+1700485571&4294967295,b=x+(w<<6&4294967295|w>>>26),w=j+(x^(b|~I))+z[3]+2399980690&4294967295,j=b+(w<<10&4294967295|w>>>22),w=I+(b^(j|~x))+z[10]+4293915773&4294967295,I=j+(w<<15&4294967295|w>>>17),w=x+(j^(I|~b))+z[1]+2240044497&4294967295,x=I+(w<<21&4294967295|w>>>11),w=b+(I^(x|~j))+z[8]+1873313359&4294967295,b=x+(w<<6&4294967295|w>>>26),w=j+(x^(b|~I))+z[15]+4264355552&4294967295,j=b+(w<<10&4294967295|w>>>22),w=I+(b^(j|~x))+z[6]+2734768916&4294967295,I=j+(w<<15&4294967295|w>>>17),w=x+(j^(I|~b))+z[13]+1309151649&4294967295,x=I+(w<<21&4294967295|w>>>11),w=b+(I^(x|~j))+z[4]+4149444226&4294967295,b=x+(w<<6&4294967295|w>>>26),w=j+(x^(b|~I))+z[11]+3174756917&4294967295,j=b+(w<<10&4294967295|w>>>22),w=I+(b^(j|~x))+z[2]+718787259&4294967295,I=j+(w<<15&4294967295|w>>>17),w=x+(j^(I|~b))+z[9]+3951481745&4294967295,D.g[0]=D.g[0]+b&4294967295,D.g[1]=D.g[1]+(I+(w<<21&4294967295|w>>>11))&4294967295,D.g[2]=D.g[2]+I&4294967295,D.g[3]=D.g[3]+j&4294967295}s.prototype.v=function(D,b){b===void 0&&(b=D.length);const x=b-this.blockSize,z=this.C;let I=this.h,j=0;for(;j<b;){if(I==0)for(;j<=x;)o(this,D,j),j+=this.blockSize;if(typeof D=="string"){for(;j<b;)if(z[I++]=D.charCodeAt(j++),I==this.blockSize){o(this,z),I=0;break}}else for(;j<b;)if(z[I++]=D[j++],I==this.blockSize){o(this,z),I=0;break}}this.h=I,this.o+=b},s.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var b=1;b<D.length-8;++b)D[b]=0;b=this.o*8;for(var x=D.length-8;x<D.length;++x)D[x]=b&255,b/=256;for(this.v(D),D=Array(16),b=0,x=0;x<4;++x)for(let z=0;z<32;z+=8)D[b++]=this.g[x]>>>z&255;return D};function h(D,b){var x=p;return Object.prototype.hasOwnProperty.call(x,D)?x[D]:x[D]=b(D)}function d(D,b){this.h=b;const x=[];let z=!0;for(let I=D.length-1;I>=0;I--){const j=D[I]|0;z&&j==b||(x[I]=j,z=!1)}this.g=x}var p={};function v(D){return-128<=D&&D<128?h(D,function(b){return new d([b|0],b<0?-1:0)}):new d([D|0],D<0?-1:0)}function _(D){if(isNaN(D)||!isFinite(D))return A;if(D<0)return W(_(-D));const b=[];let x=1;for(let z=0;D>=x;z++)b[z]=D/x|0,x*=4294967296;return new d(b,0)}function T(D,b){if(D.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(D.charAt(0)=="-")return W(T(D.substring(1),b));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=_(Math.pow(b,8));let z=A;for(let j=0;j<D.length;j+=8){var I=Math.min(8,D.length-j);const w=parseInt(D.substring(j,j+I),b);I<8?(I=_(Math.pow(b,I)),z=z.j(I).add(_(w))):(z=z.j(x),z=z.add(_(w)))}return z}var A=v(0),V=v(1),M=v(16777216);r=d.prototype,r.m=function(){if(J(this))return-W(this).m();let D=0,b=1;for(let x=0;x<this.g.length;x++){const z=this.i(x);D+=(z>=0?z:4294967296+z)*b,b*=4294967296}return D},r.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(P(this))return"0";if(J(this))return"-"+W(this).toString(D);const b=_(Math.pow(D,6));var x=this;let z="";for(;;){const I=Ut(x,b).g;x=ot(x,I.j(b));let j=((x.g.length>0?x.g[0]:x.h)>>>0).toString(D);if(x=I,P(x))return j+z;for(;j.length<6;)j="0"+j;z=j+z}},r.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function P(D){if(D.h!=0)return!1;for(let b=0;b<D.g.length;b++)if(D.g[b]!=0)return!1;return!0}function J(D){return D.h==-1}r.l=function(D){return D=ot(this,D),J(D)?-1:P(D)?0:1};function W(D){const b=D.g.length,x=[];for(let z=0;z<b;z++)x[z]=~D.g[z];return new d(x,~D.h).add(V)}r.abs=function(){return J(this)?W(this):this},r.add=function(D){const b=Math.max(this.g.length,D.g.length),x=[];let z=0;for(let I=0;I<=b;I++){let j=z+(this.i(I)&65535)+(D.i(I)&65535),w=(j>>>16)+(this.i(I)>>>16)+(D.i(I)>>>16);z=w>>>16,j&=65535,w&=65535,x[I]=w<<16|j}return new d(x,x[x.length-1]&-2147483648?-1:0)};function ot(D,b){return D.add(W(b))}r.j=function(D){if(P(this)||P(D))return A;if(J(this))return J(D)?W(this).j(W(D)):W(W(this).j(D));if(J(D))return W(this.j(W(D)));if(this.l(M)<0&&D.l(M)<0)return _(this.m()*D.m());const b=this.g.length+D.g.length,x=[];for(var z=0;z<2*b;z++)x[z]=0;for(z=0;z<this.g.length;z++)for(let I=0;I<D.g.length;I++){const j=this.i(z)>>>16,w=this.i(z)&65535,ie=D.i(I)>>>16,Ce=D.i(I)&65535;x[2*z+2*I]+=w*Ce,ct(x,2*z+2*I),x[2*z+2*I+1]+=j*Ce,ct(x,2*z+2*I+1),x[2*z+2*I+1]+=w*ie,ct(x,2*z+2*I+1),x[2*z+2*I+2]+=j*ie,ct(x,2*z+2*I+2)}for(D=0;D<b;D++)x[D]=x[2*D+1]<<16|x[2*D];for(D=b;D<2*b;D++)x[D]=0;return new d(x,0)};function ct(D,b){for(;(D[b]&65535)!=D[b];)D[b+1]+=D[b]>>>16,D[b]&=65535,b++}function mt(D,b){this.g=D,this.h=b}function Ut(D,b){if(P(b))throw Error("division by zero");if(P(D))return new mt(A,A);if(J(D))return b=Ut(W(D),b),new mt(W(b.g),W(b.h));if(J(b))return b=Ut(D,W(b)),new mt(W(b.g),b.h);if(D.g.length>30){if(J(D)||J(b))throw Error("slowDivide_ only works with positive integers.");for(var x=V,z=b;z.l(D)<=0;)x=$t(x),z=$t(z);var I=Mt(x,1),j=Mt(z,1);for(z=Mt(z,2),x=Mt(x,2);!P(z);){var w=j.add(z);w.l(D)<=0&&(I=I.add(x),j=w),z=Mt(z,1),x=Mt(x,1)}return b=ot(D,I.j(b)),new mt(I,b)}for(I=A;D.l(b)>=0;){for(x=Math.max(1,Math.floor(D.m()/b.m())),z=Math.ceil(Math.log(x)/Math.LN2),z=z<=48?1:Math.pow(2,z-48),j=_(x),w=j.j(b);J(w)||w.l(D)>0;)x-=z,j=_(x),w=j.j(b);P(j)&&(j=V),I=I.add(j),D=ot(D,w)}return new mt(I,D)}r.B=function(D){return Ut(this,D).h},r.and=function(D){const b=Math.max(this.g.length,D.g.length),x=[];for(let z=0;z<b;z++)x[z]=this.i(z)&D.i(z);return new d(x,this.h&D.h)},r.or=function(D){const b=Math.max(this.g.length,D.g.length),x=[];for(let z=0;z<b;z++)x[z]=this.i(z)|D.i(z);return new d(x,this.h|D.h)},r.xor=function(D){const b=Math.max(this.g.length,D.g.length),x=[];for(let z=0;z<b;z++)x[z]=this.i(z)^D.i(z);return new d(x,this.h^D.h)};function $t(D){const b=D.g.length+1,x=[];for(let z=0;z<b;z++)x[z]=D.i(z)<<1|D.i(z-1)>>>31;return new d(x,D.h)}function Mt(D,b){const x=b>>5;b%=32;const z=D.g.length-x,I=[];for(let j=0;j<z;j++)I[j]=b>0?D.i(j+x)>>>b|D.i(j+x+1)<<32-b:D.i(j+x);return new d(I,D.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,K_=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=T,xa=d}).apply(typeof ky<"u"?ky:typeof self<"u"?self:typeof window<"u"?window:{});var Pu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var X_,Pl,Z_,Fu,Jf,J_,$_,W_;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pu=="object"&&Pu];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var y=s;u=u.split(".");for(var S=0;S<u.length-1;S++){var U=u[S];if(!(U in y))break t;y=y[U]}u=u[u.length-1],S=y[u],m=m(S),m!=S&&m!=null&&e(y,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var y=[],S;for(S in m)Object.prototype.hasOwnProperty.call(m,S)&&y.push([S,m[S]]);return y}});var h=h||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,y){return u.call.apply(u.bind,arguments)}function _(u,m,y){return _=v,_.apply(null,arguments)}function T(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var S=y.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function A(u,m){function y(){}y.prototype=m.prototype,u.Z=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Ob=function(S,U,H){for(var tt=Array(arguments.length-2),Et=2;Et<arguments.length;Et++)tt[Et-2]=arguments[Et];return m.prototype[U].apply(S,tt)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function M(u){const m=u.length;if(m>0){const y=Array(m);for(let S=0;S<m;S++)y[S]=u[S];return y}return[]}function P(u,m){for(let S=1;S<arguments.length;S++){const U=arguments[S];var y=typeof U;if(y=y!="object"?y:U?Array.isArray(U)?"array":y:"null",y=="array"||y=="object"&&typeof U.length=="number"){y=u.length||0;const H=U.length||0;u.length=y+H;for(let tt=0;tt<H;tt++)u[y+tt]=U[tt]}else u.push(U)}}class J{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function ot(){var u=D;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ct{constructor(){this.h=this.g=null}add(m,y){const S=mt.get();S.set(m,y),this.h?this.h.next=S:this.g=S,this.h=S}}var mt=new J(()=>new Ut,u=>u.reset());class Ut{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let $t,Mt=!1,D=new ct,b=()=>{const u=Promise.resolve(void 0);$t=()=>{u.then(x)}};function x(){for(var u;u=ot();){try{u.h.call(u.g)}catch(y){W(y)}var m=mt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Mt=!1}function z(){this.u=this.u,this.C=this.C}z.prototype.u=!1,z.prototype.dispose=function(){this.u||(this.u=!0,this.N())},z.prototype[Symbol.dispose]=function(){this.dispose()},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};d.addEventListener("test",y,m),d.removeEventListener("test",y,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function ie(u,m){I.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(ie,I),ie.prototype.init=function(u,m){const y=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ce="closure_listenable_"+(Math.random()*1e6|0),F=0;function et(u,m,y,S,U){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!S,this.ha=U,this.key=++F,this.da=this.fa=!1}function ht(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function zt(u,m,y){for(const S in u)m.call(y,u[S],S,u)}function qt(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function O(u){const m={};for(const y in u)m[y]=u[y];return m}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let y,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(y in S)u[y]=S[y];for(let H=0;H<X.length;H++)y=X[H],Object.prototype.hasOwnProperty.call(S,y)&&(u[y]=S[y])}}function at(u){this.src=u,this.g={},this.h=0}at.prototype.add=function(u,m,y,S,U){const H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);const tt=St(u,m,S,U);return tt>-1?(m=u[tt],y||(m.fa=!1)):(m=new et(m,this.src,H,!!S,U),m.fa=y,u.push(m)),m};function pt(u,m){const y=m.type;if(y in u.g){var S=u.g[y],U=Array.prototype.indexOf.call(S,m,void 0),H;(H=U>=0)&&Array.prototype.splice.call(S,U,1),H&&(ht(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function St(u,m,y,S){for(let U=0;U<u.length;++U){const H=u[U];if(!H.da&&H.listener==m&&H.capture==!!y&&H.ha==S)return U}return-1}var Nt="closure_lm_"+(Math.random()*1e6|0),xe={};function ae(u,m,y,S,U){if(Array.isArray(m)){for(let H=0;H<m.length;H++)ae(u,m[H],y,S,U);return null}return y=jr(y),u&&u[Ce]?u.J(m,y,p(S)?!!S.capture:!1,U):Ba(u,m,y,!1,S,U)}function Ba(u,m,y,S,U,H){if(!m)throw Error("Invalid event type");const tt=p(U)?!!U.capture:!!U;let Et=ka(u);if(Et||(u[Nt]=Et=new at(u)),y=Et.add(m,y,S,tt,H),y.proxy)return y;if(S=Cs(),y.proxy=S,S.src=u,S.listener=y,u.addEventListener)j||(U=tt),U===void 0&&(U=!1),u.addEventListener(m.toString(),S,U);else if(u.attachEvent)u.attachEvent(Yn(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Cs(){function u(y){return m.call(u.src,u.listener,y)}const m=zr;return u}function xs(u,m,y,S,U){if(Array.isArray(m))for(var H=0;H<m.length;H++)xs(u,m[H],y,S,U);else S=p(S)?!!S.capture:!!S,y=jr(y),u&&u[Ce]?(u=u.i,H=String(m).toString(),H in u.g&&(m=u.g[H],y=St(m,y,S,U),y>-1&&(ht(m[y]),Array.prototype.splice.call(m,y,1),m.length==0&&(delete u.g[H],u.h--)))):u&&(u=ka(u))&&(m=u.g[m.toString()],u=-1,m&&(u=St(m,y,S,U)),(y=u>-1?m[u]:null)&&Ds(y))}function Ds(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ce])pt(m.i,u);else{var y=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(y,S,u.capture):m.detachEvent?m.detachEvent(Yn(y),S):m.addListener&&m.removeListener&&m.removeListener(S),(y=ka(m))?(pt(y,u),y.h==0&&(y.src=null,m[Nt]=null)):ht(u)}}}function Yn(u){return u in xe?xe[u]:xe[u]="on"+u}function zr(u,m){if(u.da)u=!0;else{m=new ie(m,this);const y=u.listener,S=u.ha||u.src;u.fa&&Ds(u),u=y.call(S,m)}return u}function ka(u){return u=u[Nt],u instanceof at?u:null}var Lr="__closure_events_fn_"+(Math.random()*1e9>>>0);function jr(u){return typeof u=="function"?u:(u[Lr]||(u[Lr]=function(m){return u.handleEvent(m)}),u[Lr])}function ge(){z.call(this),this.i=new at(this),this.M=this,this.G=null}A(ge,z),ge.prototype[Ce]=!0,ge.prototype.removeEventListener=function(u,m,y,S){xs(this,u,m,y,S)};function De(u,m){var y,S=u.G;if(S)for(y=[];S;S=S.G)y.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new I(m,u);else if(m instanceof I)m.target=m.target||u;else{var U=m;m=new I(S,u),nt(m,U)}U=!0;let H,tt;if(y)for(tt=y.length-1;tt>=0;tt--)H=m.g=y[tt],U=Fi(H,S,!0,m)&&U;if(H=m.g=u,U=Fi(H,S,!0,m)&&U,U=Fi(H,S,!1,m)&&U,y)for(tt=0;tt<y.length;tt++)H=m.g=y[tt],U=Fi(H,S,!1,m)&&U}ge.prototype.N=function(){if(ge.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const y=u.g[m];for(let S=0;S<y.length;S++)ht(y[S]);delete u.g[m],u.h--}}this.G=null},ge.prototype.J=function(u,m,y,S){return this.i.add(String(u),m,!1,y,S)},ge.prototype.K=function(u,m,y,S){return this.i.add(String(u),m,!0,y,S)};function Fi(u,m,y,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let H=0;H<m.length;++H){const tt=m[H];if(tt&&!tt.da&&tt.capture==y){const Et=tt.listener,he=tt.ha||tt.src;tt.fa&&pt(u.i,tt),U=Et.call(he,S)!==!1&&U}}return U&&!S.defaultPrevented}function Ic(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function ho(u){u.g=Ic(()=>{u.g=null,u.i&&(u.i=!1,ho(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ze extends z{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ho(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pa(u){z.call(this),this.h=u,this.g={}}A(Pa,z);var Ur=[];function Br(u){zt(u.g,function(m,y){this.g.hasOwnProperty(y)&&Ds(m)},u),u.g={}}Pa.prototype.N=function(){Pa.Z.N.call(this),Br(this)},Pa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yi=d.JSON.stringify,Oc=d.JSON.parse,fo=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function mo(){}function go(){}var Mn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function je(){I.call(this,"d")}A(je,I);function En(){I.call(this,"c")}A(En,I);var ce={},po=null;function Vs(){return po=po||new ge}ce.Ia="serverreachability";function yo(u){I.call(this,ce.Ia,u)}A(yo,I);function Kn(u){const m=Vs();De(m,new yo(m))}ce.STAT_EVENT="statevent";function qa(u,m){I.call(this,ce.STAT_EVENT,u),this.stat=m}A(qa,I);function pe(u){const m=Vs();De(m,new qa(m,u))}ce.Ja="timingevent";function Xn(u,m){I.call(this,ce.Ja,u),this.size=m}A(Xn,I);function Zn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function zn(){this.g=!0}zn.prototype.ua=function(){this.g=!1};function Mc(u,m,y,S,U,H){u.info(function(){if(u.g)if(H){var tt="",Et=H.split("&");for(let Bt=0;Bt<Et.length;Bt++){var he=Et[Bt].split("=");if(he.length>1){const se=he[0];he=he[1];const bn=se.split("_");tt=bn.length>=2&&bn[1]=="type"?tt+(se+"="+he+"&"):tt+(se+"=redacted&")}}}else tt=null;else tt=H;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+m+`
`+y+`
`+tt})}function _o(u,m,y,S,U,H,tt){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+m+`
`+y+`
`+H+" "+tt})}function Jn(u,m,y,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+zc(u,y)+(S?" "+S:"")})}function Ha(u,m){u.info(function(){return"TIMEOUT: "+m})}zn.prototype.info=function(){};function zc(u,m){if(!u.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(u=0;u<H.length;u++)if(Array.isArray(H[u])){var y=H[u];if(!(y.length<2)){var S=y[1];if(Array.isArray(S)&&!(S.length<1)){var U=S[0];if(U!="noop"&&U!="stop"&&U!="close")for(let tt=1;tt<S.length;tt++)S[tt]=""}}}}return Yi(H)}catch{return m}}var Ga={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},kr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Pr;function Qa(){}A(Qa,mo),Qa.prototype.g=function(){return new XMLHttpRequest},Pr=new Qa;function Ai(u){return encodeURIComponent(String(u))}function vo(u){var m=1;u=u.split(":");const y=[];for(;m>0&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function Ln(u,m,y,S){this.j=u,this.i=m,this.l=y,this.S=S||1,this.V=new Pa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new jn}function jn(){this.i=null,this.g="",this.h=!1}var ye={},Oe={};function $n(u,m,y){u.M=1,u.A=Fa(ve(m)),u.u=y,u.R=!0,Ns(u,null)}function Ns(u,m){u.F=Date.now(),Wn(u),u.B=ve(u.A);var y=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),zs(y.i,"t",S),u.C=0,y=u.j.L,u.h=new jn,u.g=Mo(u.j,y?m:null,!u.u),u.P>0&&(u.O=new Ze(_(u.Y,u,u.g),u.P)),m=u.V,y=u.g,S=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(Ur[0]=U.toString()),U=Ur);for(let H=0;H<U.length;H++){const tt=ae(y,U[H],S||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Kn(),Mc(u.i,u.v,u.B,u.l,u.S,u.u)}Ln.prototype.ba=function(u){u=u.target;const m=this.O;m&&kn(u)==3?m.j():this.Y(u)},Ln.prototype.Y=function(u){try{if(u==this.g)t:{const Et=kn(this.g),he=this.g.ya(),Bt=this.g.ca();if(!(Et<3)&&(Et!=3||this.g&&(this.h.h||this.g.la()||Ue(this.g)))){this.K||Et!=4||he==7||(he==8||Bt<=0?Kn(3):Kn(2)),ti(this);var m=this.g.ca();this.X=m;var y=Lc(this);if(this.o=m==200,_o(this.i,this.v,this.B,this.l,this.S,Et,m),this.o){if(this.U&&!this.L){e:{if(this.g){var S,U=this.g;if((S=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(S)){var H=S;break e}}H=null}if(u=H)Jn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ei(this,u);else{this.o=!1,this.m=3,pe(12),cn(this),Tn(this);break t}}if(this.R){u=!0;let se;for(;!this.K&&this.C<y.length;)if(se=To(this,y),se==Oe){Et==4&&(this.m=4,pe(14),u=!1),Jn(this.i,this.l,null,"[Incomplete Response]");break}else if(se==ye){this.m=4,pe(15),Jn(this.i,this.l,y,"[Invalid Chunk]"),u=!1;break}else Jn(this.i,this.l,se,null),ei(this,se);if(Eo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||y.length!=0||this.h.h||(this.m=1,pe(16),u=!1),this.o=this.o&&u,!u)Jn(this.i,this.l,y,"[Invalid Chunked Response]"),cn(this),Tn(this);else if(y.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),nl(tt),tt.P=!0,pe(11))}}else Jn(this.i,this.l,y,null),ei(this,y);Et==4&&cn(this),this.o&&!this.K&&(Et==4?Vo(this.j,this):(this.o=!1,Wn(this)))}else Ri(this.g),m==400&&y.indexOf("Unknown SID")>0?(this.m=3,pe(12)):(this.m=0,pe(13)),cn(this),Tn(this)}}}catch{}};function Lc(u){if(!Eo(u))return u.g.la();const m=Ue(u.g);if(m==="")return"";let y="";const S=m.length,U=kn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return cn(u),Tn(u),"";u.h.i=new d.TextDecoder}for(let H=0;H<S;H++)u.h.h=!0,y+=u.h.i.decode(m[H],{stream:!(U&&H==S-1)});return m.length=0,u.h.g+=y,u.C=0,u.h.g}function Eo(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function To(u,m){var y=u.C,S=m.indexOf(`
`,y);return S==-1?Oe:(y=Number(m.substring(y,S)),isNaN(y)?ye:(S+=1,S+y>m.length?Oe:(m=m.slice(S,S+y),u.C=S+y,m)))}Ln.prototype.cancel=function(){this.K=!0,cn(this)};function Wn(u){u.T=Date.now()+u.H,Is(u,u.H)}function Is(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Zn(_(u.aa,u),m)}function ti(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Ln.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Ha(this.i,this.B),this.M!=2&&(Kn(),pe(17)),cn(this),this.m=2,Tn(this)):Is(this,this.T-u)};function Tn(u){u.j.I==0||u.K||Vo(u.j,u)}function cn(u){ti(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Br(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ei(u,m){try{var y=u.j;if(y.I!=0&&(y.g==u||ii(y.h,u))){if(!u.L&&ii(y.h,u)&&y.I==3){try{var S=y.Ba.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){t:if(!y.v){if(y.g)if(y.g.F+3e3<u.F)ks(y),ea(y);else break t;Wa(y),pe(18)}}else y.xa=U[1],0<y.xa-y.K&&U[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=Zn(_(y.Va,y),6e3));ni(y.h)<=1&&y.ta&&(y.ta=void 0)}else ui(y,11)}else if((u.L||y.g==u)&&ks(y),!w(m))for(U=y.Ba.g.parse(m),m=0;m<U.length;m++){let Bt=U[m];const se=Bt[0];if(!(se<=y.K))if(y.K=se,Bt=Bt[1],y.I==2)if(Bt[0]=="c"){y.M=Bt[1],y.ba=Bt[2];const bn=Bt[3];bn!=null&&(y.ka=bn,y.j.info("VER="+y.ka));const ci=Bt[4];ci!=null&&(y.za=ci,y.j.info("SVER="+y.za));const Pn=Bt[5];Pn!=null&&typeof Pn=="number"&&Pn>0&&(S=1.5*Pn,y.O=S,y.j.info("backChannelRequestTimeoutMs_="+S)),S=y;const qn=u.g;if(qn){const ts=qn.g?qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ts){var H=S.h;H.g||ts.indexOf("spdy")==-1&&ts.indexOf("quic")==-1&&ts.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Gr(H,H.h),H.h=null))}if(S.G){const Ps=qn.g?qn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ps&&(S.wa=Ps,Ht(S.J,S.G,Ps))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-u.F,y.j.info("Handshake RTT: "+y.T+"ms")),S=y;var tt=u;if(S.na=Oo(S,S.L?S.ba:null,S.W),tt.L){Qr(S.h,tt);var Et=tt,he=S.O;he&&(Et.H=he),Et.D&&(ti(Et),Wn(Et)),S.g=tt}else xo(S);y.i.length>0&&oi(y)}else Bt[0]!="stop"&&Bt[0]!="close"||ui(y,7);else y.I==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?ui(y,7):tl(y):Bt[0]!="noop"&&y.l&&y.l.qa(Bt),y.A=0)}}Kn(4)}catch{}}var _e=class{constructor(u,m){this.g=u,this.map=m}};function qr(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Hr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ni(u){return u.h?1:u.g?u.g.size:0}function ii(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Gr(u,m){u.g?u.g.add(m):u.h=m}function Qr(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}qr.prototype.cancel=function(){if(this.i=Fr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Fr(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.G);return m}return M(u.i)}var So=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Os(u,m){if(u){u=u.split("&");for(let y=0;y<u.length;y++){const S=u[y].indexOf("=");let U,H=null;S>=0?(U=u[y].substring(0,S),H=u[y].substring(S+1)):U=u[y],m(U,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function hn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof hn?(this.l=u.l,Me(this,u.j),this.o=u.o,this.g=u.g,Ki(this,u.u),this.h=u.h,Yr(this,wo(u.i)),this.m=u.m):u&&(m=String(u).match(So))?(this.l=!1,Me(this,m[1]||"",!0),this.o=ai(m[2]||""),this.g=ai(m[3]||"",!0),Ki(this,m[4]),this.h=ai(m[5]||"",!0),Yr(this,m[6]||"",!0),this.m=ai(m[7]||"")):(this.l=!1,this.i=new Zi(null,this.l))}hn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ya(m,Ms,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ya(m,Ms,!0),"@"),u.push(Ai(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&u.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(Ya(y,y.charAt(0)=="/"?Kr:Ao,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",Ya(y,bo)),u.join("")},hn.prototype.resolve=function(u){const m=ve(this);let y=!!u.j;y?Me(m,u.j):y=!!u.o,y?m.o=u.o:y=!!u.g,y?m.g=u.g:y=u.u!=null;var S=u.h;if(y)Ki(m,u.u);else if(y=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var U=m.h.lastIndexOf("/");U!=-1&&(S=m.h.slice(0,U+1)+S)}if(U=S,U==".."||U==".")S="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){S=U.lastIndexOf("/",0)==0,U=U.split("/");const H=[];for(let tt=0;tt<U.length;){const Et=U[tt++];Et=="."?S&&tt==U.length&&H.push(""):Et==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),S&&tt==U.length&&H.push("")):(H.push(Et),S=!0)}S=H.join("/")}else S=U}return y?m.h=S:y=u.i.toString()!=="",y?Yr(m,wo(u.i)):y=!!u.m,y&&(m.m=u.m),m};function ve(u){return new hn(u)}function Me(u,m,y){u.j=y?ai(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ki(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Yr(u,m,y){m instanceof Zi?(u.i=m,Ls(u.i,u.l)):(y||(m=Ya(m,Xi)),u.i=new Zi(m,u.l))}function Ht(u,m,y){u.i.set(m,y)}function Fa(u){return Ht(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ai(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ya(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,tn),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function tn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ms=/[#\/\?@]/g,Ao=/[#\?:]/g,Kr=/[#\?]/g,Xi=/[#\?@]/g,bo=/#/g;function Zi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function en(u){u.g||(u.g=new Map,u.h=0,u.i&&Os(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}r=Zi.prototype,r.add=function(u,m){en(this),this.i=null,u=Ji(this,u);let y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function Ro(u,m){en(u),m=Ji(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Xr(u,m){return en(u),m=Ji(u,m),u.g.has(m)}r.forEach=function(u,m){en(this),this.g.forEach(function(y,S){y.forEach(function(U){u.call(m,U,S,this)},this)},this)};function Zr(u,m){en(u);let y=[];if(typeof m=="string")Xr(u,m)&&(y=y.concat(u.g.get(Ji(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)y=y.concat(u[m]);return y}r.set=function(u,m){return en(this),this.i=null,u=Ji(this,u),Xr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Zr(this,u),u.length>0?String(u[0]):m):m};function zs(u,m,y){Ro(u,m),y.length>0&&(u.i=null,u.g.set(Ji(u,m),M(y)),u.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let S=0;S<m.length;S++){var y=m[S];const U=Ai(y);y=Zr(this,y);for(let H=0;H<y.length;H++){let tt=U;y[H]!==""&&(tt+="="+Ai(y[H])),u.push(tt)}}return this.i=u.join("&")};function wo(u){const m=new Zi;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Ji(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ls(u,m){m&&!u.j&&(en(u),u.i=null,u.g.forEach(function(y,S){const U=S.toLowerCase();S!=U&&(Ro(this,S),zs(this,U,y))},u)),u.j=m}function Un(u,m){const y=new zn;if(d.Image){const S=new Image;S.onload=T(Sn,y,"TestLoadImage: loaded",!0,m,S),S.onerror=T(Sn,y,"TestLoadImage: error",!1,m,S),S.onabort=T(Sn,y,"TestLoadImage: abort",!1,m,S),S.ontimeout=T(Sn,y,"TestLoadImage: timeout",!1,m,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function Jr(u,m){const y=new zn,S=new AbortController,U=setTimeout(()=>{S.abort(),Sn(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then(H=>{clearTimeout(U),H.ok?Sn(y,"TestPingServer: ok",!0,m):Sn(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Sn(y,"TestPingServer: error",!1,m)})}function Sn(u,m,y,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(y)}catch{}}function $i(){this.g=new fo}function si(u){this.i=u.Sb||null,this.h=u.ab||!1}A(si,mo),si.prototype.g=function(){return new Ka(this.i,this.h)};function Ka(u,m){ge.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Ka,ge),r=Ka.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Bn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Wi(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Bn(this)),this.g&&(this.readyState=3,Bn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;js(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function js(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Wi(this):Bn(this),this.readyState==3&&js(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Wi(this))},r.Na=function(u){this.g&&(this.response=u,Wi(this))},r.ga=function(){this.g&&Wi(this)};function Wi(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Bn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Bn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ka.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function An(u){let m="";return zt(u,function(y,S){m+=S,m+=":",m+=y,m+=`\r
`}),m}function Xa(u,m,y){t:{for(S in y){var S=!1;break t}S=!0}S||(y=An(y),typeof u=="string"?y!=null&&Ai(y):Ht(u,m,y))}function Ft(u){ge.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Ft,ge);var ri=/^https?$/i,$r=["POST","PUT"];r=Ft.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,y,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Pr.g(),this.g.onreadystatechange=V(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){Za(this,H);return}if(u=y||"",y=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)y.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const H of S.keys())y.set(H,S.get(H));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(y.keys()).find(H=>H.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call($r,m,void 0)>=0)||S||U||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,tt]of y)this.g.setRequestHeader(H,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(H){Za(this,H)}};function Za(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Wr(u),bi(u)}function Wr(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,De(this,"complete"),De(this,"abort"),bi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bi(this,!0)),Ft.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ja(this):this.Xa())},r.Xa=function(){Ja(this)};function Ja(u){if(u.h&&typeof h<"u"){if(u.v&&kn(u)==4)setTimeout(u.Ca.bind(u),0);else if(De(u,"readystatechange"),kn(u)==4){u.h=!1;try{const H=u.ca();t:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var S;if(S=H===0){let tt=String(u.D).match(So)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),S=!ri.test(tt?tt.toLowerCase():"")}y=S}if(y)De(u,"complete"),De(u,"success");else{u.o=6;try{var U=kn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Wr(u)}}finally{bi(u)}}}}function bi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const y=u.g;u.g=null,m||De(u,"ready");try{y.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function kn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return kn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Oc(m)}};function Ue(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ri(u){const m={};u=(u.g&&kn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(w(u[S]))continue;var y=vo(u[S]);const U=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const H=m[U]||[];m[U]=H,H.push(y)}qt(m,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function li(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function ta(u){this.za=0,this.i=[],this.j=new zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=li("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=li("baseRetryDelayMs",5e3,u),this.Za=li("retryDelaySeedMs",1e4,u),this.Ta=li("forwardChannelMaxRetries",2,u),this.va=li("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new qr(u&&u.concurrentRequestLimit),this.Ba=new $i,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ta.prototype,r.ka=8,r.I=1,r.connect=function(u,m,y,S){pe(0),this.W=u,this.H=m||{},y&&S!==void 0&&(this.H.OSID=y,this.H.OAID=S),this.F=this.X,this.J=Oo(this,null,this.W),oi(this)};function tl(u){if(Us(u),u.I==3){var m=u.V++,y=ve(u.J);if(Ht(y,"SID",u.M),Ht(y,"RID",m),Ht(y,"TYPE","terminate"),$a(u,y),m=new Ln(u,u.j,m),m.M=2,m.A=Fa(ve(y)),y=!1,d.navigator&&d.navigator.sendBeacon)try{y=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!y&&d.Image&&(new Image().src=m.A,y=!0),y||(m.g=Mo(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Wn(m)}Io(u)}function ea(u){u.g&&(nl(u),u.g.cancel(),u.g=null)}function Us(u){ea(u),u.v&&(d.clearTimeout(u.v),u.v=null),ks(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function oi(u){if(!Hr(u.h)&&!u.m){u.m=!0;var m=u.Ea;$t||b(),Mt||($t(),Mt=!0),D.add(m,u),u.D=0}}function Bs(u,m){return ni(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Zn(_(u.Ea,u,m),No(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Ln(this,this.j,u);let H=this.o;if(this.U&&(H?(H=O(H),nt(H,this.U)):H=this.U),this.u!==null||this.R||(U.J=H,H=null),this.S)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var S=this.i[y];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(m+=S,m>4096){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=Co(this,U,m),y=ve(this.J),Ht(y,"RID",u),Ht(y,"CVER",22),this.G&&Ht(y,"X-HTTP-Session-Id",this.G),$a(this,y),H&&(this.R?m="headers="+Ai(An(H))+"&"+m:this.u&&Xa(y,this.u,H)),Gr(this.h,U),this.Ra&&Ht(y,"TYPE","init"),this.S?(Ht(y,"$req",m),Ht(y,"SID","null"),U.U=!0,$n(U,y,null)):$n(U,y,m),this.I=2}}else this.I==3&&(u?el(this,u):this.i.length==0||Hr(this.h)||el(this))};function el(u,m){var y;m?y=m.l:y=u.V++;const S=ve(u.J);Ht(S,"SID",u.M),Ht(S,"RID",y),Ht(S,"AID",u.K),$a(u,S),u.u&&u.o&&Xa(S,u.u,u.o),y=new Ln(u,u.j,y,u.D+1),u.u===null&&(y.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Co(u,y,1e3),y.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Gr(u.h,y),$n(y,S,m)}function $a(u,m){u.H&&zt(u.H,function(y,S){Ht(m,S,y)}),u.l&&zt({},function(y,S){Ht(m,S,y)})}function Co(u,m,y){y=Math.min(u.i.length,y);const S=u.l?_(u.l.Ka,u.l,u):null;t:{var U=u.i;let Et=-1;for(;;){const he=["count="+y];Et==-1?y>0?(Et=U[0].g,he.push("ofs="+Et)):Et=0:he.push("ofs="+Et);let Bt=!0;for(let se=0;se<y;se++){var H=U[se].g;const bn=U[se].map;if(H-=Et,H<0)Et=Math.max(0,U[se].g-100),Bt=!1;else try{H="req"+H+"_"||"";try{var tt=bn instanceof Map?bn:Object.entries(bn);for(const[ci,Pn]of tt){let qn=Pn;p(Pn)&&(qn=Yi(Pn)),he.push(H+ci+"="+encodeURIComponent(qn))}}catch(ci){throw he.push(H+"type="+encodeURIComponent("_badmap")),ci}}catch{S&&S(bn)}}if(Bt){tt=he.join("&");break t}}tt=void 0}return u=u.i.splice(0,y),m.G=u,tt}function xo(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;$t||b(),Mt||($t(),Mt=!0),D.add(m,u),u.A=0}}function Wa(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Zn(_(u.Da,u),No(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Do(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Zn(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,pe(10),ea(this),Do(this))};function nl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Do(u){u.g=new Ln(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=ve(u.na);Ht(m,"RID","rpc"),Ht(m,"SID",u.M),Ht(m,"AID",u.K),Ht(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ht(m,"TO",u.ia),Ht(m,"TYPE","xmlhttp"),$a(u,m),u.u&&u.o&&Xa(m,u.u,u.o),u.O&&(u.g.H=u.O);var y=u.g;u=u.ba,y.M=1,y.A=Fa(ve(m)),y.u=null,y.R=!0,Ns(y,u)}r.Va=function(){this.C!=null&&(this.C=null,ea(this),Wa(this),pe(19))};function ks(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Vo(u,m){var y=null;if(u.g==m){ks(u),nl(u),u.g=null;var S=2}else if(ii(u.h,m))y=m.G,Qr(u.h,m),S=1;else return;if(u.I!=0){if(m.o)if(S==1){y=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;S=Vs(),De(S,new Xn(S,y)),oi(u)}else xo(u);else if(U=m.m,U==3||U==0&&m.X>0||!(S==1&&Bs(u,m)||S==2&&Wa(u)))switch(y&&y.length>0&&(m=u.h,m.i=m.i.concat(y)),U){case 1:ui(u,5);break;case 4:ui(u,10);break;case 3:ui(u,6);break;default:ui(u,2)}}}function No(u,m){let y=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(y*=2),y*m}function ui(u,m){if(u.j.info("Error code "+m),m==2){var y=_(u.bb,u),S=u.Ua;const U=!S;S=new hn(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Me(S,"https"),Fa(S),U?Un(S.toString(),y):Jr(S.toString(),y)}else pe(2);u.I=0,u.l&&u.l.pa(m),Io(u),Us(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),pe(2)):(this.j.info("Failed to ping google.com"),pe(1))};function Io(u){if(u.I=0,u.ja=[],u.l){const m=Fr(u.h);(m.length!=0||u.i.length!=0)&&(P(u.ja,m),P(u.ja,u.i),u.h.i.length=0,M(u.i),u.i.length=0),u.l.oa()}}function Oo(u,m,y){var S=y instanceof hn?ve(y):new hn(y);if(S.g!="")m&&(S.g=m+"."+S.g),Ki(S,S.u);else{var U=d.location;S=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const H=new hn(null);S&&Me(H,S),m&&(H.g=m),U&&Ki(H,U),y&&(H.h=y),S=H}return y=u.G,m=u.wa,y&&m&&Ht(S,y,m),Ht(S,"VER",u.ka),$a(u,S),S}function Mo(u,m,y){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Ft(new si({ab:y})):new Ft(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function zo(){}r=zo.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function na(){}na.prototype.g=function(u,m){return new Je(u,m)};function Je(u,m){ge.call(this),this.g=new ta(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new wi(this)}A(Je,ge),Je.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){tl(this.g)},Je.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.v&&(y={},y.__data__=Yi(u),u=y);m.i.push(new _e(m.Ya++,u)),m.I==3&&oi(m)},Je.prototype.N=function(){this.g.l=null,delete this.j,tl(this.g),delete this.g,Je.Z.N.call(this)};function Lo(u){je.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Lo,je);function jo(){En.call(this),this.status=1}A(jo,En);function wi(u){this.g=u}A(wi,zo),wi.prototype.ra=function(){De(this.g,"a")},wi.prototype.qa=function(u){De(this.g,new Lo(u))},wi.prototype.pa=function(u){De(this.g,new jo)},wi.prototype.oa=function(){De(this.g,"b")},na.prototype.createWebChannel=na.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,W_=function(){return new na},$_=function(){return Vs()},J_=ce,Jf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ga.NO_ERROR=0,Ga.TIMEOUT=8,Ga.HTTP_ERROR=6,Fu=Ga,kr.COMPLETE="complete",Z_=kr,go.EventType=Mn,Mn.OPEN="a",Mn.CLOSE="b",Mn.ERROR="c",Mn.MESSAGE="d",ge.prototype.listen=ge.prototype.J,Pl=go,Ft.prototype.listenOnce=Ft.prototype.K,Ft.prototype.getLastError=Ft.prototype.Ha,Ft.prototype.getLastErrorCode=Ft.prototype.ya,Ft.prototype.getStatus=Ft.prototype.ca,Ft.prototype.getResponseJson=Ft.prototype.La,Ft.prototype.getResponseText=Ft.prototype.la,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Fa,X_=Ft}).apply(typeof Pu<"u"?Pu:typeof self<"u"?self:typeof window<"u"?window:{});const Py="@firebase/firestore",qy="4.9.3";class Ke{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");let Nr="12.7.0";const Es=new q_("@firebase/firestore");function yr(){return Es.logLevel}function it(r,...e){if(Es.logLevel<=Ot.DEBUG){const i=e.map(Ed);Es.debug(`Firestore (${Nr}): ${r}`,...i)}}function Gi(r,...e){if(Es.logLevel<=Ot.ERROR){const i=e.map(Ed);Es.error(`Firestore (${Nr}): ${r}`,...i)}}function br(r,...e){if(Es.logLevel<=Ot.WARN){const i=e.map(Ed);Es.warn(`Firestore (${Nr}): ${r}`,...i)}}function Ed(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function gt(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,tv(r,s,i)}function tv(r,e,i){let s=`FIRESTORE (${Nr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Gi(s),new Error(s)}function Pt(r,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,r||tv(e,o,s)}function vt(r,e){return r}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends Vr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Da{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class ev{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Ke.UNAUTHENTICATED)))}shutdown(){}}class eS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class nS{constructor(e){this.t=e,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Pt(this.o===void 0,42304);let s=this.i;const o=v=>this.i!==s?(s=this.i,i(v)):Promise.resolve();let h=new Da;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Da,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=h;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},p=v=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>p(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Da)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Pt(typeof s.accessToken=="string",31837,{l:s}),new ev(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Pt(e===null||typeof e=="string",2055,{h:e}),new Ke(e)}}class iS{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class aS{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new iS(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Ke.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Hy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sS{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,j1(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Pt(this.o===void 0,3512);const s=h=>{h.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>s(h)))};const o=h=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Hy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Pt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Hy(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function rS(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}class Td{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=rS(40);for(let h=0;h<o.length;++h)s.length<20&&o[h]<i&&(s+=e.charAt(o[h]%62))}return s}}function xt(r,e){return r<e?-1:r>e?1:0}function $f(r,e){const i=Math.min(r.length,e.length);for(let s=0;s<i;s++){const o=r.charAt(s),h=e.charAt(s);if(o!==h)return Pf(o)===Pf(h)?xt(o,h):Pf(o)?1:-1}return xt(r.length,e.length)}const lS=55296,oS=57343;function Pf(r){const e=r.charCodeAt(0);return e>=lS&&e<=oS}function Rr(r,e,i){return r.length===e.length&&r.every(((s,o)=>i(s,e[o])))}const Gy="__name__";class gi{constructor(e,i,s){i===void 0?i=0:i>e.length&&gt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&gt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return gi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof gi?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const h=gi.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return xt(e.length,i.length)}static compareSegments(e,i){const s=gi.isNumericId(e),o=gi.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?gi.extractNumericId(e).compare(gi.extractNumericId(i)):$f(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xa.fromString(e.substring(4,e.length-2))}}class ee extends gi{construct(e,i,s){return new ee(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new lt($.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((o=>o.length>0)))}return new ee(i)}static emptyPath(){return new ee([])}}const uS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends gi{construct(e,i,s){return new Ge(e,i,s)}static isValidIdentifier(e){return uS.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Gy}static keyField(){return new Ge([Gy])}static fromServerFormat(e){const i=[];let s="",o=0;const h=()=>{if(s.length===0)throw new lt($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new lt($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new lt($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=v,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(s+=p,o++):(h(),o++)}if(h(),d)throw new lt($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ge(i)}static emptyPath(){return new Ge([])}}class ft{constructor(e){this.path=e}static fromPath(e){return new ft(ee.fromString(e))}static fromName(e){return new ft(ee.fromString(e).popFirst(5))}static empty(){return new ft(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ee.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ee.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ft(new ee(e.slice()))}}function nv(r,e,i){if(!i)throw new lt($.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function cS(r,e,i,s){if(e===!0&&s===!0)throw new lt($.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Qy(r){if(!ft.isDocumentKey(r))throw new lt($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Fy(r){if(ft.isDocumentKey(r))throw new lt($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function iv(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Sd(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":gt(12329,{type:typeof r})}function pi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new lt($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Sd(r);throw new lt($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function Re(r,e){const i={typeString:r};return e&&(i.value=e),i}function so(r,e){if(!iv(r))throw new lt($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const o=e[s].typeString,h="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(o&&typeof d!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${s}' field to equal '${h.value}'`;break}}if(i)throw new lt($.INVALID_ARGUMENT,i);return!0}const Yy=-62135596800,Ky=1e6;class ne{static now(){return ne.fromMillis(Date.now())}static fromDate(e){return ne.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*Ky);return new ne(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new lt($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new lt($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Yy)throw new lt($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new lt($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ky}_compareTo(e){return this.seconds===e.seconds?xt(this.nanoseconds,e.nanoseconds):xt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(so(e,ne._jsonSchema))return new ne(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Yy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ne._jsonSchemaVersion="firestore/timestamp/1.0",ne._jsonSchema={type:Re("string",ne._jsonSchemaVersion),seconds:Re("number"),nanoseconds:Re("number")};class yt{static fromTimestamp(e){return new yt(e)}static min(){return new yt(new ne(0,0))}static max(){return new yt(new ne(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Wl=-1;function hS(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=yt.fromTimestamp(s===1e9?new ne(i+1,0):new ne(i,s));return new Na(o,ft.empty(),e)}function fS(r){return new Na(r.readTime,r.key,Wl)}class Na{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Na(yt.min(),ft.empty(),Wl)}static max(){return new Na(yt.max(),ft.empty(),Wl)}}function dS(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=ft.comparator(r.documentKey,e.documentKey),i!==0?i:xt(r.largestBatchId,e.largestBatchId))}const mS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ir(r){if(r.code!==$.FAILED_PRECONDITION||r.message!==mS)throw r;it("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((s,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,s)=>{i(e)}))}static reject(e){return new Z(((i,s)=>{s(e)}))}static waitFor(e){return new Z(((i,s)=>{let o=0,h=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++h,d&&h===o&&i()}),(v=>s(v)))})),d=!0,h===o&&i()}))}static or(e){let i=Z.resolve(!1);for(const s of e)i=i.next((o=>o?Z.resolve(o):s()));return i}static forEach(e,i){const s=[];return e.forEach(((o,h)=>{s.push(i.call(this,o,h))})),this.waitFor(s)}static mapArray(e,i){return new Z(((s,o)=>{const h=e.length,d=new Array(h);let p=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next((T=>{d[_]=T,++p,p===h&&s(d)}),(T=>o(T)))}}))}static doWhile(e,i){return new Z(((s,o)=>{const h=()=>{e()===!0?i().next((()=>{h()}),o):s()};h()}))}}function pS(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Or(r){return r.name==="IndexedDbTransactionError"}class mc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}mc.ce=-1;const Ad=-1;function gc(r){return r==null}function nc(r){return r===0&&1/r==-1/0}function yS(r){return typeof r=="number"&&Number.isInteger(r)&&!nc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const av="";function _S(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=Xy(e)),e=vS(r.get(i),e);return Xy(e)}function vS(r,e){let i=e;const s=r.length;for(let o=0;o<s;o++){const h=r.charAt(o);switch(h){case"\0":i+="";break;case av:i+="";break;default:i+=h}}return i}function Xy(r){return r+av+""}function Zy(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function ja(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function sv(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class le{constructor(e,i){this.comparator=e,this.root=i||He.EMPTY}insert(e,i){return new le(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,He.BLACK,null,null))}remove(e){return new le(this.comparator,this.root.remove(e,this.comparator).copy(null,null,He.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qu(this.root,e,this.comparator,!1)}getReverseIterator(){return new qu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qu(this.root,e,this.comparator,!0)}}class qu{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class He{constructor(e,i,s,o,h){this.key=e,this.value=i,this.color=s??He.RED,this.left=o??He.EMPTY,this.right=h??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,h){return new He(e??this.key,i??this.value,s??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const h=s(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,s),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return He.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw gt(27949);return e+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(e,i,s,o,h){return this}insert(e,i,s){return new He(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ie{constructor(e){this.comparator=e,this.data=new le(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Jy(this.data.getIterator())}getIteratorFrom(e){return new Jy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof Ie)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ie(this.comparator);return i.data=e,i}}class Jy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class vn{constructor(e){this.fields=e,e.sort(Ge.comparator)}static empty(){return new vn([])}unionWith(e){let i=new Ie(Ge.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new vn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Rr(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}class rv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new rv("Invalid base64 string: "+h):h}})(e);return new Qe(i)}static fromUint8Array(e){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(e);return new Qe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const ES=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ia(r){if(Pt(!!r,39018),typeof r=="string"){let e=0;const i=ES.exec(r);if(Pt(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:me(r.seconds),nanos:me(r.nanos)}}function me(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Oa(r){return typeof r=="string"?Qe.fromBase64String(r):Qe.fromUint8Array(r)}const lv="server_timestamp",ov="__type__",uv="__previous_value__",cv="__local_write_time__";function bd(r){return(r?.mapValue?.fields||{})[ov]?.stringValue===lv}function pc(r){const e=r.mapValue.fields[uv];return bd(e)?pc(e):e}function to(r){const e=Ia(r.mapValue.fields[cv].timestampValue);return new ne(e.seconds,e.nanos)}class TS{constructor(e,i,s,o,h,d,p,v,_,T){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=T}}const ic="(default)";class eo{constructor(e,i){this.projectId=e,this.database=i||ic}static empty(){return new eo("","")}get isDefaultDatabase(){return this.database===ic}isEqual(e){return e instanceof eo&&e.projectId===this.projectId&&e.database===this.database}}const hv="__type__",SS="__max__",Hu={mapValue:{}},fv="__vector__",ac="value";function Ma(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?bd(r)?4:bS(r)?9007199254740991:AS(r)?10:11:gt(28295,{value:r})}function Ti(r,e){if(r===e)return!0;const i=Ma(r);if(i!==Ma(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return to(r).isEqual(to(e));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Ia(o.timestampValue),p=Ia(h.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,h){return Oa(o.bytesValue).isEqual(Oa(h.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,h){return me(o.geoPointValue.latitude)===me(h.geoPointValue.latitude)&&me(o.geoPointValue.longitude)===me(h.geoPointValue.longitude)})(r,e);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return me(o.integerValue)===me(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=me(o.doubleValue),p=me(h.doubleValue);return d===p?nc(d)===nc(p):isNaN(d)&&isNaN(p)}return!1})(r,e);case 9:return Rr(r.arrayValue.values||[],e.arrayValue.values||[],Ti);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},p=h.mapValue.fields||{};if(Zy(d)!==Zy(p))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(p[v]===void 0||!Ti(d[v],p[v])))return!1;return!0})(r,e);default:return gt(52216,{left:r})}}function no(r,e){return(r.values||[]).find((i=>Ti(i,e)))!==void 0}function wr(r,e){if(r===e)return 0;const i=Ma(r),s=Ma(e);if(i!==s)return xt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return xt(r.booleanValue,e.booleanValue);case 2:return(function(h,d){const p=me(h.integerValue||h.doubleValue),v=me(d.integerValue||d.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1})(r,e);case 3:return $y(r.timestampValue,e.timestampValue);case 4:return $y(to(r),to(e));case 5:return $f(r.stringValue,e.stringValue);case 6:return(function(h,d){const p=Oa(h),v=Oa(d);return p.compareTo(v)})(r.bytesValue,e.bytesValue);case 7:return(function(h,d){const p=h.split("/"),v=d.split("/");for(let _=0;_<p.length&&_<v.length;_++){const T=xt(p[_],v[_]);if(T!==0)return T}return xt(p.length,v.length)})(r.referenceValue,e.referenceValue);case 8:return(function(h,d){const p=xt(me(h.latitude),me(d.latitude));return p!==0?p:xt(me(h.longitude),me(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Wy(r.arrayValue,e.arrayValue);case 10:return(function(h,d){const p=h.fields||{},v=d.fields||{},_=p[ac]?.arrayValue,T=v[ac]?.arrayValue,A=xt(_?.values?.length||0,T?.values?.length||0);return A!==0?A:Wy(_,T)})(r.mapValue,e.mapValue);case 11:return(function(h,d){if(h===Hu.mapValue&&d===Hu.mapValue)return 0;if(h===Hu.mapValue)return 1;if(d===Hu.mapValue)return-1;const p=h.fields||{},v=Object.keys(p),_=d.fields||{},T=Object.keys(_);v.sort(),T.sort();for(let A=0;A<v.length&&A<T.length;++A){const V=$f(v[A],T[A]);if(V!==0)return V;const M=wr(p[v[A]],_[T[A]]);if(M!==0)return M}return xt(v.length,T.length)})(r.mapValue,e.mapValue);default:throw gt(23264,{he:i})}}function $y(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return xt(r,e);const i=Ia(r),s=Ia(e),o=xt(i.seconds,s.seconds);return o!==0?o:xt(i.nanos,s.nanos)}function Wy(r,e){const i=r.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const h=wr(i[o],s[o]);if(h)return h}return xt(i.length,s.length)}function Cr(r){return Wf(r)}function Wf(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=Ia(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Oa(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ft.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",o=!0;for(const h of i.values||[])o?o=!1:s+=",",s+=Wf(h);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of s)h?h=!1:o+=",",o+=`${d}:${Wf(i.fields[d])}`;return o+"}"})(r.mapValue):gt(61005,{value:r})}function Yu(r){switch(Ma(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=pc(r);return e?16+Yu(e):16;case 5:return 2*r.stringValue.length;case 6:return Oa(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,h)=>o+Yu(h)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return ja(s.fields,((h,d)=>{o+=h.length+Yu(d)})),o})(r.mapValue);default:throw gt(13486,{value:r})}}function td(r){return!!r&&"integerValue"in r}function Rd(r){return!!r&&"arrayValue"in r}function t_(r){return!!r&&"nullValue"in r}function e_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Ku(r){return!!r&&"mapValue"in r}function AS(r){return(r?.mapValue?.fields||{})[hv]?.stringValue===fv}function Yl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ja(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=Yl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Yl(r.arrayValue.values[i]);return e}return{...r}}function bS(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===SS}class un{constructor(e){this.value=e}static empty(){return new un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Ku(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yl(i)}setAll(e){let i=Ge.emptyPath(),s={},o=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,s,o),s={},o=[],i=p.popLast()}d?s[p.lastSegment()]=Yl(d):o.push(p.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,s,o)}delete(e){const i=this.field(e.popLast());Ku(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ti(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];Ku(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){ja(i,((o,h)=>e[o]=h));for(const o of s)delete e[o]}clone(){return new un(Yl(this.value))}}function dv(r){const e=[];return ja(r.fields,((i,s)=>{const o=new Ge([i]);if(Ku(s)){const h=dv(s.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)})),new vn(e)}class Xe{constructor(e,i,s,o,h,d,p){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=h,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Xe(e,0,yt.min(),yt.min(),yt.min(),un.empty(),0)}static newFoundDocument(e,i,s,o){return new Xe(e,1,i,yt.min(),s,o,0)}static newNoDocument(e,i){return new Xe(e,2,i,yt.min(),yt.min(),un.empty(),0)}static newUnknownDocument(e,i){return new Xe(e,3,i,yt.min(),yt.min(),un.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class sc{constructor(e,i){this.position=e,this.inclusive=i}}function n_(r,e,i){let s=0;for(let o=0;o<r.position.length;o++){const h=e[o],d=r.position[o];if(h.field.isKeyField()?s=ft.comparator(ft.fromName(d.referenceValue),i.key):s=wr(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function i_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ti(r.position[i],e.position[i]))return!1;return!0}class rc{constructor(e,i="asc"){this.field=e,this.dir=i}}function RS(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class mv{}class Ne extends mv{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new CS(e,i,s):i==="array-contains"?new VS(e,s):i==="in"?new NS(e,s):i==="not-in"?new IS(e,s):i==="array-contains-any"?new OS(e,s):new Ne(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new xS(e,s):new DS(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(wr(i,this.value)):i!==null&&Ma(this.value)===Ma(i)&&this.matchesComparison(wr(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Si extends mv{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Si(e,i)}matches(e){return gv(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function gv(r){return r.op==="and"}function pv(r){return wS(r)&&gv(r)}function wS(r){for(const e of r.filters)if(e instanceof Si)return!1;return!0}function ed(r){if(r instanceof Ne)return r.field.canonicalString()+r.op.toString()+Cr(r.value);if(pv(r))return r.filters.map((e=>ed(e))).join(",");{const e=r.filters.map((i=>ed(i))).join(",");return`${r.op}(${e})`}}function yv(r,e){return r instanceof Ne?(function(s,o){return o instanceof Ne&&s.op===o.op&&s.field.isEqual(o.field)&&Ti(s.value,o.value)})(r,e):r instanceof Si?(function(s,o){return o instanceof Si&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((h,d,p)=>h&&yv(d,o.filters[p])),!0):!1})(r,e):void gt(19439)}function _v(r){return r instanceof Ne?(function(i){return`${i.field.canonicalString()} ${i.op} ${Cr(i.value)}`})(r):r instanceof Si?(function(i){return i.op.toString()+" {"+i.getFilters().map(_v).join(" ,")+"}"})(r):"Filter"}class CS extends Ne{constructor(e,i,s){super(e,i,s),this.key=ft.fromName(s.referenceValue)}matches(e){const i=ft.comparator(e.key,this.key);return this.matchesComparison(i)}}class xS extends Ne{constructor(e,i){super(e,"in",i),this.keys=vv("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class DS extends Ne{constructor(e,i){super(e,"not-in",i),this.keys=vv("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function vv(r,e){return(e.arrayValue?.values||[]).map((i=>ft.fromName(i.referenceValue)))}class VS extends Ne{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Rd(i)&&no(i.arrayValue,this.value)}}class NS extends Ne{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&no(this.value.arrayValue,i)}}class IS extends Ne{constructor(e,i){super(e,"not-in",i)}matches(e){if(no(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!no(this.value.arrayValue,i)}}class OS extends Ne{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Rd(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>no(this.value.arrayValue,s)))}}class MS{constructor(e,i=null,s=[],o=[],h=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=h,this.startAt=d,this.endAt=p,this.Te=null}}function a_(r,e=null,i=[],s=[],o=null,h=null,d=null){return new MS(r,e,i,s,o,h,d)}function wd(r){const e=vt(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>ed(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(h){return h.field.canonicalString()+h.dir})(s))).join(","),gc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>Cr(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>Cr(s))).join(",")),e.Te=i}return e.Te}function Cd(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!RS(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!yv(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!i_(r.startAt,e.startAt)&&i_(r.endAt,e.endAt)}function nd(r){return ft.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class yc{constructor(e,i=null,s=[],o=[],h=null,d="F",p=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=h,this.limitType=d,this.startAt=p,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function zS(r,e,i,s,o,h,d,p){return new yc(r,e,i,s,o,h,d,p)}function _c(r){return new yc(r)}function s_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function LS(r){return r.collectionGroup!==null}function Kl(r){const e=vt(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ie(Ge.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new rc(h,s))})),i.has(Ge.keyField().canonicalString())||e.Ie.push(new rc(Ge.keyField(),s))}return e.Ie}function yi(r){const e=vt(r);return e.Ee||(e.Ee=jS(e,Kl(r))),e.Ee}function jS(r,e){if(r.limitType==="F")return a_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new rc(o.field,h)}));const i=r.endAt?new sc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new sc(r.startAt.position,r.startAt.inclusive):null;return a_(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function id(r,e,i){return new yc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function vc(r,e){return Cd(yi(r),yi(e))&&r.limitType===e.limitType}function Ev(r){return`${wd(yi(r))}|lt:${r.limitType}`}function _r(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((o=>_v(o))).join(", ")}]`),gc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((o=>Cr(o))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((o=>Cr(o))).join(",")),`Target(${s})`})(yi(r))}; limitType=${r.limitType})`}function Ec(r,e){return e.isFoundDocument()&&(function(s,o){const h=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):ft.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)})(r,e)&&(function(s,o){for(const h of Kl(s))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const h of s.filters)if(!h.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(d,p,v){const _=n_(d,p,v);return d.inclusive?_<=0:_<0})(s.startAt,Kl(s),o)||s.endAt&&!(function(d,p,v){const _=n_(d,p,v);return d.inclusive?_>=0:_>0})(s.endAt,Kl(s),o))})(r,e)}function US(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Tv(r){return(e,i)=>{let s=!1;for(const o of Kl(r)){const h=BS(o,e,i);if(h!==0)return h;s=s||o.field.isKeyField()}return 0}}function BS(r,e,i){const s=r.field.isKeyField()?ft.comparator(e.key,i.key):(function(h,d,p){const v=d.data.field(h),_=p.data.field(h);return v!==null&&_!==null?wr(v,_):gt(42886)})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return gt(19790,{direction:r.dir})}}class As{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,h]of s)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ja(this.inner,((i,s)=>{for(const[o,h]of s)e(o,h)}))}isEmpty(){return sv(this.inner)}size(){return this.innerSize}}const kS=new le(ft.comparator);function Qi(){return kS}const Sv=new le(ft.comparator);function ql(...r){let e=Sv;for(const i of r)e=e.insert(i.key,i);return e}function Av(r){let e=Sv;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function _s(){return Xl()}function bv(){return Xl()}function Xl(){return new As((r=>r.toString()),((r,e)=>r.isEqual(e)))}const PS=new le(ft.comparator),qS=new Ie(ft.comparator);function Dt(...r){let e=qS;for(const i of r)e=e.add(i);return e}const HS=new Ie(xt);function GS(){return HS}function xd(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nc(e)?"-0":e}}function Rv(r){return{integerValue:""+r}}function QS(r,e){return yS(e)?Rv(e):xd(r,e)}class Tc{constructor(){this._=void 0}}function FS(r,e,i){return r instanceof lc?(function(o,h){const d={fields:{[ov]:{stringValue:lv},[cv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&bd(h)&&(h=pc(h)),h&&(d.fields[uv]=h),{mapValue:d}})(i,e):r instanceof io?Cv(r,e):r instanceof ao?xv(r,e):(function(o,h){const d=wv(o,h),p=r_(d)+r_(o.Ae);return td(d)&&td(o.Ae)?Rv(p):xd(o.serializer,p)})(r,e)}function YS(r,e,i){return r instanceof io?Cv(r,e):r instanceof ao?xv(r,e):i}function wv(r,e){return r instanceof oc?(function(s){return td(s)||(function(h){return!!h&&"doubleValue"in h})(s)})(e)?e:{integerValue:0}:null}class lc extends Tc{}class io extends Tc{constructor(e){super(),this.elements=e}}function Cv(r,e){const i=Dv(e);for(const s of r.elements)i.some((o=>Ti(o,s)))||i.push(s);return{arrayValue:{values:i}}}class ao extends Tc{constructor(e){super(),this.elements=e}}function xv(r,e){let i=Dv(e);for(const s of r.elements)i=i.filter((o=>!Ti(o,s)));return{arrayValue:{values:i}}}class oc extends Tc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function r_(r){return me(r.integerValue||r.doubleValue)}function Dv(r){return Rd(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function KS(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof io&&o instanceof io||s instanceof ao&&o instanceof ao?Rr(s.elements,o.elements,Ti):s instanceof oc&&o instanceof oc?Ti(s.Ae,o.Ae):s instanceof lc&&o instanceof lc})(r.transform,e.transform)}class XS{constructor(e,i){this.version=e,this.transformResults=i}}class Fn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Fn}static exists(e){return new Fn(void 0,e)}static updateTime(e){return new Fn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xu(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Sc{}function Vv(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Dd(r.key,Fn.none()):new ro(r.key,r.data,Fn.none());{const i=r.data,s=un.empty();let o=new Ie(Ge.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),o=o.add(h)}return new Ua(r.key,s,new vn(o.toArray()),Fn.none())}}function ZS(r,e,i){r instanceof ro?(function(o,h,d){const p=o.value.clone(),v=o_(o.fieldTransforms,h,d.transformResults);p.setAll(v),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,e,i):r instanceof Ua?(function(o,h,d){if(!Xu(o.precondition,h))return void h.convertToUnknownDocument(d.version);const p=o_(o.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(Nv(o)),v.setAll(p),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,e,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Zl(r,e,i,s){return r instanceof ro?(function(h,d,p,v){if(!Xu(h.precondition,d))return p;const _=h.value.clone(),T=u_(h.fieldTransforms,v,d);return _.setAll(T),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,e,i,s):r instanceof Ua?(function(h,d,p,v){if(!Xu(h.precondition,d))return p;const _=u_(h.fieldTransforms,v,d),T=d.data;return T.setAll(Nv(h)),T.setAll(_),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((A=>A.field)))})(r,e,i,s):(function(h,d,p){return Xu(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,e,i)}function JS(r,e){let i=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),h=wv(s.transform,o||null);h!=null&&(i===null&&(i=un.empty()),i.set(s.field,h))}return i||null}function l_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Rr(s,o,((h,d)=>KS(h,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class ro extends Sc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ua extends Sc{constructor(e,i,s,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Nv(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function o_(r,e,i){const s=new Map;Pt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const h=r[o],d=h.transform,p=e.data.field(h.field);s.set(h.field,YS(d,p,i[o]))}return s}function u_(r,e,i){const s=new Map;for(const o of r){const h=o.transform,d=i.data.field(o.field);s.set(o.field,FS(h,d,e))}return s}class Dd extends Sc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $S extends Sc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class WS{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&ZS(h,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Zl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Zl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=bv();return this.mutations.forEach((o=>{const h=e.get(o.key),d=h.overlayedDocument;let p=this.applyToLocalView(d,h.mutatedFields);p=i.has(o.key)?null:p;const v=Vv(d,p);v!==null&&s.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(yt.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Dt())}isEqual(e){return this.batchId===e.batchId&&Rr(this.mutations,e.mutations,((i,s)=>l_(i,s)))&&Rr(this.baseMutations,e.baseMutations,((i,s)=>l_(i,s)))}}class Vd{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Pt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return PS})();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,s[d].version);return new Vd(e,i,s,o)}}class tA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class eA{constructor(e,i){this.count=e,this.unchangedNames=i}}var be,It;function nA(r){switch(r){case $.OK:return gt(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return gt(15467,{code:r})}}function Iv(r){if(r===void 0)return Gi("GRPC error has no .code"),$.UNKNOWN;switch(r){case be.OK:return $.OK;case be.CANCELLED:return $.CANCELLED;case be.UNKNOWN:return $.UNKNOWN;case be.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case be.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case be.INTERNAL:return $.INTERNAL;case be.UNAVAILABLE:return $.UNAVAILABLE;case be.UNAUTHENTICATED:return $.UNAUTHENTICATED;case be.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case be.NOT_FOUND:return $.NOT_FOUND;case be.ALREADY_EXISTS:return $.ALREADY_EXISTS;case be.PERMISSION_DENIED:return $.PERMISSION_DENIED;case be.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case be.ABORTED:return $.ABORTED;case be.OUT_OF_RANGE:return $.OUT_OF_RANGE;case be.UNIMPLEMENTED:return $.UNIMPLEMENTED;case be.DATA_LOSS:return $.DATA_LOSS;default:return gt(39323,{code:r})}}(It=be||(be={}))[It.OK=0]="OK",It[It.CANCELLED=1]="CANCELLED",It[It.UNKNOWN=2]="UNKNOWN",It[It.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",It[It.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",It[It.NOT_FOUND=5]="NOT_FOUND",It[It.ALREADY_EXISTS=6]="ALREADY_EXISTS",It[It.PERMISSION_DENIED=7]="PERMISSION_DENIED",It[It.UNAUTHENTICATED=16]="UNAUTHENTICATED",It[It.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",It[It.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",It[It.ABORTED=10]="ABORTED",It[It.OUT_OF_RANGE=11]="OUT_OF_RANGE",It[It.UNIMPLEMENTED=12]="UNIMPLEMENTED",It[It.INTERNAL=13]="INTERNAL",It[It.UNAVAILABLE=14]="UNAVAILABLE",It[It.DATA_LOSS=15]="DATA_LOSS";function iA(){return new TextEncoder}const aA=new xa([4294967295,4294967295],0);function c_(r){const e=iA().encode(r),i=new K_;return i.update(e),new Uint8Array(i.digest())}function h_(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new xa([i,s],0),new xa([o,h],0)]}class Nd{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Hl(`Invalid padding: ${i}`);if(s<0)throw new Hl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Hl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Hl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=xa.fromNumber(this.ge)}ye(e,i,s){let o=e.add(i.multiply(xa.fromNumber(s)));return o.compare(aA)===1&&(o=new xa([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=c_(e),[s,o]=h_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,o,h);if(!this.we(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Nd(h,o,i);return s.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=c_(e),[s,o]=h_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,o,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Hl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ac{constructor(e,i,s,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,lo.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Ac(yt.min(),o,new le(xt),Qi(),Dt())}}class lo{constructor(e,i,s,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new lo(s,i,Dt(),Dt(),Dt())}}class Zu{constructor(e,i,s,o){this.be=e,this.removedTargetIds=i,this.key=s,this.De=o}}class Ov{constructor(e,i){this.targetId=e,this.Ce=i}}class Mv{constructor(e,i,s=Qe.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class f_{constructor(){this.ve=0,this.Fe=d_(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Dt(),i=Dt(),s=Dt();return this.Fe.forEach(((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:gt(38017,{changeType:h})}})),new lo(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=d_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Pt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class sA{constructor(e){this.Ge=e,this.ze=new Map,this.je=Qi(),this.Je=Gu(),this.He=Gu(),this.Ye=new le(xt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:gt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,s=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(nd(h))if(s===0){const d=new ft(h.path);this.et(i,d,Xe.newNoDocument(d,yt.min()))}else Pt(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const p=this.ut(e),v=p?this.ct(p,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:h=0}=i;let d,p;try{d=Oa(s).toUint8Array()}catch(v){if(v instanceof rv)return br("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new Nd(d,o,h)}catch(v){return br(v instanceof Hl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.ge===0?null:p}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let o=0;return s.forEach((h=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(p)||(this.et(i,h,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const p=this.ot(d);if(p){if(h.current&&nd(p.target)){const v=new ft(p.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Xe.newNoDocument(v,e))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let s=Dt();this.He.forEach(((h,d)=>{let p=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const o=new Ac(e,i,this.Ye,this.je,s);return this.je=Qi(),this.Je=Gu(),this.He=Gu(),this.Ye=new le(xt),o}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new f_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Ie(xt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Ie(xt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||it("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new f_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Gu(){return new le(ft.comparator)}function d_(){return new le(ft.comparator)}const rA={asc:"ASCENDING",desc:"DESCENDING"},lA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oA={and:"AND",or:"OR"};class uA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function ad(r,e){return r.useProto3Json||gc(e)?e:{value:e}}function uc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zv(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function cA(r,e){return uc(r,e.toTimestamp())}function _i(r){return Pt(!!r,49232),yt.fromTimestamp((function(i){const s=Ia(i);return new ne(s.seconds,s.nanos)})(r))}function Id(r,e){return sd(r,e).canonicalString()}function sd(r,e){const i=(function(o){return new ee(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?i:i.child(e)}function Lv(r){const e=ee.fromString(r);return Pt(Pv(e),10190,{key:e.toString()}),e}function rd(r,e){return Id(r.databaseId,e.path)}function qf(r,e){const i=Lv(e);if(i.get(1)!==r.databaseId.projectId)throw new lt($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new lt($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ft(Uv(i))}function jv(r,e){return Id(r.databaseId,e)}function hA(r){const e=Lv(r);return e.length===4?ee.emptyPath():Uv(e)}function ld(r){return new ee(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Uv(r){return Pt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function m_(r,e,i){return{name:rd(r,e),fields:i.value.mapValue.fields}}function fA(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:gt(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=(function(_,T){return _.useProto3Json?(Pt(T===void 0||typeof T=="string",58123),Qe.fromBase64String(T||"")):(Pt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Qe.fromUint8Array(T||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(_){const T=_.code===void 0?$.UNKNOWN:Iv(_.code);return new lt(T,_.message||"")})(d);i=new Mv(s,o,h,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=qf(r,s.document.name),h=_i(s.document.updateTime),d=s.document.createTime?_i(s.document.createTime):yt.min(),p=new un({mapValue:{fields:s.document.fields}}),v=Xe.newFoundDocument(o,h,d,p),_=s.targetIds||[],T=s.removedTargetIds||[];i=new Zu(_,T,v.key,v)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=qf(r,s.document),h=s.readTime?_i(s.readTime):yt.min(),d=Xe.newNoDocument(o,h),p=s.removedTargetIds||[];i=new Zu([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=qf(r,s.document),h=s.removedTargetIds||[];i=new Zu([],h,o,null)}else{if(!("filter"in e))return gt(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:h}=s,d=new eA(o,h),p=s.targetId;i=new Ov(p,d)}}return i}function dA(r,e){let i;if(e instanceof ro)i={update:m_(r,e.key,e.value)};else if(e instanceof Dd)i={delete:rd(r,e.key)};else if(e instanceof Ua)i={update:m_(r,e.key,e.data),updateMask:SA(e.fieldMask)};else{if(!(e instanceof $S))return gt(16599,{Vt:e.type});i={verify:rd(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(h,d){const p=d.transform;if(p instanceof lc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof io)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof ao)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof oc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw gt(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:cA(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:gt(27497)})(r,e.precondition)),i}function mA(r,e){return r&&r.length>0?(Pt(e!==void 0,14353),r.map((i=>(function(o,h){let d=o.updateTime?_i(o.updateTime):_i(h);return d.isEqual(yt.min())&&(d=_i(h)),new XS(d,o.transformResults||[])})(i,e)))):[]}function gA(r,e){return{documents:[jv(r,e.path)]}}function pA(r,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=jv(r,o);const h=(function(_){if(_.length!==0)return kv(Si.create(_,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(_){if(_.length!==0)return _.map((T=>(function(V){return{field:vr(V.field),direction:vA(V.dir)}})(T)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=ad(r,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function yA(r){let e=hA(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Pt(s===1,65062);const T=i.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let h=[];i.where&&(h=(function(A){const V=Bv(A);return V instanceof Si&&pv(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((V=>(function(P){return new rc(Er(P.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(V)))})(i.orderBy));let p=null;i.limit&&(p=(function(A){let V;return V=typeof A=="object"?A.value:A,gc(V)?null:V})(i.limit));let v=null;i.startAt&&(v=(function(A){const V=!!A.before,M=A.values||[];return new sc(M,V)})(i.startAt));let _=null;return i.endAt&&(_=(function(A){const V=!A.before,M=A.values||[];return new sc(M,V)})(i.endAt)),zS(e,o,d,h,p,"F",v,_)}function _A(r,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Bv(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Er(i.unaryFilter.field);return Ne.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Er(i.unaryFilter.field);return Ne.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Er(i.unaryFilter.field);return Ne.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Er(i.unaryFilter.field);return Ne.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ne.create(Er(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Si.create(i.compositeFilter.filters.map((s=>Bv(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return gt(1026)}})(i.compositeFilter.op))})(r):gt(30097,{filter:r})}function vA(r){return rA[r]}function EA(r){return lA[r]}function TA(r){return oA[r]}function vr(r){return{fieldPath:r.canonicalString()}}function Er(r){return Ge.fromServerFormat(r.fieldPath)}function kv(r){return r instanceof Ne?(function(i){if(i.op==="=="){if(e_(i.value))return{unaryFilter:{field:vr(i.field),op:"IS_NAN"}};if(t_(i.value))return{unaryFilter:{field:vr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(e_(i.value))return{unaryFilter:{field:vr(i.field),op:"IS_NOT_NAN"}};if(t_(i.value))return{unaryFilter:{field:vr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vr(i.field),op:EA(i.op),value:i.value}}})(r):r instanceof Si?(function(i){const s=i.getFilters().map((o=>kv(o)));return s.length===1?s[0]:{compositeFilter:{op:TA(i.op),filters:s}}})(r):gt(54877,{filter:r})}function SA(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function Pv(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Ra{constructor(e,i,s,o,h=yt.min(),d=yt.min(),p=Qe.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(e){return new Ra(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Ra(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class AA{constructor(e){this.yt=e}}function bA(r){const e=yA({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?id(e,e.limit,"L"):e}class RA{constructor(){this.Cn=new wA}addToCollectionParentIndex(e,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(Na.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(Na.min())}updateCollectionGroup(e,i,s){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class wA{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new Ie(ee.comparator),h=!o.has(s);return this.index[i]=o.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ie(ee.comparator)).toArray()}}const g_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qv=41943040;class on{static withCacheSize(e){return new on(e,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(qv,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);class xr{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new xr(0)}static cr(){return new xr(-1)}}const p_="LruGarbageCollector",CA=1048576;function y_([r,e],[i,s]){const o=xt(r,i);return o===0?xt(e,s):o}class xA{constructor(e){this.Ir=e,this.buffer=new Ie(y_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();y_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class DA{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){it(p_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Or(i)?it(p_,"Ignoring IndexedDB error during garbage collection: ",i):await Ir(i)}await this.Vr(3e5)}))}}class VA{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(mc.ce);const s=new xA(i);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(g_)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),g_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,o,h,d,p,v,_;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,d=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(s=A,p=Date.now(),this.removeTargets(e,s,i)))).next((A=>(h=A,v=Date.now(),this.removeOrphanedDocuments(e,s)))).next((A=>(_=Date.now(),yr()<=Ot.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${h} targets in `+(v-p)+`ms
	Removed ${A} documents in `+(_-v)+`ms
Total Duration: ${_-T}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:A}))))}}function NA(r,e){return new VA(r,e)}class IA{constructor(){this.changes=new As((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Xe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?Z.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class OA{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class MA{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(s!==null&&Zl(s.mutation,o,vn.empty(),ne.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,Dt()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=Dt()){const o=_s();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,s).next((h=>{let d=ql();return h.forEach(((p,v)=>{d=d.insert(p,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const s=_s();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,Dt())))}populateOverlays(e,i,s){const o=[];return s.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(e,o).next((h=>{h.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,s,o){let h=Qi();const d=Xl(),p=(function(){return Xl()})();return i.forEach(((v,_)=>{const T=s.get(_.key);o.has(_.key)&&(T===void 0||T.mutation instanceof Ua)?h=h.insert(_.key,_):T!==void 0?(d.set(_.key,T.mutation.getFieldMask()),Zl(T.mutation,_,T.mutation.getFieldMask(),ne.now())):d.set(_.key,vn.empty())})),this.recalculateAndSaveOverlays(e,h).next((v=>(v.forEach(((_,T)=>d.set(_,T))),i.forEach(((_,T)=>p.set(_,new OA(T,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(e,i){const s=Xl();let o=new le(((d,p)=>d-p)),h=Dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let T=s.get(v)||vn.empty();T=p.applyToLocalView(_,T),s.set(v,T);const A=(o.get(p.batchId)||Dt()).add(v);o=o.insert(p.batchId,A)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),_=v.key,T=v.value,A=bv();T.forEach((V=>{if(!h.has(V)){const M=Vv(i.get(V),s.get(V));M!==null&&A.set(V,M),h=h.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,A))}return Z.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,o){return(function(d){return ft.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):LS(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-h.size):Z.resolve(_s());let p=Wl,v=h;return d.next((_=>Z.forEach(_,((T,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),h.get(T)?Z.resolve():this.remoteDocumentCache.getEntry(e,T).next((V=>{v=v.insert(T,V)}))))).next((()=>this.populateOverlays(e,_,h))).next((()=>this.computeViews(e,v,_,Dt()))).next((T=>({batchId:p,changes:Av(T)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ft(i)).next((s=>{let o=ql();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const h=i.collectionGroup;let d=ql();return this.indexManager.getCollectionParents(e,h).next((p=>Z.forEach(p,(v=>{const _=(function(A,V){return new yc(V,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,s,o).next((T=>{T.forEach(((A,V)=>{d=d.insert(A,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,s,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,o)))).next((d=>{h.forEach(((v,_)=>{const T=_.getKey();d.get(T)===null&&(d=d.insert(T,Xe.newInvalidDocument(T)))}));let p=ql();return d.forEach(((v,_)=>{const T=h.get(v);T!==void 0&&Zl(T.mutation,_,vn.empty(),ne.now()),Ec(i,_)&&(p=p.insert(v,_))})),p}))}}class zA{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:_i(o.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:bA(o.bundledQuery),readTime:_i(o.readTime)}})(i)),Z.resolve()}}class LA{constructor(){this.overlays=new le(ft.comparator),this.qr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const s=_s();return Z.forEach(i,(o=>this.getOverlay(e,o).next((h=>{h!==null&&s.set(o,h)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((o,h)=>{this.St(e,i,h)})),Z.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(s)),Z.resolve()}getOverlaysForCollection(e,i,s){const o=_s(),h=i.length+1,d=new ft(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>s&&o.set(v.getKey(),v)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let h=new le(((_,T)=>_-T));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>s){let T=h.get(_.largestBatchId);T===null&&(T=_s(),h=h.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const p=_s(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,T)=>p.set(_,T))),!(p.size()>=o)););return Z.resolve(p)}St(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new tA(i,s));let h=this.qr.get(i);h===void 0&&(h=Dt(),this.qr.set(i,h)),this.qr.set(i,h.add(s.key))}}class jA{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}class Od{constructor(){this.Qr=new Ie(Le.$r),this.Ur=new Ie(Le.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new Le(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Gr(new Le(e,i))}zr(e,i){e.forEach((s=>this.removeReference(s,i)))}jr(e){const i=new ft(new ee([])),s=new Le(i,e),o=new Le(i,e+1),h=[];return this.Ur.forEachInRange([s,o],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ft(new ee([])),s=new Le(i,e),o=new Le(i,e+1);let h=Dt();return this.Ur.forEachInRange([s,o],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new Le(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Le{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ft.comparator(e.key,i.key)||xt(e.Yr,i.Yr)}static Kr(e,i){return xt(e.Yr,i.Yr)||ft.comparator(e.key,i.key)}}class UA{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ie(Le.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new WS(h,i,s,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new Le(p.key,h)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.ei(s),h=o<0?0:o;return Z.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Ad:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Le(i,0),o=new Le(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([s,o],(d=>{const p=this.Xr(d.Yr);h.push(p)})),Z.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Ie(xt);return i.forEach((o=>{const h=new Le(o,0),d=new Le(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(p=>{s=s.add(p.Yr)}))})),Z.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let h=s;ft.isDocumentKey(h)||(h=h.child(""));const d=new Le(new ft(h),0);let p=new Ie(xt);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!s.isPrefixOf(_)&&(_.length===o&&(p=p.add(v.Yr)),!0)}),d),Z.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Pt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return Z.forEach(i.mutations,(o=>{const h=new Le(o.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,i){const s=new Le(i,0),o=this.Zr.firstAfterOrEqual(s);return Z.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class BA{constructor(e){this.ri=e,this.docs=(function(){return new le(ft.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),h=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return Z.resolve(s?s.document.mutableCopy():Xe.newInvalidDocument(i))}getEntries(e,i){let s=Qi();return i.forEach((o=>{const h=this.docs.get(o);s=s.insert(o,h?h.document.mutableCopy():Xe.newInvalidDocument(o))})),Z.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let h=Qi();const d=i.path,p=new ft(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:_,value:{document:T}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||dS(fS(T),s)<=0||(o.has(T.key)||Ec(i,T))&&(h=h.insert(T.key,T.mutableCopy()))}return Z.resolve(h)}getAllFromCollectionGroup(e,i,s,o){gt(9500)}ii(e,i){return Z.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new kA(this)}getSize(e){return Z.resolve(this.size)}}class kA extends IA{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),Z.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class PA{constructor(e){this.persistence=e,this.si=new As((i=>wd(i)),Cd),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.oi=0,this._i=new Od,this.targetCount=0,this.ai=xr.ur()}forEachTarget(e,i){return this.si.forEach(((s,o)=>i(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),Z.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new xr(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.Pr(i),Z.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,s){let o=0;const h=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&s.get(p.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),Z.waitFor(h).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return Z.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),Z.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(e,d))})),Z.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return Z.resolve(s)}containsKey(e,i){return Z.resolve(this._i.containsKey(i))}}class Hv{constructor(e,i){this.ui={},this.overlays={},this.ci=new mc(0),this.li=!1,this.li=!0,this.hi=new jA,this.referenceDelegate=e(this),this.Pi=new PA(this),this.indexManager=new RA,this.remoteDocumentCache=(function(o){return new BA(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new AA(i),this.Ii=new zA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new LA,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new UA(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){it("MemoryPersistence","Starting transaction:",e);const o=new qA(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((h=>this.referenceDelegate.di(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ai(e,i){return Z.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,i))))}}class qA extends gS{constructor(e){super(),this.currentSequenceNumber=e}}class Md{constructor(e){this.persistence=e,this.Ri=new Od,this.Vi=null}static mi(e){return new Md(e)}get fi(){if(this.Vi)return this.Vi;throw gt(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),Z.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((h=>this.fi.add(h.toString())))})).next((()=>s.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(s=>{const o=ft.fromPath(s);return this.gi(e,o).next((h=>{h||i.removeEntry(o,yt.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class cc{constructor(e,i){this.persistence=e,this.pi=new As((s=>_S(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=NA(this,i)}static mi(e,i){return new cc(e,i)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((o=>s+o))))}wr(e){let i=0;return this.pr(e,(s=>{i++})).next((()=>i))}pr(e,i){return Z.forEach(this.pi,((s,o)=>this.br(e,s,o).next((h=>h?Z.resolve():i(o)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((p=>{p||(s++,h.removeEntry(d,yt.min()))})))).next((()=>h.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Yu(e.data.value)),i}br(e,i,s){return Z.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return Z.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class zd{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=o}static As(e,i){let s=Dt(),o=Dt();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new zd(e,i.fromCache,s,o)}}class HA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class GA{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return MT()?8:pS(IT())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,o){const h={result:null};return this.ys(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(e,i,o,s).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new HA;return this.Ss(e,i,d).next((p=>{if(h.result=p,this.Vs)return this.bs(e,i,d,p.size)}))})).next((()=>h.result))}bs(e,i,s,o){return s.documentReadCount<this.fs?(yr()<=Ot.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",_r(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(yr()<=Ot.DEBUG&&it("QueryEngine","Query:",_r(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(yr()<=Ot.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",_r(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yi(i))):Z.resolve())}ys(e,i){if(s_(i))return Z.resolve(null);let s=yi(i);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=id(i,null,"F"),s=yi(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((h=>{const d=Dt(...h);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,s).next((v=>{const _=this.Ds(i,p);return this.Cs(i,_,d,v.readTime)?this.ys(e,id(i,null,"F")):this.vs(e,_,i,v)}))))})))))}ws(e,i,s,o){return s_(i)||o.isEqual(yt.min())?Z.resolve(null):this.ps.getDocuments(e,s).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,s,o)?Z.resolve(null):(yr()<=Ot.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),_r(i)),this.vs(e,d,i,hS(o,Wl)).next((p=>p)))}))}Ds(e,i){let s=new Ie(Tv(e));return i.forEach(((o,h)=>{Ec(e,h)&&(s=s.add(h))})),s}Cs(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(e,i,s){return yr()<=Ot.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",_r(i)),this.ps.getDocumentsMatchingQuery(e,i,Na.min(),s)}vs(e,i,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}const Ld="LocalStore",QA=3e8;class FA{constructor(e,i,s,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new le(xt),this.xs=new As((h=>wd(h)),Cd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new MA(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function YA(r,e,i,s){return new FA(r,e,i,s)}async function Gv(r,e){const i=vt(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next((h=>(o=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(s)))).next((h=>{const d=[],p=[];let v=Dt();for(const _ of o){d.push(_.batchId);for(const T of _.mutations)v=v.add(T.key)}for(const _ of h){p.push(_.batchId);for(const T of _.mutations)v=v.add(T.key)}return i.localDocuments.getDocuments(s,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function KA(r,e){const i=vt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,v,_,T){const A=_.batch,V=A.keys();let M=Z.resolve();return V.forEach((P=>{M=M.next((()=>T.getEntry(v,P))).next((J=>{const W=_.docVersions.get(P);Pt(W!==null,48541),J.version.compareTo(W)<0&&(A.applyToRemoteDocument(J,_),J.isValidDocument()&&(J.setReadTime(_.commitVersion),T.addEntry(J)))}))})),M.next((()=>p.mutationQueue.removeMutationBatch(v,A)))})(i,s,e,h).next((()=>h.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let v=Dt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(v=v.add(p.batch.mutations[_].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(s,o)))}))}function Qv(r){const e=vt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function XA(r,e){const i=vt(r),s=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];e.targetChanges.forEach(((T,A)=>{const V=o.get(A);if(!V)return;p.push(i.Pi.removeMatchingKeys(h,T.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(h,T.addedDocuments,A))));let M=V.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(A)!==null?M=M.withResumeToken(Qe.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):T.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(T.resumeToken,s)),o=o.insert(A,M),(function(J,W,ot){return J.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=QA?!0:ot.addedDocuments.size+ot.modifiedDocuments.size+ot.removedDocuments.size>0})(V,M,T)&&p.push(i.Pi.updateTargetData(h,M))}));let v=Qi(),_=Dt();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(h,T))})),p.push(ZA(h,d,e.documentUpdates).next((T=>{v=T.ks,_=T.qs}))),!s.isEqual(yt.min())){const T=i.Pi.getLastRemoteSnapshotVersion(h).next((A=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,s)));p.push(T)}return Z.waitFor(p).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,_))).next((()=>v))})).then((h=>(i.Ms=o,h)))}function ZA(r,e,i){let s=Dt(),o=Dt();return i.forEach((h=>s=s.add(h))),e.getEntries(r,s).next((h=>{let d=Qi();return i.forEach(((p,v)=>{const _=h.get(p);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(p)),v.isNoDocument()&&v.version.isEqual(yt.min())?(e.removeEntry(p,v.readTime),d=d.insert(p,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(p,v)):it(Ld,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",v.version)})),{ks:d,qs:o}}))}function JA(r,e){const i=vt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Ad),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function $A(r,e){const i=vt(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return i.Pi.getTargetData(s,e).next((h=>h?(o=h,Z.resolve(o)):i.Pi.allocateTargetId(s).next((d=>(o=new Ra(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=i.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s}))}async function od(r,e,i){const s=vt(r),o=s.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Or(d))throw d;it(Ld,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function __(r,e,i){const s=vt(r);let o=yt.min(),h=Dt();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,T){const A=vt(v),V=A.xs.get(T);return V!==void 0?Z.resolve(A.Ms.get(V)):A.Pi.getTargetData(_,T)})(s,d,yi(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,p.targetId).next((v=>{h=v}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,e,i?o:yt.min(),i?h:Dt()))).next((p=>(WA(s,US(e),p),{documents:p,Qs:h})))))}function WA(r,e,i){let s=r.Os.get(e)||yt.min();i.forEach(((o,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)})),r.Os.set(e,s)}class v_{constructor(){this.activeTargetIds=GS()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tb{constructor(){this.Mo=new v_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new v_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class eb{Oo(e){}shutdown(){}}const E_="ConnectivityMonitor";class T_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){it(E_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){it(E_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Qu=null;function ud(){return Qu===null?Qu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Qu++,"0x"+Qu.toString(16)}const Hf="RestConnection",nb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ib{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===ic?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,i,s,o,h){const d=ud(),p=this.zo(e,i.toUriEncodedString());it(Hf,`Sending RPC '${e}' ${d}:`,p,s);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,h);const{host:_}=new URL(p),T=_d(_);return this.Jo(e,p,v,s,T).then((A=>(it(Hf,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw br(Hf,`RPC '${e}' ${d} failed with error: `,A,"url: ",p,"request:",s),A}))}Ho(e,i,s,o,h,d){return this.Go(e,i,s,o,h)}jo(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Nr})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>e[h]=o)),s&&s.headers.forEach(((o,h)=>e[h]=o))}zo(e,i){const s=nb[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}class ab{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Ye="WebChannelConnection";class sb extends ib{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,o,h){const d=ud();return new Promise(((p,v)=>{const _=new X_;_.setWithCredentials(!0),_.listenOnce(Z_.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Fu.NO_ERROR:const A=_.getResponseJson();it(Ye,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),p(A);break;case Fu.TIMEOUT:it(Ye,`RPC '${e}' ${d} timed out`),v(new lt($.DEADLINE_EXCEEDED,"Request time out"));break;case Fu.HTTP_ERROR:const V=_.getStatus();if(it(Ye,`RPC '${e}' ${d} failed with status:`,V,"response text:",_.getResponseText()),V>0){let M=_.getResponseJson();Array.isArray(M)&&(M=M[0]);const P=M?.error;if(P&&P.status&&P.message){const J=(function(ot){const ct=ot.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(ct)>=0?ct:$.UNKNOWN})(P.status);v(new lt(J,P.message))}else v(new lt($.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new lt($.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{it(Ye,`RPC '${e}' ${d} completed.`)}}));const T=JSON.stringify(o);it(Ye,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",T,s,15)}))}T_(e,i,s){const o=ud(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=W_(),p=$_(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,s),v.encodeInitMessageHeaders=!0;const T=h.join("");it(Ye,`Creating RPC '${e}' stream ${o}: ${T}`,v);const A=d.createWebChannel(T,v);this.I_(A);let V=!1,M=!1;const P=new ab({Yo:W=>{M?it(Ye,`Not sending because RPC '${e}' stream ${o} is closed:`,W):(V||(it(Ye,`Opening RPC '${e}' stream ${o} transport.`),A.open(),V=!0),it(Ye,`RPC '${e}' stream ${o} sending:`,W),A.send(W))},Zo:()=>A.close()}),J=(W,ot,ct)=>{W.listen(ot,(mt=>{try{ct(mt)}catch(Ut){setTimeout((()=>{throw Ut}),0)}}))};return J(A,Pl.EventType.OPEN,(()=>{M||(it(Ye,`RPC '${e}' stream ${o} transport opened.`),P.o_())})),J(A,Pl.EventType.CLOSE,(()=>{M||(M=!0,it(Ye,`RPC '${e}' stream ${o} transport closed`),P.a_(),this.E_(A))})),J(A,Pl.EventType.ERROR,(W=>{M||(M=!0,br(Ye,`RPC '${e}' stream ${o} transport errored. Name:`,W.name,"Message:",W.message),P.a_(new lt($.UNAVAILABLE,"The operation could not be completed")))})),J(A,Pl.EventType.MESSAGE,(W=>{if(!M){const ot=W.data[0];Pt(!!ot,16349);const ct=ot,mt=ct?.error||ct[0]?.error;if(mt){it(Ye,`RPC '${e}' stream ${o} received error:`,mt);const Ut=mt.status;let $t=(function(b){const x=be[b];if(x!==void 0)return Iv(x)})(Ut),Mt=mt.message;$t===void 0&&($t=$.INTERNAL,Mt="Unknown error status: "+Ut+" with message "+mt.message),M=!0,P.a_(new lt($t,Mt)),A.close()}else it(Ye,`RPC '${e}' stream ${o} received:`,ot),P.u_(ot)}})),J(p,J_.STAT_EVENT,(W=>{W.stat===Jf.PROXY?it(Ye,`RPC '${e}' stream ${o} detected buffering proxy`):W.stat===Jf.NOPROXY&&it(Ye,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{P.__()}),0),P}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Gf(){return typeof document<"u"?document:null}function bc(r){return new uA(r,!0)}class Fv{constructor(e,i,s=1e3,o=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=o,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-s);o>0&&it("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const S_="PersistentStream";class Yv{constructor(e,i,s,o,h,d,p,v){this.Mi=e,this.S_=s,this.b_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Fv(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(Gi(i.toString()),Gi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===i&&this.G_(s,o)}),(s=>{e((()=>{const o=new lt($.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return it(S_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(it(S_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class rb extends Yv{constructor(e,i,s,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=fA(this.serializer,e),s=(function(h){if(!("targetChange"in h))return yt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?yt.min():d.readTime?_i(d.readTime):yt.min()})(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=ld(this.serializer),i.addTarget=(function(h,d){let p;const v=d.target;if(p=nd(v)?{documents:gA(h,v)}:{query:pA(h,v).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=zv(h,d.resumeToken);const _=ad(h,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(yt.min())>0){p.readTime=uc(h,d.snapshotVersion.toTimestamp());const _=ad(h,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,e);const s=_A(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=ld(this.serializer),i.removeTarget=e,this.q_(i)}}class lb extends Yv{constructor(e,i,s,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Pt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Pt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Pt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=mA(e.writeResults,e.commitTime),s=_i(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=ld(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>dA(this.serializer,s)))};this.q_(i)}}class ob{}class ub extends ob{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new lt($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(e,sd(i,s),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new lt($.UNKNOWN,h.toString())}))}Ho(e,i,s,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,sd(i,s),o,d,p,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class cb{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Gi(i),this.aa=!1):it("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ts="RemoteStore";class hb{constructor(e,i,s,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{bs(this)&&(it(Ts,"Restarting streams for network reachability change."),await(async function(v){const _=vt(v);_.Ea.add(4),await oo(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Rc(_)})(this))}))})),this.Ra=new cb(s,o)}}async function Rc(r){if(bs(r))for(const e of r.da)await e(!0)}async function oo(r){for(const e of r.da)await e(!1)}function Kv(r,e){const i=vt(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),kd(i)?Bd(i):Mr(i).O_()&&Ud(i,e))}function jd(r,e){const i=vt(r),s=Mr(i);i.Ia.delete(e),s.O_()&&Xv(i,e),i.Ia.size===0&&(s.O_()?s.L_():bs(i)&&i.Ra.set("Unknown"))}function Ud(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(yt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Mr(r).Y_(e)}function Xv(r,e){r.Va.Ue(e),Mr(r).Z_(e)}function Bd(r){r.Va=new sA({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Mr(r).start(),r.Ra.ua()}function kd(r){return bs(r)&&!Mr(r).x_()&&r.Ia.size>0}function bs(r){return vt(r).Ea.size===0}function Zv(r){r.Va=void 0}async function fb(r){r.Ra.set("Online")}async function db(r){r.Ia.forEach(((e,i)=>{Ud(r,e)}))}async function mb(r,e){Zv(r),kd(r)?(r.Ra.ha(e),Bd(r)):r.Ra.set("Unknown")}async function gb(r,e,i){if(r.Ra.set("Online"),e instanceof Mv&&e.state===2&&e.cause)try{await(async function(o,h){const d=h.cause;for(const p of h.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))})(r,e)}catch(s){it(Ts,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await hc(r,s)}else if(e instanceof Zu?r.Va.Ze(e):e instanceof Ov?r.Va.st(e):r.Va.tt(e),!i.isEqual(yt.min()))try{const s=await Qv(r.localStore);i.compareTo(s)>=0&&await(function(h,d){const p=h.Va.Tt(d);return p.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const T=h.Ia.get(_);T&&h.Ia.set(_,T.withResumeToken(v.resumeToken,d))}})),p.targetMismatches.forEach(((v,_)=>{const T=h.Ia.get(v);if(!T)return;h.Ia.set(v,T.withResumeToken(Qe.EMPTY_BYTE_STRING,T.snapshotVersion)),Xv(h,v);const A=new Ra(T.target,v,_,T.sequenceNumber);Ud(h,A)})),h.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(s){it(Ts,"Failed to raise snapshot:",s),await hc(r,s)}}async function hc(r,e,i){if(!Or(e))throw e;r.Ea.add(1),await oo(r),r.Ra.set("Offline"),i||(i=()=>Qv(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{it(Ts,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Rc(r)}))}function Jv(r,e){return e().catch((i=>hc(r,i,e)))}async function wc(r){const e=vt(r),i=za(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ad;for(;pb(e);)try{const o=await JA(e.localStore,s);if(o===null){e.Ta.length===0&&i.L_();break}s=o.batchId,yb(e,o)}catch(o){await hc(e,o)}$v(e)&&Wv(e)}function pb(r){return bs(r)&&r.Ta.length<10}function yb(r,e){r.Ta.push(e);const i=za(r);i.O_()&&i.X_&&i.ea(e.mutations)}function $v(r){return bs(r)&&!za(r).x_()&&r.Ta.length>0}function Wv(r){za(r).start()}async function _b(r){za(r).ra()}async function vb(r){const e=za(r);for(const i of r.Ta)e.ea(i.mutations)}async function Eb(r,e,i){const s=r.Ta.shift(),o=Vd.from(s,e,i);await Jv(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await wc(r)}async function Tb(r,e){e&&za(r).X_&&await(async function(s,o){if((function(d){return nA(d)&&d!==$.ABORTED})(o.code)){const h=s.Ta.shift();za(s).B_(),await Jv(s,(()=>s.remoteSyncer.rejectFailedWrite(h.batchId,o))),await wc(s)}})(r,e),$v(r)&&Wv(r)}async function A_(r,e){const i=vt(r);i.asyncQueue.verifyOperationInProgress(),it(Ts,"RemoteStore received new credentials");const s=bs(i);i.Ea.add(3),await oo(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Rc(i)}async function Sb(r,e){const i=vt(r);e?(i.Ea.delete(2),await Rc(i)):e||(i.Ea.add(2),await oo(i),i.Ra.set("Unknown"))}function Mr(r){return r.ma||(r.ma=(function(i,s,o){const h=vt(i);return h.sa(),new rb(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(r.datastore,r.asyncQueue,{Xo:fb.bind(null,r),t_:db.bind(null,r),r_:mb.bind(null,r),H_:gb.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),kd(r)?Bd(r):r.Ra.set("Unknown")):(await r.ma.stop(),Zv(r))}))),r.ma}function za(r){return r.fa||(r.fa=(function(i,s,o){const h=vt(i);return h.sa(),new lb(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:_b.bind(null,r),r_:Tb.bind(null,r),ta:vb.bind(null,r),na:Eb.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await wc(r)):(await r.fa.stop(),r.Ta.length>0&&(it(Ts,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Pd{constructor(e,i,s,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=h,this.deferred=new Da,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,h){const d=Date.now()+s,p=new Pd(e,i,d,o,h);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qd(r,e){if(Gi("AsyncQueue",`${e}: ${r}`),Or(r))return new lt($.UNAVAILABLE,`${e}: ${r}`);throw r}class Sr{static emptySet(e){return new Sr(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||ft.comparator(i.key,s.key):(i,s)=>ft.comparator(i.key,s.key),this.keyedMap=ql(),this.sortedSet=new le(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Sr)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Sr;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}class b_{constructor(){this.ga=new le(ft.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):gt(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class Dr{constructor(e,i,s,o,h,d,p,v,_){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,s,o,h){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Dr(e,i,Sr.emptySet(i),d,s,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}class Ab{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class bb{constructor(){this.queries=R_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const o=vt(i),h=o.queries;o.queries=R_(),h.forEach(((d,p)=>{for(const v of p.Sa)v.onError(s)}))})(this,new lt($.ABORTED,"Firestore shutting down"))}}function R_(){return new As((r=>Ev(r)),vc)}async function t0(r,e){const i=vt(r);let s=3;const o=e.query;let h=i.queries.get(o);h?!h.ba()&&e.Da()&&(s=2):(h=new Ab,s=e.Da()?0:1);try{switch(s){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=qd(d,`Initialization of query '${_r(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&Hd(i)}async function e0(r,e){const i=vt(r),s=e.query;let o=3;const h=i.queries.get(s);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?o=e.Da()?0:1:!h.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function Rb(r,e){const i=vt(r);let s=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const p of d.Sa)p.Fa(o)&&(s=!0);d.wa=o}}s&&Hd(i)}function wb(r,e,i){const s=vt(r),o=s.queries.get(e);if(o)for(const h of o.Sa)h.onError(i);s.queries.delete(e)}function Hd(r){r.Ca.forEach((e=>{e.next()}))}var cd,w_;(w_=cd||(cd={})).Ma="default",w_.Cache="cache";class n0{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Dr(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Dr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==cd.Cache}}class i0{constructor(e){this.key=e}}class a0{constructor(e){this.key=e}}class Cb{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Dt(),this.mutatedKeys=Dt(),this.eu=Tv(e),this.tu=new Sr(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new b_,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,A)=>{const V=o.get(T),M=Ec(this.query,A)?A:null,P=!!V&&this.mutatedKeys.has(V.key),J=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let W=!1;V&&M?V.data.isEqual(M.data)?P!==J&&(s.track({type:3,doc:M}),W=!0):this.su(V,M)||(s.track({type:2,doc:M}),W=!0,(v&&this.eu(M,v)>0||_&&this.eu(M,_)<0)&&(p=!0)):!V&&M?(s.track({type:0,doc:M}),W=!0):V&&!M&&(s.track({type:1,doc:V}),W=!0,(v||_)&&(p=!0)),W&&(M?(d=d.add(M),h=J?h.add(T):h.delete(T)):(d=d.delete(T),h=h.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),h=h.delete(T.key),s.track({type:1,doc:T})}return{tu:d,iu:s,Cs:p,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((T,A)=>(function(M,P){const J=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Rt:W})}};return J(M)-J(P)})(T.type,A.type)||this.eu(T.doc,A.doc))),this.ou(s),o=o??!1;const p=i&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new Dr(this.query,e.tu,h,d,e.mutatedKeys,v===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new b_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Dt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return e.forEach((s=>{this.Xa.has(s)||i.push(new a0(s))})),this.Xa.forEach((s=>{e.has(s)||i.push(new i0(s))})),i}cu(e){this.Ya=e.Qs,this.Xa=Dt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Dr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Gd="SyncEngine";class xb{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class Db{constructor(e){this.key=e,this.hu=!1}}class Vb{constructor(e,i,s,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new As((p=>Ev(p)),vc),this.Iu=new Map,this.Eu=new Set,this.du=new le(ft.comparator),this.Au=new Map,this.Ru=new Od,this.Vu={},this.mu=new Map,this.fu=xr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Nb(r,e,i=!0){const s=c0(r);let o;const h=s.Tu.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await s0(s,e,i,!0),o}async function Ib(r,e){const i=c0(r);await s0(i,e,!0,!1)}async function s0(r,e,i,s){const o=await $A(r.localStore,yi(e)),h=o.targetId,d=r.sharedClientState.addLocalQueryTarget(h,i);let p;return s&&(p=await Ob(r,e,h,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&Kv(r.remoteStore,o),p}async function Ob(r,e,i,s,o){r.pu=(A,V,M)=>(async function(J,W,ot,ct){let mt=W.view.ru(ot);mt.Cs&&(mt=await __(J.localStore,W.query,!1).then((({documents:D})=>W.view.ru(D,mt))));const Ut=ct&&ct.targetChanges.get(W.targetId),$t=ct&&ct.targetMismatches.get(W.targetId)!=null,Mt=W.view.applyChanges(mt,J.isPrimaryClient,Ut,$t);return x_(J,W.targetId,Mt.au),Mt.snapshot})(r,A,V,M);const h=await __(r.localStore,e,!0),d=new Cb(e,h.Qs),p=d.ru(h.documents),v=lo.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),_=d.applyChanges(p,r.isPrimaryClient,v);x_(r,i,_.au);const T=new xb(e,i,d);return r.Tu.set(e,T),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),_.snapshot}async function Mb(r,e,i){const s=vt(r),o=s.Tu.get(e),h=s.Iu.get(o.targetId);if(h.length>1)return s.Iu.set(o.targetId,h.filter((d=>!vc(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await od(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),i&&jd(s.remoteStore,o.targetId),hd(s,o.targetId)})).catch(Ir)):(hd(s,o.targetId),await od(s.localStore,o.targetId,!0))}async function zb(r,e){const i=vt(r),s=i.Tu.get(e),o=i.Iu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),jd(i.remoteStore,s.targetId))}async function Lb(r,e,i){const s=Hb(r);try{const o=await(function(d,p){const v=vt(d),_=ne.now(),T=p.reduce(((M,P)=>M.add(P.key)),Dt());let A,V;return v.persistence.runTransaction("Locally write mutations","readwrite",(M=>{let P=Qi(),J=Dt();return v.Ns.getEntries(M,T).next((W=>{P=W,P.forEach(((ot,ct)=>{ct.isValidDocument()||(J=J.add(ot))}))})).next((()=>v.localDocuments.getOverlayedDocuments(M,P))).next((W=>{A=W;const ot=[];for(const ct of p){const mt=JS(ct,A.get(ct.key).overlayedDocument);mt!=null&&ot.push(new Ua(ct.key,mt,dv(mt.value.mapValue),Fn.exists(!0)))}return v.mutationQueue.addMutationBatch(M,_,ot,p)})).next((W=>{V=W;const ot=W.applyToLocalDocumentSet(A,J);return v.documentOverlayCache.saveOverlays(M,W.batchId,ot)}))})).then((()=>({batchId:V.batchId,changes:Av(A)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(d,p,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new le(xt)),_=_.insert(p,v),d.Vu[d.currentUser.toKey()]=_})(s,o.batchId,i),await uo(s,o.changes),await wc(s.remoteStore)}catch(o){const h=qd(o,"Failed to persist write");i.reject(h)}}async function r0(r,e){const i=vt(r);try{const s=await XA(i.localStore,e);e.targetChanges.forEach(((o,h)=>{const d=i.Au.get(h);d&&(Pt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Pt(d.hu,14607):o.removedDocuments.size>0&&(Pt(d.hu,42227),d.hu=!1))})),await uo(i,s,e)}catch(s){await Ir(s)}}function C_(r,e,i){const s=vt(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Tu.forEach(((h,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const v=vt(d);v.onlineState=p;let _=!1;v.queries.forEach(((T,A)=>{for(const V of A.Sa)V.va(p)&&(_=!0)})),_&&Hd(v)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function jb(r,e,i){const s=vt(r);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Au.get(e),h=o&&o.key;if(h){let d=new le(ft.comparator);d=d.insert(h,Xe.newNoDocument(h,yt.min()));const p=Dt().add(h),v=new Ac(yt.min(),new Map,new le(xt),d,p);await r0(s,v),s.du=s.du.remove(h),s.Au.delete(e),Qd(s)}else await od(s.localStore,e,!1).then((()=>hd(s,e,i))).catch(Ir)}async function Ub(r,e){const i=vt(r),s=e.batch.batchId;try{const o=await KA(i.localStore,e);o0(i,s,null),l0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await uo(i,o)}catch(o){await Ir(o)}}async function Bb(r,e,i){const s=vt(r);try{const o=await(function(d,p){const v=vt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let T;return v.mutationQueue.lookupMutationBatch(_,p).next((A=>(Pt(A!==null,37113),T=A.keys(),v.mutationQueue.removeMutationBatch(_,A)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,T,p))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T))).next((()=>v.localDocuments.getDocuments(_,T)))}))})(s.localStore,e);o0(s,e,i),l0(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await uo(s,o)}catch(o){await Ir(o)}}function l0(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function o0(r,e,i){const s=vt(r);let o=s.Vu[s.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function hd(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||u0(r,s)}))}function u0(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(jd(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),Qd(r))}function x_(r,e,i){for(const s of i)s instanceof i0?(r.Ru.addReference(s.key,e),kb(r,s)):s instanceof a0?(it(Gd,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||u0(r,s.key)):gt(19791,{wu:s})}function kb(r,e){const i=e.key,s=i.path.canonicalString();r.du.get(i)||r.Eu.has(s)||(it(Gd,"New document in limbo: "+i),r.Eu.add(s),Qd(r))}function Qd(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new ft(ee.fromString(e)),s=r.fu.next();r.Au.set(s,new Db(i)),r.du=r.du.insert(i,s),Kv(r.remoteStore,new Ra(yi(_c(i.path)),s,"TargetPurposeLimboResolution",mc.ce))}}async function uo(r,e,i){const s=vt(r),o=[],h=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,v)=>{d.push(s.pu(v,e,i).then((_=>{if((_||i)&&s.isPrimaryClient){const T=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;s.sharedClientState.updateQueryState(v.targetId,T?"current":"not-current")}if(_){o.push(_);const T=zd.As(v.targetId,_);h.push(T)}})))})),await Promise.all(d),s.Pu.H_(o),await(async function(v,_){const T=vt(v);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>Z.forEach(_,(V=>Z.forEach(V.Es,(M=>T.persistence.referenceDelegate.addReference(A,V.targetId,M))).next((()=>Z.forEach(V.ds,(M=>T.persistence.referenceDelegate.removeReference(A,V.targetId,M)))))))))}catch(A){if(!Or(A))throw A;it(Ld,"Failed to update sequence numbers: "+A)}for(const A of _){const V=A.targetId;if(!A.fromCache){const M=T.Ms.get(V),P=M.snapshotVersion,J=M.withLastLimboFreeSnapshotVersion(P);T.Ms=T.Ms.insert(V,J)}}})(s.localStore,h))}async function Pb(r,e){const i=vt(r);if(!i.currentUser.isEqual(e)){it(Gd,"User change. New user:",e.toKey());const s=await Gv(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((p=>{p.forEach((v=>{v.reject(new lt($.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await uo(i,s.Ls)}}function qb(r,e){const i=vt(r),s=i.Au.get(e);if(s&&s.hu)return Dt().add(s.key);{let o=Dt();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function c0(r){const e=vt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=r0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jb.bind(null,e),e.Pu.H_=Rb.bind(null,e.eventManager),e.Pu.yu=wb.bind(null,e.eventManager),e}function Hb(r){const e=vt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ub.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Bb.bind(null,e),e}class fc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=bc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return YA(this.persistence,new GA,e.initialUser,this.serializer)}Cu(e){return new Hv(Md.mi,this.serializer)}Du(e){return new tb}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fc.provider={build:()=>new fc};class Gb extends fc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Pt(this.persistence.referenceDelegate instanceof cc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new DA(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new Hv((s=>cc.mi(s,i)),this.serializer)}}class fd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>C_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Pb.bind(null,this.syncEngine),await Sb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new bb})()}createDatastore(e){const i=bc(e.databaseInfo.databaseId),s=(function(h){return new sb(h)})(e.databaseInfo);return(function(h,d,p,v){return new ub(h,d,p,v)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,o,h,d,p){return new hb(s,o,h,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>C_(this.syncEngine,i,0)),(function(){return T_.v()?new T_:new eb})())}createSyncEngine(e,i){return(function(o,h,d,p,v,_,T){const A=new Vb(o,h,d,p,v,_);return T&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=vt(i);it(Ts,"RemoteStore shutting down."),s.Ea.add(5),await oo(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}fd.provider={build:()=>new fd};class h0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Gi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const La="FirestoreClient";class Qb{constructor(e,i,s,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Ke.UNAUTHENTICATED,this.clientId=Td.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,(async d=>{it(La,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(it(La,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Da;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=qd(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Qf(r,e){r.asyncQueue.verifyOperationInProgress(),it(La,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Gv(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function D_(r,e){r.asyncQueue.verifyOperationInProgress();const i=await Fb(r);it(La,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>A_(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>A_(e.remoteStore,o))),r._onlineComponents=e}async function Fb(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){it(La,"Using user provided OfflineComponentProvider");try{await Qf(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;br("Error using user provided cache. Falling back to memory cache: "+i),await Qf(r,new fc)}}else it(La,"Using default OfflineComponentProvider"),await Qf(r,new Gb(void 0));return r._offlineComponents}async function f0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(it(La,"Using user provided OnlineComponentProvider"),await D_(r,r._uninitializedComponentsProvider._online)):(it(La,"Using default OnlineComponentProvider"),await D_(r,new fd))),r._onlineComponents}function Yb(r){return f0(r).then((e=>e.syncEngine))}async function dd(r){const e=await f0(r),i=e.eventManager;return i.onListen=Nb.bind(null,e.syncEngine),i.onUnlisten=Mb.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=Ib.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=zb.bind(null,e.syncEngine),i}function Kb(r,e,i={}){const s=new Da;return r.asyncQueue.enqueueAndForget((async()=>(function(h,d,p,v,_){const T=new h0({next:V=>{T.Nu(),d.enqueueAndForget((()=>e0(h,A)));const M=V.docs.has(p);!M&&V.fromCache?_.reject(new lt($.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&V.fromCache&&v&&v.source==="server"?_.reject(new lt($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(V)},error:V=>_.reject(V)}),A=new n0(_c(p.path),T,{includeMetadataChanges:!0,qa:!0});return t0(h,A)})(await dd(r),r.asyncQueue,e,i,s))),s.promise}function d0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const V_=new Map;const m0="firestore.googleapis.com",N_=!0;class I_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new lt($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=m0,this.ssl=N_}else this.host=e.host,this.ssl=e.ssl??N_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=qv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<CA)throw new lt($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=d0(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new lt($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new lt($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new lt($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new I_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new lt($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new I_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new tS;switch(s.type){case"firstParty":return new aS(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new lt($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=V_.get(i);s&&(it("ComponentProvider","Removing Datastore"),V_.delete(i),s.terminate())})(this),Promise.resolve()}}function Xb(r,e,i,s={}){r=pi(r,Cc);const o=_d(e),h=r._getSettings(),d={...h,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${i}`;o&&(CT(`https://${p}`),NT("Firestore",!0)),h.host!==m0&&h.host!==p&&br("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:p,ssl:o,emulatorOptions:s};if(!Wu(v,d)&&(r._setSettings(v),s.mockUserToken)){let _,T;if(typeof s.mockUserToken=="string")_=s.mockUserToken,T=Ke.MOCK_USER;else{_=xT(s.mockUserToken,r._app?.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new lt($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Ke(A)}r._authCredentials=new eS(new ev(_,T))}}class xc{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new xc(this.firestore,e,this._query)}}class we{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Va(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new we(this.firestore,e,this._key)}toJSON(){return{type:we._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(so(i,we._jsonSchema))return new we(e,s||null,new ft(ee.fromString(i.referencePath)))}}we._jsonSchemaVersion="firestore/documentReference/1.0",we._jsonSchema={type:Re("string",we._jsonSchemaVersion),referencePath:Re("string")};class Va extends xc{constructor(e,i,s){super(e,i,_c(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new we(this.firestore,null,new ft(e))}withConverter(e){return new Va(this.firestore,e,this._path)}}function Fd(r,e,...i){if(r=qi(r),nv("collection","path",e),r instanceof Cc){const s=ee.fromString(e,...i);return Fy(s),new Va(r,null,s)}{if(!(r instanceof we||r instanceof Va))throw new lt($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ee.fromString(e,...i));return Fy(s),new Va(r.firestore,null,s)}}function co(r,e,...i){if(r=qi(r),arguments.length===1&&(e=Td.newId()),nv("doc","path",e),r instanceof Cc){const s=ee.fromString(e,...i);return Qy(s),new we(r,null,new ft(s))}{if(!(r instanceof we||r instanceof Va))throw new lt($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ee.fromString(e,...i));return Qy(s),new we(r.firestore,r instanceof Va?r.converter:null,new ft(s))}}const O_="AsyncQueue";class M_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Fv(this,"async_queue_retry"),this._c=()=>{const s=Gf();s&&it(O_,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=Gf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Gf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Da;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Or(e))throw e;it(O_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Gi("INTERNAL UNHANDLED ERROR: ",z_(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Pd.createAndSchedule(this,e,i,s,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&gt(47125,{Pc:z_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function z_(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function L_(r){return(function(i,s){if(typeof i!="object"||i===null)return!1;const o=i;for(const h of s)if(h in o&&typeof o[h]=="function")return!0;return!1})(r,["next","error","complete"])}class Ss extends Cc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new M_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new M_(e),this._firestoreClient=void 0,await e}}}function Zb(r,e){const i=typeof r=="object"?r:P1(),s=typeof r=="string"?r:ic,o=L1(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const h=RT("firestore");h&&Xb(o,...h)}return o}function Yd(r){if(r._terminated)throw new lt($.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Jb(r),r._firestoreClient}function Jb(r){const e=r._freezeSettings(),i=(function(o,h,d,p){return new TS(o,h,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,d0(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new Qb(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const h=o?._online.build();return{_offline:o?._offline.build(h),_online:h}})(r._componentsProvider))}class On{constructor(e){this._byteString=e}static fromBase64String(e){try{return new On(Qe.fromBase64String(e))}catch(i){throw new lt($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new On(Qe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:On._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(so(e,On._jsonSchema))return On.fromBase64String(e.bytes)}}On._jsonSchemaVersion="firestore/bytes/1.0",On._jsonSchema={type:Re("string",On._jsonSchemaVersion),bytes:Re("string")};class Dc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new lt($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Kd{constructor(e){this._methodName=e}}class vi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new lt($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new lt($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return xt(this._lat,e._lat)||xt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:vi._jsonSchemaVersion}}static fromJSON(e){if(so(e,vi._jsonSchema))return new vi(e.latitude,e.longitude)}}vi._jsonSchemaVersion="firestore/geoPoint/1.0",vi._jsonSchema={type:Re("string",vi._jsonSchemaVersion),latitude:Re("number"),longitude:Re("number")};class Ei{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==o[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ei._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(so(e,Ei._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Ei(e.vectorValues);throw new lt($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ei._jsonSchemaVersion="firestore/vectorValue/1.0",Ei._jsonSchema={type:Re("string",Ei._jsonSchemaVersion),vectorValues:Re("object")};const $b=/^__.*__$/;class Wb{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Ua(e,this.data,this.fieldMask,i,this.fieldTransforms):new ro(e,this.data,i,this.fieldTransforms)}}class g0{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new Ua(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function p0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{Ac:r})}}class Xd{constructor(e,i,s,o,h,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Xd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return dc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(p0(this.Ac)&&$b.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class t2{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||bc(e)}Cc(e,i,s,o=!1){return new Xd({Ac:e,methodName:i,Dc:s,path:Ge.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function y0(r){const e=r._freezeSettings(),i=bc(r._databaseId);return new t2(r._databaseId,!!e.ignoreUndefinedProperties,i)}function e2(r,e,i,s,o,h={}){const d=r.Cc(h.merge||h.mergeFields?2:0,e,i,o);Zd("Data must be an object, but it was:",d,s);const p=_0(s,d);let v,_;if(h.merge)v=new vn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const T=[];for(const A of h.mergeFields){const V=md(e,A,i);if(!d.contains(V))throw new lt($.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);E0(T,V)||T.push(V)}v=new vn(T),_=d.fieldTransforms.filter((A=>v.covers(A.field)))}else v=null,_=d.fieldTransforms;return new Wb(new un(p),v,_)}class Vc extends Kd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vc}}function n2(r,e,i,s){const o=r.Cc(1,e,i);Zd("Data must be an object, but it was:",o,s);const h=[],d=un.empty();ja(s,((v,_)=>{const T=Jd(e,v,i);_=qi(_);const A=o.yc(T);if(_ instanceof Vc)h.push(T);else{const V=Nc(_,A);V!=null&&(h.push(T),d.set(T,V))}}));const p=new vn(h);return new g0(d,p,o.fieldTransforms)}function i2(r,e,i,s,o,h){const d=r.Cc(1,e,i),p=[md(e,s,i)],v=[o];if(h.length%2!=0)throw new lt($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<h.length;V+=2)p.push(md(e,h[V])),v.push(h[V+1]);const _=[],T=un.empty();for(let V=p.length-1;V>=0;--V)if(!E0(_,p[V])){const M=p[V];let P=v[V];P=qi(P);const J=d.yc(M);if(P instanceof Vc)_.push(M);else{const W=Nc(P,J);W!=null&&(_.push(M),T.set(M,W))}}const A=new vn(_);return new g0(T,A,d.fieldTransforms)}function Nc(r,e){if(v0(r=qi(r)))return Zd("Unsupported field value:",e,r),_0(r,e);if(r instanceof Kd)return(function(s,o){if(!p0(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const h=[];let d=0;for(const p of s){let v=Nc(p,o.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}})(r,e)}return(function(s,o){if((s=qi(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return QS(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=ne.fromDate(s);return{timestampValue:uc(o.serializer,h)}}if(s instanceof ne){const h=new ne(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:uc(o.serializer,h)}}if(s instanceof vi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof On)return{bytesValue:zv(o.serializer,s._byteString)};if(s instanceof we){const h=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Id(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ei)return(function(d,p){return{mapValue:{fields:{[hv]:{stringValue:fv},[ac]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return xd(p.serializer,_)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Sd(s)}`)})(r,e)}function _0(r,e){const i={};return sv(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ja(r,((s,o)=>{const h=Nc(o,e.mc(s));h!=null&&(i[s]=h)})),{mapValue:{fields:i}}}function v0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ne||r instanceof vi||r instanceof On||r instanceof we||r instanceof Kd||r instanceof Ei)}function Zd(r,e,i){if(!v0(i)||!iv(i)){const s=Sd(i);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function md(r,e,i){if((e=qi(e))instanceof Dc)return e._internalPath;if(typeof e=="string")return Jd(r,e);throw dc("Field path arguments must be of type string or ",r,!1,void 0,i)}const a2=new RegExp("[~\\*/\\[\\]]");function Jd(r,e,i){if(e.search(a2)>=0)throw dc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Dc(...e.split("."))._internalPath}catch{throw dc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function dc(r,e,i,s,o){const h=s&&!s.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${s}`),d&&(v+=` in document ${o}`),v+=")"),new lt($.INVALID_ARGUMENT,p+r+v)}function E0(r,e){return r.some((i=>i.isEqual(e)))}class T0{constructor(e,i,s,o,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new we(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new s2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(S0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class s2 extends T0{data(){return super.data()}}function S0(r,e){return typeof e=="string"?Jd(r,e):e instanceof Dc?e._internalPath:e._delegate._internalPath}function r2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new lt($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class l2{convertValue(e,i="none"){switch(Ma(e)){case 0:return null;case 1:return e.booleanValue;case 2:return me(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Oa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw gt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return ja(e,((o,h)=>{s[o]=this.convertValue(h,i)})),s}convertVectorValue(e){const i=e.fields?.[ac].arrayValue?.values?.map((s=>me(s.doubleValue)));return new Ei(i)}convertGeoPoint(e){return new vi(me(e.latitude),me(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=pc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(to(e));default:return null}}convertTimestamp(e){const i=Ia(e);return new ne(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=ee.fromString(e);Pt(Pv(s),9688,{name:e});const o=new eo(s.get(1),s.get(3)),h=new ft(s.popFirst(5));return o.isEqual(i)||Gi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}function o2(r,e,i){let s;return s=r?r.toFirestore(e):e,s}class Gl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vs extends T0{constructor(e,i,s,o,h,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Ju(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(S0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=vs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}vs._jsonSchemaVersion="firestore/documentSnapshot/1.0",vs._jsonSchema={type:Re("string",vs._jsonSchemaVersion),bundleSource:Re("string","DocumentSnapshot"),bundleName:Re("string"),bundle:Re("string")};class Ju extends vs{data(e={}){return super.data(e)}}class Ar{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Gl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new Ju(this._firestore,this._userDataWriter,s.key,s,new Gl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new lt($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const v=new Ju(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Gl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>h||p.type!==3)).map((p=>{const v=new Ju(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Gl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,T=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:u2(p.type),doc:v,oldIndex:_,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ar._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Td.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),s.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function u2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:r})}}function A0(r){r=pi(r,we);const e=pi(r.firestore,Ss);return Kb(Yd(e),r._key).then((i=>C0(e,r,i)))}Ar._jsonSchemaVersion="firestore/querySnapshot/1.0",Ar._jsonSchema={type:Re("string",Ar._jsonSchemaVersion),bundleSource:Re("string","QuerySnapshot"),bundleName:Re("string"),bundle:Re("string")};class b0 extends l2{constructor(e){super(),this.firestore=e}convertBytes(e){return new On(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new we(this.firestore,null,i)}}function R0(r,e,i,...s){r=pi(r,we);const o=pi(r.firestore,Ss),h=y0(o);let d;return d=typeof(e=qi(e))=="string"||e instanceof Dc?i2(h,"updateDoc",r._key,e,i,s):n2(h,"updateDoc",r._key,e),$d(o,[d.toMutation(r._key,Fn.exists(!0))])}function c2(r){return $d(pi(r.firestore,Ss),[new Dd(r._key,Fn.none())])}function w0(r,e){const i=pi(r.firestore,Ss),s=co(r),o=o2(r.converter,e);return $d(i,[e2(y0(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Fn.exists(!1))]).then((()=>s))}function h2(r,...e){r=qi(r);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||L_(e[s])||(i=e[s++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(L_(e[s])){const v=e[s];e[s]=v.next?.bind(v),e[s+1]=v.error?.bind(v),e[s+2]=v.complete?.bind(v)}let h,d,p;if(r instanceof we)d=pi(r.firestore,Ss),p=_c(r._key.path),h={next:v=>{e[s]&&e[s](C0(d,r,v))},error:e[s+1],complete:e[s+2]};else{const v=pi(r,xc);d=pi(v.firestore,Ss),p=v._query;const _=new b0(d);h={next:T=>{e[s]&&e[s](new Ar(d,_,v,T))},error:e[s+1],complete:e[s+2]},r2(r._query)}return(function(_,T,A,V){const M=new h0(V),P=new n0(T,M,A);return _.asyncQueue.enqueueAndForget((async()=>t0(await dd(_),P))),()=>{M.Nu(),_.asyncQueue.enqueueAndForget((async()=>e0(await dd(_),P)))}})(Yd(d),p,o,h)}function $d(r,e){return(function(s,o){const h=new Da;return s.asyncQueue.enqueueAndForget((async()=>Lb(await Yb(s),o,h))),h.promise})(Yd(r),e)}function C0(r,e,i){const s=i.docs.get(e._key),o=new b0(r);return new vs(r,o,e._key,s,new Gl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){Nr=o})(k1),ec(new Jl("firestore",((s,{instanceIdentifier:o,options:h})=>{const d=s.getProvider("app").getImmediate(),p=new Ss(new nS(s.getProvider("auth-internal")),new sS(d,s.getProvider("app-check-internal")),(function(_,T){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new lt($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new eo(_.options.projectId,T)})(d,o),d);return h={useFetchStreams:i,...h},p._setSettings(h),p}),"PUBLIC").setMultipleInstances(!0)),Tr(Py,qy,e),Tr(Py,qy,"esm2020")})();const f2={apiKey:"AIzaSyCkYnLrNvxrZTwkDuFHodOXsgkfsidhySA",authDomain:"dprintshare-31rs6.firebaseapp.com",projectId:"dprintshare-31rs6",storageBucket:"dprintshare-31rs6.firebasestorage.app",messagingSenderId:"306284169624",appId:"1:306284169624:web:df2d98a07a98a3bc6b03ed"},d2=Q_(f2),Rs=Zb(d2),ws="events",m2=async(r,e)=>{const i=Fd(Rs,ws,r,"bets");await w0(i,{...e,timestamp:Date.now()})},g2=(r,e)=>{const i=Fd(Rs,ws,r,"bets");return h2(i,s=>{const o=[];s.forEach(h=>o.push({id:h.id,...h.data()})),e(o)})},p2=async r=>{try{return(await w0(Fd(Rs,ws),{...r,expenses:r.expenses||[],maxGuests:r.maxGuests||0,isRecurring:r.isRecurring||!1,adminShare:r.adminShare??100,budgetLimit:r.budgetLimit||0,createdAt:Date.now(),guests:[]})).id}catch(e){throw console.error("Error adding document: ",e),e}},y2=async r=>{const e=co(Rs,ws,r);await c2(e)},gd=async r=>{const e=co(Rs,ws,r),i=await A0(e);if(i.exists())return{id:i.id,...i.data()};throw new Error("Event not found")},_2=async(r,e)=>{const i=co(Rs,ws,r);try{const s=await A0(i);if(!s.exists())throw new Error("Event not found");let o=s.data().guests||[];o=o.filter(h=>h.name!==e.name),o.push({...e,hasPaid:!1,contribution:0}),await R0(i,{guests:o})}catch(s){throw console.error("RSVP Error",s),s}},We=async(r,e)=>{const i=co(Rs,ws,r);await R0(i,e)},Ql=r=>new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR"}).format(r),v2=(r=[])=>r.reduce((e,i)=>e+(parseFloat(i.amount)||0),0),ys=r=>{const{expenses:e=[],guests:i=[],hostMarkup:s=0,budgetLimit:o=0}=r,h=v2(e),p=i.filter(W=>W.status==="accepted").length,v=h*(s/100),T=h+v,A=-v,V=p>0?T/p:0,M=i.reduce((W,ot)=>W+(ot.hasPaid?ot.contribution||V:0),0),P=o>0&&h>o,J=V>25;return{totalExpenses:h,confirmedCount:p,adminAbsorbedCost:A,remainingCost:T,costPerGuest:V,collectedRevenue:M,isOverBudget:P,isHighCost:J,budgetLimit:o}},x0=async r=>{const e=`Vector Logo for a party named "${r}", glowing neon colors, deep black background, esports style, high contrast, minimalistic, 8k resolution, centered`,s=`https://image.pollinations.ai/prompt/${encodeURIComponent(e)}?width=512&height=512&model=flux&nologo=true`;try{const o=await fetch(s);if(!o.ok)throw new Error("Generation failed");const h=await o.blob();return new Promise((d,p)=>{const v=new FileReader;v.onloadend=()=>d(v.result),v.onerror=p,v.readAsDataURL(h)})}catch(o){throw console.error("AI Generation Error:",o),o}};function j_({title:r,items:e=[],onItemAdd:i,onItemToggle:s,onItemDelete:o,placeholder:h="Neuer Eintrag..."}){const[d,p]=Zt.useState(""),v=_=>{_.preventDefault(),d.trim()&&(i(d),p(""))};return R.jsxs("div",{style:{marginBottom:"2rem",padding:"1rem",background:"rgba(255,255,255,0.03)",borderRadius:"12px"},children:[R.jsx("h3",{style:{fontSize:"1.1rem",borderBottom:"1px solid var(--glass-border)",paddingBottom:"0.5rem",marginBottom:"1rem"},children:r}),R.jsxs("ul",{style:{listStyle:"none",padding:0,marginBottom:"1rem"},children:[e.map((_,T)=>R.jsxs("li",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[R.jsx("input",{type:"checkbox",checked:_.done,onChange:()=>s(T),style:{cursor:"pointer"}}),R.jsx("span",{style:{flex:1,textDecoration:_.done?"line-through":"none",opacity:_.done?.5:1},children:_.text}),R.jsx("button",{onClick:()=>o(T),style:{background:"none",border:"none",cursor:"pointer",opacity:.5,fontSize:"0.8rem"},children:""})]},T)),e.length===0&&R.jsx("li",{style:{opacity:.4,fontSize:"0.9rem"},children:"Liste ist leer."})]}),R.jsxs("form",{onSubmit:v,style:{display:"flex",gap:"0.5rem"},children:[R.jsx("input",{value:d,onChange:_=>p(_.target.value),placeholder:h,className:"input-field",style:{marginBottom:0,fontSize:"0.9rem",padding:"8px"}}),R.jsx("button",{type:"submit",className:"btn-primary",style:{padding:"8px 12px",fontSize:"1.2rem"},children:"+"})]})]})}function E2({event:r,onBack:e,onUpdate:i}){const[s,o]=Zt.useState("overview"),[h,d]=Zt.useState(r),[p,v]=Zt.useState(ys(r));Zt.useEffect(()=>{d(r),v(ys(r))},[r]);const _=async T=>{T.preventDefault();const A=new FormData(T.target),V={id:Date.now().toString(),item:A.get("item"),amount:parseFloat(A.get("amount"))},M=[...h.expenses||[],V],P={...h,expenses:M};d(P),v(ys(P)),T.target.reset(),await We(h.id,{expenses:M}),i&&i()};return R.jsxs("div",{children:[R.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[R.jsx("button",{onClick:e,className:"btn-ghost",children:" Zurck"}),R.jsx("button",{onClick:async()=>{window.confirm(" Event wirklich unwiderruflich lschen?")&&(await y2(h.id),i&&i(),e())},style:{background:"rgba(239, 68, 68, 0.2)",color:"#ef4444",border:"1px solid rgba(239, 68, 68, 0.5)",padding:"8px 16px",borderRadius:"8px",cursor:"pointer",fontWeight:"bold"},children:" Event lschen"})]}),R.jsxs("div",{className:"glass card",children:[R.jsxs("h2",{style:{borderBottom:"1px solid var(--glass-border)",paddingBottom:"1rem",marginBottom:"1rem"},children:[h.title," ",R.jsxs("span",{style:{fontSize:"0.8rem",opacity:.6},children:["(",s.toUpperCase(),")"]})]}),R.jsx("div",{style:{display:"flex",gap:"1rem",marginBottom:"2rem"},children:["overview","finances","guests","betting"].map(T=>{let A=T;return T==="overview"&&(A="bersicht"),T==="finances"&&(A="Finanzen"),T==="guests"&&(A="Gste"),T==="betting"&&(A="Wettbro"),R.jsx("button",{onClick:()=>o(T),style:{background:s===T?"var(--accent-primary)":"rgba(255,255,255,0.05)",border:"none",padding:"8px 16px",borderRadius:"8px",color:"white",cursor:"pointer"},children:A},T)})}),s==="overview"&&R.jsxs("div",{children:[R.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"2rem",alignItems:"flex-start",flexWrap:"wrap"},children:[R.jsxs("div",{style:{flex:1,minWidth:"250px"},children:[h.image?R.jsx("div",{style:{height:"150px",borderRadius:"12px",marginBottom:"0.5rem",backgroundImage:`url(${h.image})`,backgroundSize:"cover",backgroundPosition:"center"}}):R.jsx("div",{style:{height:"150px",borderRadius:"12px",marginBottom:"0.5rem",background:"rgba(255,255,255,0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:"Kein Bild"}),R.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.5rem"},children:[R.jsxs("label",{className:"btn-primary",style:{flex:1,textAlign:"center",fontSize:"0.8rem",padding:"6px",cursor:"pointer"},children:[" Upload",R.jsx("input",{type:"file",hidden:!0,accept:"image/*",onChange:T=>{const A=T.target.files[0];if(A){if(A.size>5e5){alert("Max 500KB!");return}const V=new FileReader;V.onloadend=async()=>{const M={...h,image:V.result};d(M),await We(h.id,{image:V.result})},V.readAsDataURL(A)}}})]}),R.jsx("button",{className:"btn-primary",style:{flex:1,fontSize:"0.8rem",padding:"6px",background:"linear-gradient(135deg, #a855f7, #ec4899)"},onClick:async T=>{const A=T.target,V=A.innerText;A.innerText="...",A.disabled=!0;try{const M=await x0(h.title),P={...h,image:M};d(P),await We(h.id,{image:M})}catch{alert("KI Fehler. Nochmal probieren.")}A.innerText=V,A.disabled=!1},children:" KI Logo"})]})]}),R.jsxs("div",{style:{flex:2,display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[R.jsxs("div",{className:"glass",style:{padding:"0.8rem",fontSize:"0.9rem"},children:[R.jsx("strong",{children:" Datum:"}),R.jsx("br",{}),h.date?h.date.split("-").reverse().join("."):""," @ ",h.time]}),R.jsxs("div",{className:"glass",style:{padding:"0.8rem",fontSize:"0.9rem"},children:[R.jsx("strong",{children:" Ort:"}),R.jsx("br",{}),h.location]}),R.jsxs("div",{className:"glass",style:{padding:"0.8rem",fontSize:"0.9rem"},children:[R.jsx("strong",{children:" Thema:"}),R.jsx("br",{}),h.theme||"-"]}),R.jsxs("div",{className:"glass",style:{padding:"0.8rem",fontSize:"0.9rem"},children:[R.jsx("strong",{children:" Infos:"}),R.jsx("br",{}),h.description]})]})]}),R.jsx("h2",{style:{marginBottom:"1rem",borderBottom:"1px solid var(--glass-border)"},children:"Planung & Orga"}),R.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"1rem"},children:[R.jsx(j_,{title:" To-Do Liste",items:h.todoList||[],onItemAdd:async T=>{const A=[...h.todoList||[],{text:T,done:!1}];d({...h,todoList:A}),await We(h.id,{todoList:A})},onItemToggle:async T=>{const A=[...h.todoList];A[T].done=!A[T].done,d({...h,todoList:A}),await We(h.id,{todoList:A})},onItemDelete:async T=>{const A=h.todoList.filter((V,M)=>M!==T);d({...h,todoList:A}),await We(h.id,{todoList:A})}}),R.jsx(j_,{title:" Einkaufsliste",items:h.shoppingList||[],placeholder:"Was einkaufen?",onItemAdd:async T=>{const A=[...h.shoppingList||[],{text:T,done:!1}];d({...h,shoppingList:A}),await We(h.id,{shoppingList:A})},onItemToggle:async T=>{const A=[...h.shoppingList];A[T].done=!A[T].done,d({...h,shoppingList:A}),await We(h.id,{shoppingList:A})},onItemDelete:async T=>{const A=h.shoppingList.filter((V,M)=>M!==T);d({...h,shoppingList:A}),await We(h.id,{shoppingList:A})}})]}),R.jsxs("div",{style:{marginTop:"1rem",padding:"1rem",background:"rgba(255,255,255,0.03)",borderRadius:"12px"},children:[R.jsx("h3",{style:{fontSize:"1.1rem",borderBottom:"1px solid var(--glass-border)",paddingBottom:"0.5rem",marginBottom:"1rem"},children:" Mitbring-Liste (Wer bringt was?)"}),R.jsxs("ul",{style:{listStyle:"none",padding:0,marginBottom:"1rem"},children:[(h.bringList||[]).map((T,A)=>R.jsxs("li",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.5rem",background:"rgba(0,0,0,0.2)",padding:"8px",borderRadius:"8px"},children:[R.jsxs("span",{children:[R.jsx("strong",{style:{color:"var(--accent-primary)"},children:T.guest})," bringt ",R.jsx("u",{children:T.item}),T.note&&R.jsxs("span",{style:{opacity:.7,fontSize:"0.8rem"},children:[" (",T.note,")"]})]}),R.jsx("button",{onClick:async()=>{const V=h.bringList.filter((M,P)=>P!==A);d({...h,bringList:V}),await We(h.id,{bringList:V})},style:{background:"none",border:"none",cursor:"pointer"},children:""})]},A)),(h.bringList||[]).length===0&&R.jsx("li",{style:{opacity:.5},children:"Noch keine Eintrge."})]}),R.jsxs("form",{onSubmit:async T=>{T.preventDefault();const A=new FormData(T.target),V=A.get("guest"),M=A.get("item"),P=A.get("note");if(!V||!M)return;const J={guest:V,item:M,note:P},W=[...h.bringList||[],J];d({...h,bringList:W}),await We(h.id,{bringList:W}),T.target.reset()},style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[R.jsxs("select",{name:"guest",required:!0,className:"input-field",style:{marginBottom:0,width:"auto",minWidth:"120px"},children:[R.jsx("option",{value:"",children:"Gast whlen..."}),R.jsx("option",{value:"Admin",children:"Admin (Ich)"}),h.guests?.map((T,A)=>R.jsx("option",{value:T.name,children:T.name},A))]}),R.jsx("input",{name:"item",required:!0,placeholder:"Was? (z.B. Salat)",className:"input-field",style:{marginBottom:0,flex:1}}),R.jsx("input",{name:"note",placeholder:"Notiz",className:"input-field",style:{marginBottom:0,flex:1}}),R.jsx("button",{type:"submit",className:"btn-primary",children:"+"})]})]})]}),s==="finances"&&R.jsxs("div",{children:[R.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:[R.jsxs("div",{style:{padding:"1rem",background:"rgba(255,255,255,0.05)",borderRadius:"12px"},children:[R.jsx("div",{style:{fontSize:"0.8rem",opacity:.7},children:"Gesamtkosten"}),R.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:p.isOverBudget?"#ef4444":"#fff"},children:Ql(p.totalExpenses)}),p.isOverBudget&&R.jsx("small",{style:{color:"#ef4444"},children:" ber Budget!"})]}),R.jsxs("div",{style:{padding:"1rem",background:"rgba(255,255,255,0.05)",borderRadius:"12px"},children:[R.jsx("div",{style:{fontSize:"0.8rem",opacity:.7},children:"Kosten pro Kopf"}),R.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:p.isHighCost?"#f59e0b":"#fff"},children:Ql(p.costPerGuest)}),p.isHighCost&&R.jsx("small",{style:{color:"#f59e0b"},children:" > 25 p.P."})]}),R.jsxs("div",{style:{padding:"1rem",background:"rgba(255,255,255,0.05)",borderRadius:"12px"},children:[R.jsx("div",{style:{fontSize:"0.8rem",opacity:.7},children:"Besttigte Gste"}),R.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold"},children:p.confirmedCount})]})]}),R.jsxs("div",{style:{marginBottom:"2rem",padding:"1rem",background:"rgba(255,255,255,0.05)",borderRadius:"12px"},children:[R.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[R.jsxs("label",{children:["Dein Aufschlag (Gewinn): ",R.jsxs("strong",{children:[h.hostMarkup??0,"%"]})]}),R.jsxs("span",{style:{color:"#22c55e"},children:["+",Ql((p.totalExpenses||0)*((h.hostMarkup||0)/100))]})]}),R.jsx("input",{type:"range",min:"0",max:"50",step:"1",value:h.hostMarkup??0,onChange:async T=>{const A=parseInt(T.target.value),V={...h,hostMarkup:A};d(V),v(ys(V)),await We(h.id,{hostMarkup:A})},style:{width:"100%",accentColor:"var(--accent-primary)"}}),R.jsx("small",{style:{opacity:.7},children:"Erhht den Preis pro Kopf. Der berschuss gehrt dir."})]}),R.jsx("h3",{children:"Ausgaben hinzufgen"}),R.jsxs("form",{onSubmit:_,style:{display:"flex",gap:"0.5rem",marginBottom:"2rem"},children:[R.jsx("input",{name:"item",required:!0,placeholder:"Posten (z.B. Bier)",className:"input-field",style:{marginBottom:0,flex:2}}),R.jsx("input",{name:"amount",required:!0,type:"number",step:"0.01",placeholder:"",className:"input-field",style:{marginBottom:0,flex:1}}),R.jsx("button",{type:"submit",className:"btn-primary",children:"+"})]}),R.jsx("h3",{children:"Ausgabenliste"}),(!h.expenses||h.expenses.length===0)&&R.jsx("p",{style:{opacity:.5},children:"Keine Ausgaben eingetragen."}),R.jsx("ul",{style:{listStyle:"none",padding:0},children:h.expenses&&h.expenses.map((T,A)=>R.jsxs("li",{style:{display:"flex",justifyContent:"space-between",padding:"0.5rem",borderBottom:"1px solid var(--glass-border)"},children:[R.jsx("span",{children:T.item}),R.jsx("span",{children:Ql(T.amount)})]},A))})]}),s==="guests"&&R.jsxs("div",{children:[R.jsxs("h3",{children:["Gsteliste (",h.guests?.length||0,")"]}),R.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[R.jsx("thead",{children:R.jsxs("tr",{style:{textAlign:"left",borderBottom:"1px solid var(--glass-border)"},children:[R.jsx("th",{style:{padding:"0.5rem"},children:"Name"}),R.jsx("th",{children:"Status"}),R.jsx("th",{children:"Bezahlt?"}),R.jsx("th",{children:"Aktion"})]})}),R.jsx("tbody",{children:h.guests&&h.guests.map((T,A)=>R.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[R.jsx("td",{style:{padding:"0.5rem"},children:T.name}),R.jsx("td",{children:R.jsx("span",{style:{padding:"2px 8px",borderRadius:"12px",fontSize:"0.8rem",background:T.status==="accepted"?"rgba(34, 197, 94, 0.2)":T.status==="declined"?"rgba(239, 68, 68, 0.2)":"rgba(255, 255, 0, 0.2)",color:T.status==="accepted"?"#4ade80":T.status==="declined"?"#f87171":"#facc15"},children:T.status==="accepted"?"Zusage":T.status==="declined"?"Absage":"Vielleicht"})}),R.jsx("td",{children:R.jsx("input",{type:"checkbox",checked:T.hasPaid||!1,onChange:async()=>{const V=[...h.guests];V[A]={...V[A],hasPaid:!V[A].hasPaid};const M={...h,guests:V};d(M),v(ys(M)),await We(h.id,{guests:V})},style:{cursor:"pointer",transform:"scale(1.2)"}})}),R.jsx("td",{children:R.jsx("button",{onClick:async()=>{if(!window.confirm(`${T.name} wirklich entfernen?`))return;const V=h.guests.filter((P,J)=>J!==A),M={...h,guests:V};d(M),v(ys(M)),await We(h.id,{guests:V})},style:{background:"none",border:"none",cursor:"pointer",fontSize:"1.2rem"},title:"Gast entfernen",children:""})})]},A))})]})]})]})]})}function T2(){const[r,e]=Zt.useState([]),[i,s]=Zt.useState(null),[o,h]=Zt.useState(!1),[d,p]=Zt.useState(!1),[v,_]=Zt.useState({title:"",date:"",time:"",location:"",description:"",budgetLimit:"",maxGuests:""});Zt.useEffect(()=>{T()},[]);const T=async()=>{const M=JSON.parse(localStorage.getItem("my_events")||"[]");if(M.length===0)return;p(!0);const P=[];for(const J of M)try{const W=await gd(J);P.push(W)}catch(W){console.error("Konnte Event nicht laden:",J,W)}e(P),p(!1)},A=async M=>{M.preventDefault(),p(!0);try{const P={...v,budgetLimit:parseFloat(v.budgetLimit)||0,maxGuests:parseInt(v.maxGuests)||0},J=await p2(P),W=JSON.parse(localStorage.getItem("my_events")||"[]");W.push(J),localStorage.setItem("my_events",JSON.stringify(W)),_({title:"",date:"",time:"",location:"",description:"",budgetLimit:"",maxGuests:""}),h(!1),await T()}catch(P){alert("Fehler beim Erstellen der Party: "+P.message)}p(!1)},V=(M,P)=>{P.stopPropagation(),(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")&&alert(`ACHTUNG: Du bist auf 'localhost'. Dieser Link funktioniert NICHT auf dem Handy!

Bitte ffne am Laptop die Netzwerk-Adresse (z.B. http://192.168.x.x:5173), die im Terminal angezeigt wird, und kopiere den Link dann erneut.`);const J=window.location.href.split("?")[0],ot=`${J.endsWith("/")?J.slice(0,-1):J}?partyId=${M}`;if(!navigator.clipboard){const ct=document.createElement("textarea");ct.value=ot,ct.style.position="fixed",ct.style.left="-9999px",document.body.appendChild(ct),ct.focus(),ct.select();try{document.execCommand("copy"),alert("Link kopiert: "+ot)}catch{prompt("Konnte nicht automatisch kopieren. Hier ist der Link:",ot)}document.body.removeChild(ct);return}navigator.clipboard.writeText(ot).then(()=>{alert("Link in die Zwischenablage kopiert!")}).catch(ct=>{prompt("Konnte nicht automatisch kopieren. Hier ist der Link:",ot)})};if(i){const M=r.find(P=>P.id===i);return M?R.jsx(E2,{event:M,onBack:()=>{s(null),T()},onUpdate:()=>T()}):(s(null),null)}return R.jsx("div",{className:"container animate-fade-in",children:R.jsxs("div",{className:"glass card",style:{maxWidth:"800px",margin:"1rem auto",padding:"1.5rem"},children:[R.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem",flexWrap:"wrap",gap:"1rem"},children:[R.jsx("h1",{style:{background:"linear-gradient(to right, #22c55e, #14532d)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",margin:0},children:"PitMaster Admin"}),R.jsx("button",{className:"btn-primary",onClick:()=>h(!o),children:o?"Abbrechen":"+ Neue Party"})]}),o&&R.jsxs("form",{onSubmit:A,className:"animate-fade-in",style:{background:"rgba(0,0,0,0.2)",padding:"1.5rem",borderRadius:"16px",marginBottom:"2rem"},children:[R.jsx("h3",{style:{marginBottom:"1rem"},children:"Neue Party erstellen"}),R.jsx("input",{required:!0,placeholder:"Party Name",className:"input-field",value:v.title,onChange:M=>_({...v,title:M.target.value})}),R.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[R.jsx("input",{placeholder:"Was wird gefeiert? (z.B. Schtzenfest)",className:"input-field",value:v.theme,onChange:M=>_({...v,theme:M.target.value})}),R.jsx("label",{style:{display:"block",marginBottom:"0.5rem"},children:"Bild / Logo"}),R.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[R.jsx("input",{type:"file",accept:"image/*",onChange:M=>{const P=M.target.files[0];if(P){if(P.size>5e5){alert("Max 500KB!");return}const J=new FileReader;J.onloadend=()=>{_({...v,image:J.result})},J.readAsDataURL(P)}},className:"input-field",style:{marginBottom:0,flex:1}}),R.jsx("button",{type:"button",className:"btn-primary",style:{background:"linear-gradient(135deg, #a855f7, #ec4899)"},onClick:async()=>{if(!v.title){alert("Bitte gib erst einen Titel ein!");return}const M=document.activeElement,P=M.innerText;M.innerText=" Generiere...",M.disabled=!0;try{const J=await x0(v.title);_({...v,image:J})}catch{alert("Fehler bei der KI-Generierung. Probier es nochmal.")}M.innerText=P,M.disabled=!1},children:" KI Logo"})]}),v.image&&R.jsx("div",{style:{marginTop:"0.5rem",height:"100px",backgroundImage:`url(${v.image})`,backgroundSize:"cover",borderRadius:"8px"}}),R.jsx("input",{required:!0,type:"date",className:"input-field",value:v.date,onChange:M=>_({...v,date:M.target.value})}),R.jsx("input",{required:!0,type:"time",className:"input-field",value:v.time,onChange:M=>_({...v,time:M.target.value})})]}),R.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[R.jsx("input",{type:"number",placeholder:"Budget Limit ()",className:"input-field",value:v.budgetLimit,onChange:M=>_({...v,budgetLimit:M.target.value})}),R.jsx("input",{type:"number",placeholder:"Max Gste (0 = egal)",className:"input-field",value:v.maxGuests,onChange:M=>_({...v,maxGuests:M.target.value})})]}),R.jsx("input",{required:!0,placeholder:"Ort",className:"input-field",value:v.location,onChange:M=>_({...v,location:M.target.value})}),R.jsx("textarea",{placeholder:"Beschreibung / Infos",className:"input-field",style:{minHeight:"100px",resize:"vertical"},value:v.description,onChange:M=>_({...v,description:M.target.value})}),R.jsx("button",{type:"submit",className:"btn-primary",disabled:d,style:{width:"100%"},children:d?"Erstelle...":"Party erstellen"})]}),R.jsxs("div",{children:[R.jsx("h3",{style:{borderBottom:"1px solid var(--glass-border)",paddingBottom:"0.5rem",marginBottom:"1rem"},children:"Deine Events"}),d&&R.jsx("p",{children:"Lade Events..."}),!d&&r.length===0&&R.jsx("p",{style:{opacity:.6},children:"Noch keine Events. Erstelle eins!"}),R.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:r.map(M=>R.jsxs("div",{onClick:()=>s(M.id),style:{background:"rgba(0,0,0,0.2)",padding:"0.8rem",borderRadius:"12px",border:"1px solid var(--glass-border)",cursor:"pointer",transition:"transform 0.2s",display:"flex",alignItems:"center",gap:"1rem"},onMouseEnter:P=>P.currentTarget.style.transform="scale(1.01)",onMouseLeave:P=>P.currentTarget.style.transform="scale(1)",children:[M.image?R.jsx("div",{style:{width:"60px",height:"60px",borderRadius:"8px",backgroundImage:`url(${M.image})`,backgroundSize:"cover",backgroundPosition:"center",flexShrink:0}}):R.jsx("div",{style:{width:"60px",height:"60px",borderRadius:"8px",background:"rgba(255,255,255,0.1)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem",flexShrink:0},children:""}),R.jsxs("div",{style:{flex:1},children:[R.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[R.jsxs("div",{children:[R.jsx("h4",{style:{margin:"0 0 0.3rem 0",fontSize:"1.2rem"},children:M.title}),R.jsxs("p",{style:{margin:0,opacity:.7,fontSize:"0.8rem"},children:[" ",M.date?M.date.split("-").reverse().join("."):""," |  ",M.location]})]}),R.jsx("button",{onClick:P=>V(M.id,P),className:"btn-primary",style:{fontSize:"0.75rem",padding:"6px 12px"},children:" Link"})]}),R.jsxs("div",{style:{marginTop:"0.5rem",paddingTop:"0.5rem",borderTop:"1px solid rgba(255,255,255,0.05)",display:"flex",justifyContent:"space-between"},children:[R.jsxs("span",{style:{fontSize:"0.75rem",opacity:.8},children:[" ",M.guests?.filter(P=>P.status==="accepted").length," Zusagen"]}),R.jsxs("span",{style:{fontSize:"0.75rem",opacity:.8},children:[" ",M.expenses?Ql(ys(M).totalExpenses):"0"]})]})]})]},M.id))})]})]})})}const S2=(r,e)=>{const i={},s={winner:0,loser:0,maxScore:0},o={winner:{},loser:{},maxScore:{yes:0,no:0}};e.forEach(d=>{o.winner[d.name]=0,o.loser[d.name]=0}),r.forEach(d=>{s[d.type]||(s[d.type]=0),s[d.type]+=d.amount,d.type==="winner"||d.type==="loser"?(o[d.type][d.target]||(o[d.type][d.target]=0),o[d.type][d.target]+=d.amount):d.type==="max_score"&&(o.maxScore[d.target]||(o.maxScore[d.target]=0),o.maxScore[d.target]+=d.amount)});const h=0;return Object.keys(o.winner).forEach(d=>{const p=o.winner[d];p===0?i[`winner_${d}`]=10:i[`winner_${d}`]=s.winner*(1-h)/p}),Object.keys(o.loser).forEach(d=>{const p=o.loser[d];p===0?i[`loser_${d}`]=10:i[`loser_${d}`]=s.loser*(1-h)/p}),i};function A2({partyId:r}){const[e,i]=Zt.useState(null),[s,o]=Zt.useState(!0),[h,d]=Zt.useState(null),[p,v]=Zt.useState(""),[_,T]=Zt.useState(!1);Zt.useEffect(()=>{A()},[r]);const A=async()=>{try{o(!0);const P=await gd(r);i(P)}catch{d("Event nicht gefunden oder abgelaufen.")}o(!1)},V=async P=>{if(!p.trim()){alert("Bitte gib deinen Namen ein!");return}try{await _2(r,{name:p,status:P,timestamp:Date.now()}),T(!0),A()}catch{alert("Fehler beim Senden der Antwort")}},M=P=>{if(!P)return"";const[J,W,ot]=P.split("-");return`${ot}.${W}.${J}`};return s?R.jsx("div",{className:"container",style:{textAlign:"center",marginTop:"4rem"},children:"Lade Party Infos..."}):h?R.jsx("div",{className:"container",style:{textAlign:"center",marginTop:"4rem",color:"#ef4444"},children:h}):R.jsxs("div",{className:"container animate-fade-in",children:[R.jsxs("div",{className:"glass card",style:{maxWidth:"600px",margin:"2rem auto",textAlign:"center",overflow:"hidden"},children:[e.image?R.jsx("div",{style:{margin:"-2rem -2rem 2rem -2rem",height:"250px",backgroundImage:`url(${e.image})`,backgroundSize:"cover",backgroundPosition:"center"}}):R.jsx("span",{style:{fontSize:"4rem",display:"block",marginBottom:"1rem",marginTop:"1rem"},children:""}),e.theme&&R.jsx("span",{style:{background:"var(--accent-primary)",color:"#000",fontWeight:"bold",padding:"4px 12px",borderRadius:"16px",fontSize:"0.8rem",textTransform:"uppercase",letterSpacing:"1px"},children:e.theme}),R.jsx("h1",{style:{background:"linear-gradient(to right, #22c55e, #14532d)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",marginBottom:"0.5rem",marginTop:e.theme?"0.5rem":"0"},children:e.title}),R.jsxs("div",{style:{background:"rgba(0,0,0,0.3)",padding:"1rem",borderRadius:"12px",margin:"2rem 0",textAlign:"left"},children:[R.jsxs("p",{style:{margin:"0.5rem 0"},children:[" ",R.jsx("strong",{children:"Wann:"})," ",M(e.date)," um ",e.time]}),R.jsxs("p",{style:{margin:"0.5rem 0"},children:[" ",R.jsx("strong",{children:"Wo:"})," ",e.location]}),e.maxGuests>0&&R.jsxs("p",{style:{margin:"0.5rem 0"},children:[" ",R.jsx("strong",{children:"Max Gste:"})," ",e.maxGuests]}),R.jsxs("p",{style:{margin:"0.5rem 0",whiteSpace:"pre-wrap"},children:[" ",R.jsx("strong",{children:"Infos:"}),R.jsx("br",{}),e.description]})]}),_?R.jsxs("div",{className:"animate-fade-in",style:{padding:"2rem",background:"rgba(255,255,255,0.03)",borderRadius:"12px",border:"1px solid var(--accent-primary)"},children:[R.jsx("h3",{children:"Antwort gesendet!"}),R.jsxs("p",{children:["Danke fr die Rckmeldung, ",p,"."]}),R.jsxs("div",{style:{marginTop:"2rem",borderTop:"1px solid var(--glass-border)",paddingTop:"1rem",textAlign:"left"},children:[R.jsx("h4",{style:{marginBottom:"1rem"},children:" Wer bringt was mit?"}),R.jsxs("ul",{style:{listStyle:"none",padding:0,marginBottom:"1rem"},children:[(e.bringList||[]).map((P,J)=>R.jsxs("li",{style:{marginBottom:"0.5rem",background:"rgba(255,255,255,0.05)",padding:"8px",borderRadius:"8px",fontSize:"0.9rem"},children:[R.jsx("strong",{style:{color:"var(--accent-primary)"},children:P.guest}),": ",P.item,P.note&&R.jsxs("span",{style:{opacity:.7},children:[" (",P.note,")"]})]},J)),(!e.bringList||e.bringList.length===0)&&R.jsx("li",{style:{opacity:.5,fontSize:"0.9rem"},children:"Noch bringt niemand etwas mit."})]}),R.jsx("h5",{style:{marginTop:"1rem",marginBottom:"0.5rem"},children:"Ich bringe was mit:"}),R.jsxs("form",{onSubmit:async P=>{P.preventDefault();const J=new FormData(P.target),W=J.get("item"),ot=J.get("note");if(W)try{const ct=await gd(r),mt={guest:p,item:W,note:ot},Ut=[...ct.bringList||[],mt];await We(r,{bringList:Ut}),i({...ct,bringList:Ut}),P.target.reset(),alert("Gespeichert! Danke "+p+"!")}catch(ct){console.error(ct),alert("Fehler beim Speichern. Versuch's nochmal.")}},style:{display:"flex",gap:"0.5rem"},children:[R.jsx("input",{name:"item",required:!0,placeholder:"Was? (z.B. Brot)",className:"input-field",style:{marginBottom:0,flex:2}}),R.jsx("input",{name:"note",placeholder:"Notiz",className:"input-field",style:{marginBottom:0,flex:1}}),R.jsx("button",{type:"submit",className:"btn-primary",style:{padding:"0 1rem"},children:"+"})]})]}),p&&R.jsx("button",{onClick:()=>T(!1),style:{background:"none",border:"none",color:"var(--text-secondary)",textDecoration:"underline",cursor:"pointer",marginTop:"2rem"},children:"Antwort ndern"})]}):R.jsxs("div",{className:"animate-fade-in",children:[R.jsx("h3",{style:{marginBottom:"1rem"},children:"Bist du dabei?"}),R.jsx("input",{placeholder:"Dein Name",className:"input-field",style:{maxWidth:"300px",textAlign:"center"},value:p,onChange:P=>v(P.target.value)}),R.jsxs("div",{style:{marginTop:"1rem",display:"flex",flexDirection:"column",gap:"0.5rem",alignItems:"center"},children:[R.jsxs("div",{style:{display:"flex",gap:"1rem",width:"100%",justifyContent:"center"},children:[R.jsx("button",{onClick:()=>V("accepted"),className:"btn-primary",style:{flex:1,maxWidth:"140px"},children:"Bin dabei! "}),R.jsx("button",{onClick:()=>V("declined"),className:"btn-primary",style:{background:"transparent",border:"1px solid var(--glass-border)",flex:1,maxWidth:"140px"},children:"Kann nicht"})]}),R.jsx("button",{onClick:()=>V("maybe"),style:{background:"none",border:"none",color:"var(--text-secondary)",cursor:"pointer",fontSize:"0.9rem",marginTop:"0.5rem"},children:"Vielleicht... "})]})]}),R.jsxs("div",{style:{marginTop:"3rem",borderTop:"1px solid var(--glass-border)",paddingTop:"1rem"},children:[R.jsxs("h4",{children:["Wer kommt? (",e.guests?.filter(P=>P.status==="accepted").length||0,")"]}),R.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem",justifyContent:"center"},children:[e.guests&&e.guests.map((P,J)=>R.jsxs("span",{style:{background:"rgba(255,255,255,0.1)",padding:"4px 12px",borderRadius:"20px",fontSize:"0.9rem",opacity:P.status==="declined"?.5:1,textDecoration:P.status==="declined"?"line-through":"none"},children:[P.name," ",P.status==="maybe"?"(Vielleicht)":""]},J)),(!e.guests||e.guests.length===0)&&R.jsx("span",{style:{opacity:.5},children:"Sei der Erste!"})]})]})]}),R.jsxs("div",{className:"glass card",style:{maxWidth:"600px",margin:"2rem auto",textAlign:"center",overflow:"hidden",padding:"1.5rem"},children:[R.jsx("h2",{style:{color:"var(--accent-gold)",marginBottom:"0.5rem"},children:" Wettbro"}),(!e.bettingStatus||e.bettingStatus==="closed")&&!e.bettingResults&&R.jsxs("div",{style:{padding:"2rem",opacity:.7},children:[R.jsx("h3",{children:"Das Wettbro hat geschlossen."}),R.jsx("p",{children:"Warte auf den Admin..."})]}),e.bettingStatus==="open"&&R.jsx(b2,{eventId:r,guests:e.guests?.filter(P=>P.status==="accepted")||[],currentUser:p}),e.bettingStatus==="finished"&&e.bettingResults&&R.jsx(R2,{eventId:r,results:e.bettingResults})]})]})}function b2({eventId:r,guests:e,currentUser:i}){const[s,o]=Zt.useState([]),[h,d]=Zt.useState({}),[p,v]=Zt.useState("winner"),[_,T]=Zt.useState(""),[A,V]=Zt.useState(5);Zt.useEffect(()=>{const P=g2(r,J=>{o(J),d(S2(J,e))});return()=>P()},[r,e]);const M=async P=>{if(P.preventDefault(),!i){alert("Bitte erst oben deinen Namen eingeben!");return}_&&(await m2(r,{user:i,type:p,target:_,amount:parseFloat(A)}),alert(`Wette platziert! Viel Glck, ${i}! `))};return R.jsxs("div",{className:"animate-fade-in",children:[R.jsxs("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"center",marginBottom:"1.5rem"},children:[R.jsx("button",{onClick:()=>v("winner"),className:p==="winner"?"btn-primary":"btn-ghost",style:{fontSize:"0.8rem"},children:" Sieger"}),R.jsx("button",{onClick:()=>v("loser"),className:p==="loser"?"btn-primary":"btn-ghost",style:{fontSize:"0.8rem"},children:" Verlierer"}),R.jsx("button",{onClick:()=>v("max_score"),className:p==="max_score"?"btn-primary":"btn-ghost",style:{fontSize:"0.8rem"},children:" Volltreffer"})]}),R.jsxs("form",{onSubmit:M,style:{textAlign:"left",background:"rgba(255,255,255,0.03)",padding:"1rem",borderRadius:"12px"},children:[R.jsx("label",{style:{display:"block",marginBottom:"0.5rem"},children:p==="winner"?"Wer gewinnt das Ding?":p==="loser"?"Wer verkackt es?":"Wer landet einen Volltreffer?"}),R.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(140px, 1fr))",gap:"0.5rem",marginBottom:"1.5rem"},children:e.map(P=>{p==="max_score"||`${p}${P.name}`;const J=p==="max_score"?5:h[`${p}_${P.name}`]||10;return R.jsxs("div",{onClick:()=>T(P.name),style:{padding:"10px",border:_===P.name?"1px solid var(--accent-primary)":"1px solid transparent",background:_===P.name?"rgba(0,255,163,0.1)":"rgba(0,0,0,0.2)",borderRadius:"8px",cursor:"pointer",textAlign:"center"},children:[R.jsx("div",{style:{fontWeight:"bold"},children:P.name}),R.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--accent-gold)"},children:["x ",J.toFixed(2)]})]},P.name)})}),R.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:[R.jsxs("div",{style:{flex:1},children:[R.jsx("label",{style:{fontSize:"0.8rem"},children:"Einsatz ()"}),R.jsx("input",{type:"number",min:"1",step:"1",value:A,onChange:P=>V(P.target.value),className:"input-field",style:{marginBottom:0}})]}),R.jsx("button",{type:"submit",className:"btn-primary",disabled:!_,style:{flex:2,height:"48px"},children:"Wette platzieren"})]})]})]})}function R2({eventId:r,results:e}){const[i,s]=Zt.useState([]);return Zt.useEffect(()=>{},[]),R.jsxs("div",{className:"animate-fade-in",style:{textAlign:"center"},children:[R.jsx("h1",{style:{fontSize:"3rem",marginBottom:"0"},children:""}),R.jsx("h3",{style:{color:"#22c55e",marginTop:"0.5rem"},children:"Ergebnisse"}),R.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",marginTop:"2rem"},children:[R.jsxs("div",{style:{flex:1,padding:"1rem",background:"rgba(34, 197, 94, 0.1)",borderRadius:"12px"},children:[R.jsx("div",{style:{fontSize:"2rem"},children:""}),R.jsx("strong",{children:e.winner})]}),R.jsxs("div",{style:{flex:1,padding:"1rem",background:"rgba(239, 68, 68, 0.1)",borderRadius:"12px"},children:[R.jsx("div",{style:{fontSize:"2rem"},children:""}),R.jsx("strong",{children:e.loser})]})]}),e.maxScoreHitters&&e.maxScoreHitters.length>0&&R.jsxs("div",{style:{marginTop:"1rem",padding:"1rem",background:"rgba(255, 215, 0, 0.1)",borderRadius:"12px"},children:[R.jsx("strong",{children:" Volltreffer Club:"})," ",e.maxScoreHitters.join(", ")]})]})}function w2(){const[r,e]=Zt.useState(null);return Zt.useEffect(()=>{const s=new URLSearchParams(window.location.search).get("partyId");s&&e(s)},[]),R.jsx("div",{className:"app-root",children:r?R.jsx(A2,{partyId:r}):R.jsx(T2,{})})}mT.createRoot(document.getElementById("root")).render(R.jsx(Zt.StrictMode,{children:R.jsx(w2,{})}));
