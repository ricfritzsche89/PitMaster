const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/certificate-Ds1Ju0ja.js","assets/index-Bir-So5k.js","assets/index-643Q29OQ.css"])))=>i.map(i=>d[i]);
import{b as Ie,r as k,j as e,c as Le,g as _e,_ as X,R as Me,D as We}from"./index-Bir-So5k.js";import{d as Oe,f as Fe,s as Ge,h as He,u as E,i as $e,j as me,k as qe,e as pe,l as Ke,g as Qe,m as Ue}from"./db-9U8F5AfD.js";import{b as W,f as A,a as Ve,c as Xe}from"./finance-GZNHdtyO.js";var Ye=Ie();const Ze=async p=>{const g=`Vector Logo for a party named "${p}", glowing neon colors, deep black background, esports style, high contrast, minimalistic, 8k resolution, centered`,m=`https://image.pollinations.ai/prompt/${encodeURIComponent(g)}?width=512&height=512&model=flux&nologo=true`;try{const u=await fetch(m);if(!u.ok)throw new Error("Generation failed");const t=await u.blob();return new Promise((s,o)=>{const i=new FileReader;i.onloadend=()=>s(i.result),i.onerror=o,i.readAsDataURL(t)})}catch(u){throw console.error("AI Generation Error:",u),u}};function ge({title:p,items:g=[],onItemAdd:c,onItemToggle:m,onItemDelete:u,placeholder:t="Neuer Eintrag..."}){const[s,o]=k.useState(""),i=r=>{r.preventDefault(),s.trim()&&(c(s),o(""))};return e.jsxs("div",{className:"glass",style:{marginBottom:"2rem",padding:"1rem"},children:[e.jsx("h3",{style:{fontSize:"1.1rem",borderBottom:"1px solid var(--glass-border)",paddingBottom:"0.5rem",marginBottom:"1rem"},children:p}),e.jsxs("ul",{style:{listStyle:"none",padding:0,marginBottom:"1rem"},children:[g.map((r,d)=>e.jsxs("li",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[e.jsx("input",{type:"checkbox",checked:r.done,onChange:()=>m(d),style:{cursor:"pointer"}}),e.jsx("span",{style:{flex:1,textDecoration:r.done?"line-through":"none",opacity:r.done?.5:1},children:r.text}),e.jsx("button",{onClick:()=>u(d),style:{background:"none",border:"none",cursor:"pointer",opacity:.5,fontSize:"0.8rem"},children:"‚ùå"})]},d)),g.length===0&&e.jsx("li",{style:{opacity:.4,fontSize:"0.9rem"},children:"Liste ist leer."})]}),e.jsxs("form",{onSubmit:i,style:{display:"flex",gap:"0.5rem"},children:[e.jsx("input",{value:s,onChange:r=>o(r.target.value),placeholder:t,className:"input-field",style:{marginBottom:0,fontSize:"0.9rem",padding:"8px"}}),e.jsx("button",{type:"submit",className:"btn-primary",style:{padding:"8px 12px",fontSize:"1.2rem"},children:"+"})]})]})}var O={},J={exports:{}},ee,he;function Je(){if(he)return ee;he=1;var p="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ee=p,ee}var te,fe;function et(){if(fe)return te;fe=1;var p=Je();function g(){}function c(){}return c.resetWarningCache=g,te=function(){function m(s,o,i,r,d,l){if(l!==p){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}m.isRequired=m;function u(){return m}var t={array:m,bigint:m,bool:m,func:m,number:m,object:m,string:m,symbol:m,any:m,arrayOf:u,element:m,elementType:m,instanceOf:u,node:m,objectOf:u,oneOf:u,oneOfType:u,shape:u,exact:u,checkPropTypes:c,resetWarningCache:g};return t.PropTypes=t,t},te}var xe;function Ne(){return xe||(xe=1,J.exports=et()()),J.exports}var ne,ye;function Re(){return ye||(ye=1,ne={L:1,M:0,Q:3,H:2}),ne}var re,ve;function Pe(){return ve||(ve=1,re={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),re}var ie,be;function tt(){if(be)return ie;be=1;var p=Pe();function g(c){this.mode=p.MODE_8BIT_BYTE,this.data=c}return g.prototype={getLength:function(c){return this.data.length},write:function(c){for(var m=0;m<this.data.length;m++)c.put(this.data.charCodeAt(m),8)}},ie=g,ie}var se,je;function nt(){if(je)return se;je=1;var p=Re();function g(c,m){this.totalCount=c,this.dataCount=m}return g.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],g.getRSBlocks=function(c,m){var u=g.getRsBlockTable(c,m);if(u==null)throw new Error("bad rs block @ typeNumber:"+c+"/errorCorrectLevel:"+m);for(var t=u.length/3,s=new Array,o=0;o<t;o++)for(var i=u[o*3+0],r=u[o*3+1],d=u[o*3+2],l=0;l<i;l++)s.push(new g(r,d));return s},g.getRsBlockTable=function(c,m){switch(m){case p.L:return g.RS_BLOCK_TABLE[(c-1)*4+0];case p.M:return g.RS_BLOCK_TABLE[(c-1)*4+1];case p.Q:return g.RS_BLOCK_TABLE[(c-1)*4+2];case p.H:return g.RS_BLOCK_TABLE[(c-1)*4+3];default:return}},se=g,se}var ae,we;function rt(){if(we)return ae;we=1;function p(){this.buffer=new Array,this.length=0}return p.prototype={get:function(g){var c=Math.floor(g/8);return(this.buffer[c]>>>7-g%8&1)==1},put:function(g,c){for(var m=0;m<c;m++)this.putBit((g>>>c-m-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(g){var c=Math.floor(this.length/8);this.buffer.length<=c&&this.buffer.push(0),g&&(this.buffer[c]|=128>>>this.length%8),this.length++}},ae=p,ae}var oe,Se;function Ae(){if(Se)return oe;Se=1;for(var p={glog:function(c){if(c<1)throw new Error("glog("+c+")");return p.LOG_TABLE[c]},gexp:function(c){for(;c<0;)c+=255;for(;c>=256;)c-=255;return p.EXP_TABLE[c]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},g=0;g<8;g++)p.EXP_TABLE[g]=1<<g;for(var g=8;g<256;g++)p.EXP_TABLE[g]=p.EXP_TABLE[g-4]^p.EXP_TABLE[g-5]^p.EXP_TABLE[g-6]^p.EXP_TABLE[g-8];for(var g=0;g<255;g++)p.LOG_TABLE[p.EXP_TABLE[g]]=g;return oe=p,oe}var le,Be;function ze(){if(Be)return le;Be=1;var p=Ae();function g(c,m){if(c.length==null)throw new Error(c.length+"/"+m);for(var u=0;u<c.length&&c[u]==0;)u++;this.num=new Array(c.length-u+m);for(var t=0;t<c.length-u;t++)this.num[t]=c[t+u]}return g.prototype={get:function(c){return this.num[c]},getLength:function(){return this.num.length},multiply:function(c){for(var m=new Array(this.getLength()+c.getLength()-1),u=0;u<this.getLength();u++)for(var t=0;t<c.getLength();t++)m[u+t]^=p.gexp(p.glog(this.get(u))+p.glog(c.get(t)));return new g(m,0)},mod:function(c){if(this.getLength()-c.getLength()<0)return this;for(var m=p.glog(this.get(0))-p.glog(c.get(0)),u=new Array(this.getLength()),t=0;t<this.getLength();t++)u[t]=this.get(t);for(var t=0;t<c.getLength();t++)u[t]^=p.gexp(p.glog(c.get(t))+m);return new g(u,0).mod(c)}},le=g,le}var de,ke;function it(){if(ke)return de;ke=1;var p=Pe(),g=ze(),c=Ae(),m={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},u={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var s=t<<10;u.getBCHDigit(s)-u.getBCHDigit(u.G15)>=0;)s^=u.G15<<u.getBCHDigit(s)-u.getBCHDigit(u.G15);return(t<<10|s)^u.G15_MASK},getBCHTypeNumber:function(t){for(var s=t<<12;u.getBCHDigit(s)-u.getBCHDigit(u.G18)>=0;)s^=u.G18<<u.getBCHDigit(s)-u.getBCHDigit(u.G18);return t<<12|s},getBCHDigit:function(t){for(var s=0;t!=0;)s++,t>>>=1;return s},getPatternPosition:function(t){return u.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,s,o){switch(t){case m.PATTERN000:return(s+o)%2==0;case m.PATTERN001:return s%2==0;case m.PATTERN010:return o%3==0;case m.PATTERN011:return(s+o)%3==0;case m.PATTERN100:return(Math.floor(s/2)+Math.floor(o/3))%2==0;case m.PATTERN101:return s*o%2+s*o%3==0;case m.PATTERN110:return(s*o%2+s*o%3)%2==0;case m.PATTERN111:return(s*o%3+(s+o)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var s=new g([1],0),o=0;o<t;o++)s=s.multiply(new g([1,c.gexp(o)],0));return s},getLengthInBits:function(t,s){if(1<=s&&s<10)switch(t){case p.MODE_NUMBER:return 10;case p.MODE_ALPHA_NUM:return 9;case p.MODE_8BIT_BYTE:return 8;case p.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(s<27)switch(t){case p.MODE_NUMBER:return 12;case p.MODE_ALPHA_NUM:return 11;case p.MODE_8BIT_BYTE:return 16;case p.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(s<41)switch(t){case p.MODE_NUMBER:return 14;case p.MODE_ALPHA_NUM:return 13;case p.MODE_8BIT_BYTE:return 16;case p.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+s)},getLostPoint:function(t){for(var s=t.getModuleCount(),o=0,i=0;i<s;i++)for(var r=0;r<s;r++){for(var d=0,l=t.isDark(i,r),h=-1;h<=1;h++)if(!(i+h<0||s<=i+h))for(var w=-1;w<=1;w++)r+w<0||s<=r+w||h==0&&w==0||l==t.isDark(i+h,r+w)&&d++;d>5&&(o+=3+d-5)}for(var i=0;i<s-1;i++)for(var r=0;r<s-1;r++){var y=0;t.isDark(i,r)&&y++,t.isDark(i+1,r)&&y++,t.isDark(i,r+1)&&y++,t.isDark(i+1,r+1)&&y++,(y==0||y==4)&&(o+=3)}for(var i=0;i<s;i++)for(var r=0;r<s-6;r++)t.isDark(i,r)&&!t.isDark(i,r+1)&&t.isDark(i,r+2)&&t.isDark(i,r+3)&&t.isDark(i,r+4)&&!t.isDark(i,r+5)&&t.isDark(i,r+6)&&(o+=40);for(var r=0;r<s;r++)for(var i=0;i<s-6;i++)t.isDark(i,r)&&!t.isDark(i+1,r)&&t.isDark(i+2,r)&&t.isDark(i+3,r)&&t.isDark(i+4,r)&&!t.isDark(i+5,r)&&t.isDark(i+6,r)&&(o+=40);for(var b=0,r=0;r<s;r++)for(var i=0;i<s;i++)t.isDark(i,r)&&b++;var v=Math.abs(100*b/s/s-50)/5;return o+=v*10,o}};return de=u,de}var ce,Ce;function st(){if(Ce)return ce;Ce=1;var p=tt(),g=nt(),c=rt(),m=it(),u=ze();function t(o,i){this.typeNumber=o,this.errorCorrectLevel=i,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var s=t.prototype;return s.addData=function(o){var i=new p(o);this.dataList.push(i),this.dataCache=null},s.isDark=function(o,i){if(o<0||this.moduleCount<=o||i<0||this.moduleCount<=i)throw new Error(o+","+i);return this.modules[o][i]},s.getModuleCount=function(){return this.moduleCount},s.make=function(){if(this.typeNumber<1){var o=1;for(o=1;o<40;o++){for(var i=g.getRSBlocks(o,this.errorCorrectLevel),r=new c,d=0,l=0;l<i.length;l++)d+=i[l].dataCount;for(var l=0;l<this.dataList.length;l++){var h=this.dataList[l];r.put(h.mode,4),r.put(h.getLength(),m.getLengthInBits(h.mode,o)),h.write(r)}if(r.getLengthInBits()<=d*8)break}this.typeNumber=o}this.makeImpl(!1,this.getBestMaskPattern())},s.makeImpl=function(o,i){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var d=0;d<this.moduleCount;d++)this.modules[r][d]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(o,i),this.typeNumber>=7&&this.setupTypeNumber(o),this.dataCache==null&&(this.dataCache=t.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,i)},s.setupPositionProbePattern=function(o,i){for(var r=-1;r<=7;r++)if(!(o+r<=-1||this.moduleCount<=o+r))for(var d=-1;d<=7;d++)i+d<=-1||this.moduleCount<=i+d||(0<=r&&r<=6&&(d==0||d==6)||0<=d&&d<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=d&&d<=4?this.modules[o+r][i+d]=!0:this.modules[o+r][i+d]=!1)},s.getBestMaskPattern=function(){for(var o=0,i=0,r=0;r<8;r++){this.makeImpl(!0,r);var d=m.getLostPoint(this);(r==0||o>d)&&(o=d,i=r)}return i},s.createMovieClip=function(o,i,r){var d=o.createEmptyMovieClip(i,r),l=1;this.make();for(var h=0;h<this.modules.length;h++)for(var w=h*l,y=0;y<this.modules[h].length;y++){var b=y*l,v=this.modules[h][y];v&&(d.beginFill(0,100),d.moveTo(b,w),d.lineTo(b+l,w),d.lineTo(b+l,w+l),d.lineTo(b,w+l),d.endFill())}return d},s.setupTimingPattern=function(){for(var o=8;o<this.moduleCount-8;o++)this.modules[o][6]==null&&(this.modules[o][6]=o%2==0);for(var i=8;i<this.moduleCount-8;i++)this.modules[6][i]==null&&(this.modules[6][i]=i%2==0)},s.setupPositionAdjustPattern=function(){for(var o=m.getPatternPosition(this.typeNumber),i=0;i<o.length;i++)for(var r=0;r<o.length;r++){var d=o[i],l=o[r];if(this.modules[d][l]==null)for(var h=-2;h<=2;h++)for(var w=-2;w<=2;w++)h==-2||h==2||w==-2||w==2||h==0&&w==0?this.modules[d+h][l+w]=!0:this.modules[d+h][l+w]=!1}},s.setupTypeNumber=function(o){for(var i=m.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var d=!o&&(i>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=d}for(var r=0;r<18;r++){var d=!o&&(i>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=d}},s.setupTypeInfo=function(o,i){for(var r=this.errorCorrectLevel<<3|i,d=m.getBCHTypeInfo(r),l=0;l<15;l++){var h=!o&&(d>>l&1)==1;l<6?this.modules[l][8]=h:l<8?this.modules[l+1][8]=h:this.modules[this.moduleCount-15+l][8]=h}for(var l=0;l<15;l++){var h=!o&&(d>>l&1)==1;l<8?this.modules[8][this.moduleCount-l-1]=h:l<9?this.modules[8][15-l-1+1]=h:this.modules[8][15-l-1]=h}this.modules[this.moduleCount-8][8]=!o},s.mapData=function(o,i){for(var r=-1,d=this.moduleCount-1,l=7,h=0,w=this.moduleCount-1;w>0;w-=2)for(w==6&&w--;;){for(var y=0;y<2;y++)if(this.modules[d][w-y]==null){var b=!1;h<o.length&&(b=(o[h]>>>l&1)==1);var v=m.getMask(i,d,w-y);v&&(b=!b),this.modules[d][w-y]=b,l--,l==-1&&(h++,l=7)}if(d+=r,d<0||this.moduleCount<=d){d-=r,r=-r;break}}},t.PAD0=236,t.PAD1=17,t.createData=function(o,i,r){for(var d=g.getRSBlocks(o,i),l=new c,h=0;h<r.length;h++){var w=r[h];l.put(w.mode,4),l.put(w.getLength(),m.getLengthInBits(w.mode,o)),w.write(l)}for(var y=0,h=0;h<d.length;h++)y+=d[h].dataCount;if(l.getLengthInBits()>y*8)throw new Error("code length overflow. ("+l.getLengthInBits()+">"+y*8+")");for(l.getLengthInBits()+4<=y*8&&l.put(0,4);l.getLengthInBits()%8!=0;)l.putBit(!1);for(;!(l.getLengthInBits()>=y*8||(l.put(t.PAD0,8),l.getLengthInBits()>=y*8));)l.put(t.PAD1,8);return t.createBytes(l,d)},t.createBytes=function(o,i){for(var r=0,d=0,l=0,h=new Array(i.length),w=new Array(i.length),y=0;y<i.length;y++){var b=i[y].dataCount,v=i[y].totalCount-b;d=Math.max(d,b),l=Math.max(l,v),h[y]=new Array(b);for(var x=0;x<h[y].length;x++)h[y][x]=255&o.buffer[x+r];r+=b;var S=m.getErrorCorrectPolynomial(v),B=new u(h[y],S.getLength()-1),N=B.mod(S);w[y]=new Array(S.getLength()-1);for(var x=0;x<w[y].length;x++){var L=x+N.getLength()-w[y].length;w[y][x]=L>=0?N.get(L):0}}for(var z=0,x=0;x<i.length;x++)z+=i[x].totalCount;for(var R=new Array(z),M=0,x=0;x<d;x++)for(var y=0;y<i.length;y++)x<h[y].length&&(R[M++]=h[y][x]);for(var x=0;x<l;x++)for(var y=0;y<i.length;y++)x<w[y].length&&(R[M++]=w[y][x]);return R},ce=t,ce}var V={},Te;function at(){if(Te)return V;Te=1,Object.defineProperty(V,"__esModule",{value:!0});var p=Object.assign||function(r){for(var d=1;d<arguments.length;d++){var l=arguments[d];for(var h in l)Object.prototype.hasOwnProperty.call(l,h)&&(r[h]=l[h])}return r},g=Ne(),c=t(g),m=Le(),u=t(m);function t(r){return r&&r.__esModule?r:{default:r}}function s(r,d){var l={};for(var h in r)d.indexOf(h)>=0||Object.prototype.hasOwnProperty.call(r,h)&&(l[h]=r[h]);return l}var o={bgColor:c.default.oneOfType([c.default.object,c.default.string]).isRequired,bgD:c.default.string.isRequired,fgColor:c.default.oneOfType([c.default.object,c.default.string]).isRequired,fgD:c.default.string.isRequired,size:c.default.number.isRequired,title:c.default.string,viewBoxSize:c.default.number.isRequired,xmlns:c.default.string},i=(0,m.forwardRef)(function(r,d){var l=r.bgColor,h=r.bgD,w=r.fgD,y=r.fgColor,b=r.size,v=r.title,x=r.viewBoxSize,S=r.xmlns,B=S===void 0?"http://www.w3.org/2000/svg":S,N=s(r,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return u.default.createElement("svg",p({},N,{height:b,ref:d,viewBox:"0 0 "+x+" "+x,width:b,xmlns:B}),v?u.default.createElement("title",null,v):null,u.default.createElement("path",{d:h,fill:l}),u.default.createElement("path",{d:w,fill:y}))});return i.displayName="QRCodeSvg",i.propTypes=o,V.default=i,V}var Ee;function ot(){if(Ee)return O;Ee=1,Object.defineProperty(O,"__esModule",{value:!0}),O.QRCode=void 0;var p=Object.assign||function(b){for(var v=1;v<arguments.length;v++){var x=arguments[v];for(var S in x)Object.prototype.hasOwnProperty.call(x,S)&&(b[S]=x[S])}return b},g=Ne(),c=l(g),m=Re(),u=l(m),t=st(),s=l(t),o=Le(),i=l(o),r=at(),d=l(r);function l(b){return b&&b.__esModule?b:{default:b}}function h(b,v){var x={};for(var S in b)v.indexOf(S)>=0||Object.prototype.hasOwnProperty.call(b,S)&&(x[S]=b[S]);return x}var w={bgColor:c.default.oneOfType([c.default.object,c.default.string]),fgColor:c.default.oneOfType([c.default.object,c.default.string]),level:c.default.string,size:c.default.number,value:c.default.string.isRequired},y=(0,o.forwardRef)(function(b,v){var x=b.bgColor,S=x===void 0?"#FFFFFF":x,B=b.fgColor,N=B===void 0?"#000000":B,L=b.level,z=L===void 0?"L":L,R=b.size,M=R===void 0?256:R,F=b.value,K=h(b,["bgColor","fgColor","level","size","value"]),G=new s.default(-1,u.default[z]);G.addData(F),G.make();var D=G.modules;return i.default.createElement(d.default,p({},K,{bgColor:S,bgD:D.map(function(H,$){return H.map(function(n,a){return n?"":"M "+a+" "+$+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:N,fgD:D.map(function(H,$){return H.map(function(n,a){return n?"M "+a+" "+$+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:v,size:M,viewBoxSize:D.length}))});return O.QRCode=y,y.displayName="QRCode",y.propTypes=w,O.default=y,O}var lt=ot();const dt=_e(lt),ct=k.forwardRef(({participant:p,event:g,rank:c,theme:m="classic",photoUrl:u},t)=>{const s=u||"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'%3E%3Crect width='100' height='100' fill='%23333'/%3E%3Ctext x='50' y='50' font-family='Arial' font-size='40' fill='white' text-anchor='middle' dy='.3em'%3E?%3C/text%3E%3C/svg%3E",o=(p.round1||[]).reduce((i,r)=>i+r,0)+(p.round2||[]).reduce((i,r)=>i+r,0);return e.jsxs("div",{ref:t,className:`winner-card theme-${m}`,children:[e.jsxs("div",{className:"winner-card-image-container",children:[e.jsx("img",{src:s,alt:"Winner",className:"winner-card-photo"}),m==="western"&&e.jsx("div",{style:{position:"absolute",top:"10px",left:"0",width:"100%",textAlign:"center",fontSize:"3rem",fontFamily:"serif",fontWeight:"bold",color:"#3e2723",textShadow:"0 0 5px white"},children:"WANTED"})]}),e.jsxs("div",{className:"winner-card-content",children:[e.jsx("div",{className:"winner-card-rank",children:c}),e.jsx("h2",{className:"winner-card-title",children:p.name}),e.jsxs("div",{style:{marginTop:"auto",width:"100%",borderTop:"1px solid rgba(255,255,255,0.2)",paddingTop:"10px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{style:{textAlign:"left"},children:[e.jsx("div",{style:{fontSize:"0.8rem",opacity:.8},children:"Event"}),e.jsx("div",{style:{fontWeight:"bold"},children:g.title})]}),e.jsxs("div",{style:{textAlign:"right"},children:[e.jsx("div",{style:{fontSize:"0.8rem",opacity:.8},children:"Score"}),e.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold"},children:o})]})]})]}),m==="bbq"&&e.jsx("div",{className:"fire-dec"})]})});function ut({localEvent:p,participants:g,setWinnerModal:c,setWinnerPhoto:m}){return e.jsxs("div",{className:"glass",style:{padding:"0",marginBottom:"2rem"},children:[e.jsxs("div",{style:{padding:"1rem",borderBottom:"1px solid var(--glass-border)",background:"linear-gradient(90deg, rgba(234, 179, 8, 0.1), transparent)",display:"flex",flexWrap:"wrap",gap:"0.5rem",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("h3",{style:{margin:0},children:"üèÜ Siegerehrung & Urkunden"}),e.jsxs("select",{style:{background:"rgba(0,0,0,0.3)",color:"white",border:"1px solid rgba(255,255,255,0.2)",padding:"5px",borderRadius:"5px"},id:"certificateThemeSelector",defaultValue:"classic",children:[e.jsx("option",{value:"classic",children:"üèõÔ∏è Klassisch"}),e.jsx("option",{value:"western",children:"ü§† Western"}),e.jsx("option",{value:"bbq",children:"ü•© BBQ Master"})]})]}),e.jsxs("div",{style:{padding:"1rem"},children:[g.sort((u,t)=>{const s=(u.round1||[]).reduce((i,r)=>i+r,0)+(u.round2||[]).reduce((i,r)=>i+r,0);return(t.round1||[]).reduce((i,r)=>i+r,0)+(t.round2||[]).reduce((i,r)=>i+r,0)-s}).slice(0,3).map((u,t)=>e.jsxs("div",{style:{display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem",padding:"1rem",background:"rgba(255,255,255,0.05)",borderRadius:"12px",border:t===0?"1px solid var(--accent-gold)":"none"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[e.jsx("div",{style:{fontSize:"2rem"},children:t===0?"ü•á":t===1?"ü•à":"ü•â"}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:"bold",fontSize:"1.2rem"},children:u.name}),e.jsxs("div",{style:{opacity:.7,fontSize:"0.9rem"},children:[t+1,". Platz ‚Ä¢ ",(u.round1||[]).reduce((s,o)=>s+o,0)+(u.round2||[]).reduce((s,o)=>s+o,0)," Punkte"]})]})]}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap",justifyContent:"flex-end",marginTop:"0.5rem"},children:[e.jsx("button",{className:"btn-primary",onClick:()=>{const s=document.getElementById("certificateThemeSelector").value;X(()=>import("./certificate-Ds1Ju0ja.js").then(o=>o.c),__vite__mapDeps([0,1,2])).then(o=>{o.generateCertificate(p,u,`${t+1}. Platz`,"winner",s)})},style:{fontSize:"0.8rem",padding:"8px 16px",whiteSpace:"nowrap"},children:"üìÑ Urkunde"}),e.jsx("button",{className:"btn-primary",onClick:()=>{const s=document.getElementById("certificateThemeSelector").value;c({open:!0,participant:u,rank:`${t+1}. Platz`,type:"winner",theme:s}),m(null)},style:{fontSize:"0.8rem",padding:"8px 16px",whiteSpace:"nowrap"},children:"üì∏ Karte"})]})]},u.id)),g.length>3&&e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{height:"1px",background:"rgba(255,255,255,0.1)",margin:"1rem 0"}}),e.jsxs("div",{style:{display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between",padding:"1rem",background:"rgba(239, 68, 68, 0.1)",borderRadius:"12px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[e.jsx("div",{style:{fontSize:"2rem"},children:"ü©π"}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:"bold",fontSize:"1.2rem"},children:g.sort((u,t)=>{const s=(u.round1||[]).reduce((i,r)=>i+r,0)+(u.round2||[]).reduce((i,r)=>i+r,0);return(t.round1||[]).reduce((i,r)=>i+r,0)+(t.round2||[]).reduce((i,r)=>i+r,0)-s})[g.length-1].name}),e.jsx("div",{style:{opacity:.7,fontSize:"0.9rem"},children:"Letzter Platz (Trostpreis)"})]})]}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap",justifyContent:"flex-end",marginTop:"0.5rem"},children:[e.jsx("button",{className:"btn-primary",onClick:()=>{const u=document.getElementById("certificateThemeSelector").value,t=g.sort((s,o)=>{const i=(s.round1||[]).reduce((d,l)=>d+l,0)+(s.round2||[]).reduce((d,l)=>d+l,0);return(o.round1||[]).reduce((d,l)=>d+l,0)+(o.round2||[]).reduce((d,l)=>d+l,0)-i})[g.length-1];X(()=>import("./certificate-Ds1Ju0ja.js").then(s=>s.c),__vite__mapDeps([0,1,2])).then(s=>{s.generateCertificate(p,t,"Teilnehmer der Herzen","loser",u)})},style:{fontSize:"0.8rem",padding:"8px 16px",whiteSpace:"nowrap"},children:"üìÑ Trost-Urkunde"}),e.jsx("button",{className:"btn-primary",onClick:()=>{const u=document.getElementById("certificateThemeSelector").value,t=g.sort((s,o)=>{const i=(s.round1||[]).reduce((d,l)=>d+l,0)+(s.round2||[]).reduce((d,l)=>d+l,0);return(o.round1||[]).reduce((d,l)=>d+l,0)+(o.round2||[]).reduce((d,l)=>d+l,0)-i})[g.length-1];c({open:!0,participant:t,rank:"Teilnehmer der Herzen",type:"loser",theme:u}),m(null)},style:{fontSize:"0.8rem",padding:"8px 16px",whiteSpace:"nowrap"},children:"üì∏ Karte"})]})]})]})]})]})}function mt({event:p,onBack:g,onUpdate:c}){const[m,u]=k.useState("overview"),[t,s]=k.useState(p),[o,i]=k.useState(W(p)),[r,d]=k.useState(!1),[l,h]=k.useState([]),[w,y]=k.useState({}),[b,v]=k.useState([]),[x,S]=k.useState([]),[B,N]=k.useState({open:!1,participant:null,rank:"",type:"standard",theme:"classic"}),[L,z]=k.useState(null),R=Me.useRef(null);k.useEffect(()=>{const n=Oe(p.id,a=>{S(a)});return()=>n()},[p.id]),k.useEffect(()=>{const n=Fe(p.id,a=>{v(a)});return()=>n()},[p.id]);const[M,F]=k.useState(!1),[K,G]=k.useState(null),[D,H]=k.useState([]);k.useEffect(()=>{const n=Ge(p.id,a=>{h(a),p.guests&&y(Xe(a,p.guests))});return()=>n()},[p.id,p.guests]),k.useEffect(()=>{s(p),i(W(p))},[p]);const $=async n=>{n.preventDefault();const a=new FormData(n.target),f={id:Date.now().toString(),item:a.get("item"),amount:parseFloat(a.get("amount"))},j=[...t.expenses||[],f],C={...t,expenses:j};s(C),i(W(C)),n.target.reset(),await E(t.id,{expenses:j}),c&&c()};return t?e.jsxs("div",{className:"content-container animate-fade-in",style:{paddingBottom:"4rem"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[e.jsxs("div",{children:[e.jsx("h2",{style:{fontSize:"2rem",margin:0,background:"linear-gradient(to right, #fff, #94a3b8)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:t.title}),e.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center",marginTop:"0.5rem"},children:[e.jsx("button",{onClick:g,className:"btn-ghost",style:{padding:"4px 12px",fontSize:"0.8rem"},children:"‚Üê Zur√ºck"}),e.jsx("span",{style:{fontSize:"0.9rem",color:"var(--accent-primary)",textTransform:"uppercase",letterSpacing:"1px",fontWeight:"bold"},children:m})]})]}),e.jsx("div",{style:{display:"flex",gap:"1rem"},children:e.jsx("button",{onClick:async()=>{window.confirm("‚ö†Ô∏è Event wirklich unwiderruflich l√∂schen?")&&(await He(t.id),c&&c(),g())},style:{background:"rgba(239, 68, 68, 0.1)",color:"#ef4444",border:"1px solid rgba(239, 68, 68, 0.3)",padding:"8px 16px",borderRadius:"8px",cursor:"pointer",fontWeight:"bold"},children:"üóëÔ∏è L√∂schen"})})]}),e.jsx("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"2rem",overflowX:"auto",paddingBottom:"4px"},children:["overview","finances","guests","betting","feedback","shooting","broadcast"].map(n=>{let a=n,f="";n==="overview"&&(a="√úbersicht",f="üìã"),n==="finances"&&(a="Finanzen",f="üí∞"),n==="guests"&&(a="G√§ste",f="üë•"),n==="betting"&&(a="Wettb√ºro",f="üé∞"),n==="feedback"&&(a="Feedback",f="üí¨"),n==="shooting"&&(a="Schie√üstand",f="üî´"),n==="broadcast"&&(a="Broadcast",f="üì∫");const j=m===n;return e.jsxs("button",{onClick:()=>u(n),className:j?"btn-primary":"btn-ghost",style:{whiteSpace:"nowrap",display:"flex",alignItems:"center",gap:"8px",fontSize:"0.9rem",padding:"8px 16px"},children:[e.jsx("span",{style:{fontSize:"1.2rem",lineHeight:0},children:f}),a]},n)})}),e.jsxs("div",{className:"dashboard-content",children:[m==="overview"&&e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"2rem",alignItems:"flex-start",flexWrap:"wrap"},children:[e.jsxs("div",{style:{flex:1,minWidth:"250px"},children:[t.image?e.jsx("div",{style:{height:"150px",borderRadius:"12px",marginBottom:"0.5rem",backgroundImage:`url(${t.image})`,backgroundSize:"cover",backgroundPosition:"center"}}):e.jsx("div",{style:{height:"150px",borderRadius:"12px",marginBottom:"0.5rem",background:"rgba(255,255,255,0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:"Kein Bild"}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.5rem"},children:[e.jsxs("label",{className:"btn-primary",style:{flex:1,textAlign:"center",fontSize:"0.8rem",padding:"6px",cursor:"pointer"},children:["üì∑ Upload",e.jsx("input",{type:"file",hidden:!0,accept:"image/*",onChange:n=>{const a=n.target.files[0];if(a){if(a.size>5e5){alert("Max 500KB!");return}const f=new FileReader;f.onloadend=async()=>{const j={...t,image:f.result};s(j),await E(t.id,{image:f.result})},f.readAsDataURL(a)}}})]}),e.jsx("button",{className:"btn-primary",style:{flex:1,fontSize:"0.8rem",padding:"6px",background:"linear-gradient(135deg, #a855f7, #ec4899)"},onClick:async n=>{const a=n.target,f=a.innerText;a.innerText="‚è≥...",a.disabled=!0;try{const j=await Ze(t.title),C={...t,image:j};s(C),await E(t.id,{image:j})}catch{alert("KI Fehler. Nochmal probieren.")}a.innerText=f,a.disabled=!1},children:"‚ú® KI Logo"})]})]}),e.jsxs("div",{style:{flex:2,display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem"},children:[e.jsxs("div",{className:"glass",style:{padding:"0.8rem",fontSize:"0.9rem"},children:[e.jsx("strong",{children:"üìÖ Datum:"}),e.jsx("br",{}),t.date?t.date.split("-").reverse().join("."):""," @ ",t.time]}),e.jsxs("div",{className:"glass",style:{padding:"0.8rem",fontSize:"0.9rem"},children:[e.jsx("strong",{children:"üìç Ort:"}),e.jsx("br",{}),t.location]}),e.jsxs("div",{className:"glass",style:{padding:"0.8rem",fontSize:"0.9rem"},children:[e.jsx("strong",{children:"üîñ Thema:"}),e.jsx("br",{}),t.theme||"-"]}),e.jsxs("div",{className:"glass",style:{padding:"0.8rem",fontSize:"0.9rem"},children:[e.jsx("strong",{children:"üìù Infos:"}),e.jsx("br",{}),t.description]}),e.jsxs("div",{className:"glass",style:{padding:"0.8rem",fontSize:"0.9rem",gridColumn:"1 / -1",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs("div",{children:[e.jsx("strong",{children:"üîë Admin PIN:"}),e.jsx("div",{style:{fontSize:"1.2rem",fontFamily:"monospace",letterSpacing:"2px",color:"var(--accent-primary)"},children:t.adminPin||e.jsx("span",{style:{opacity:.5,fontStyle:"italic",fontSize:"0.9rem"},children:"Nicht gesetzt"})})]}),e.jsx("button",{className:"btn-primary",style:{fontSize:"0.8rem",padding:"6px 12px"},onClick:async()=>{const n=prompt("Neuen Admin-PIN eingeben (f√ºr Admin-Login auf anderen Ger√§ten):",t.adminPin||"");n!==null&&(await E(t.id,{adminPin:n}),s({...t,adminPin:n}))},children:"‚úèÔ∏è √Ñndern"})]})]})]}),e.jsxs("div",{style:{marginBottom:"3rem"},children:[e.jsx("h2",{style:{marginBottom:"1.5rem",borderBottom:"1px solid var(--glass-border)",paddingBottom:"0.5rem"},children:"Planung & Orga"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"1.5rem"},children:[e.jsx(ge,{title:"‚úÖ To-Do Liste",items:t.todoList||[],onItemAdd:async n=>{const a=[...t.todoList||[],{text:n,done:!1}];s({...t,todoList:a}),await E(t.id,{todoList:a})},onItemToggle:async n=>{const a=[...t.todoList];a[n].done=!a[n].done,s({...t,todoList:a}),await E(t.id,{todoList:a})},onItemDelete:async n=>{const a=t.todoList.filter((f,j)=>j!==n);s({...t,todoList:a}),await E(t.id,{todoList:a})}}),e.jsx(ge,{title:"üõí Einkaufsliste",items:t.shoppingList||[],placeholder:"Was einkaufen?",onItemAdd:async n=>{const a=[...t.shoppingList||[],{text:n,done:!1}];s({...t,shoppingList:a}),await E(t.id,{shoppingList:a})},onItemToggle:async n=>{const a=[...t.shoppingList];a[n].done=!a[n].done,s({...t,shoppingList:a}),await E(t.id,{shoppingList:a})},onItemDelete:async n=>{const a=t.shoppingList.filter((f,j)=>j!==n);s({...t,shoppingList:a}),await E(t.id,{shoppingList:a})}})]})]}),e.jsxs("div",{className:"glass",style:{marginTop:"2rem",padding:"1.5rem"},children:[e.jsx("h3",{style:{fontSize:"1.1rem",borderBottom:"1px solid var(--glass-border)",paddingBottom:"0.5rem",marginBottom:"1rem"},children:"üéÅ Mitbring-Liste (Wer bringt was?)"}),e.jsxs("ul",{style:{listStyle:"none",padding:0,marginBottom:"1rem"},children:[(t.bringList||[]).map((n,a)=>e.jsxs("li",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.5rem",background:"rgba(0,0,0,0.2)",padding:"8px",borderRadius:"8px"},children:[e.jsxs("span",{children:[e.jsx("strong",{style:{color:"var(--accent-primary)"},children:n.guest})," bringt ",e.jsx("u",{children:n.item}),n.note&&e.jsxs("span",{style:{opacity:.7,fontSize:"0.8rem"},children:[" (",n.note,")"]})]}),e.jsx("button",{onClick:async()=>{const f=t.bringList.filter((j,C)=>C!==a);s({...t,bringList:f}),await E(t.id,{bringList:f})},style:{background:"none",border:"none",cursor:"pointer"},children:"‚ùå"})]},a)),(t.bringList||[]).length===0&&e.jsx("li",{style:{opacity:.5},children:"Noch keine Eintr√§ge."})]}),e.jsxs("form",{onSubmit:async n=>{n.preventDefault();const a=new FormData(n.target),f=a.get("guest"),j=a.get("item"),C=a.get("note");if(!f||!j)return;const T={guest:f,item:j,note:C},P=[...t.bringList||[],T];s({...t,bringList:P}),await E(t.id,{bringList:P}),n.target.reset()},style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[e.jsxs("select",{name:"guest",required:!0,className:"input-field",style:{marginBottom:0,width:"auto",minWidth:"120px"},children:[e.jsx("option",{value:"",children:"Gast w√§hlen..."}),e.jsx("option",{value:"Admin",children:"Admin (Ich)"}),t.guests?.map((n,a)=>e.jsx("option",{value:n.name,children:n.name},a))]}),e.jsx("input",{name:"item",required:!0,placeholder:"Was? (z.B. Salat)",className:"input-field",style:{marginBottom:0,flex:1}}),e.jsx("input",{name:"note",placeholder:"Notiz",className:"input-field",style:{marginBottom:0,flex:1}}),e.jsx("button",{type:"submit",className:"btn-primary",children:"+"})]})]})]}),m==="finances"&&e.jsxs("div",{children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:[e.jsxs("div",{style:{padding:"1rem",background:"rgba(255,255,255,0.05)",borderRadius:"12px"},children:[e.jsx("div",{style:{fontSize:"0.8rem",opacity:.7},children:"Gesamtkosten"}),e.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:o.isOverBudget?"var(--accent-danger)":"#fff"},children:A(o.totalExpenses)}),o.isOverBudget&&e.jsx("small",{style:{color:"var(--accent-danger)"},children:"‚ö†Ô∏è √úber Budget!"})]}),e.jsxs("div",{style:{padding:"1rem",background:"rgba(255,255,255,0.05)",borderRadius:"12px"},children:[e.jsx("div",{style:{fontSize:"0.8rem",opacity:.7},children:"Kosten pro Kopf"}),e.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:o.isHighCost?"var(--accent-gold)":"#fff"},children:A(o.costPerGuest)}),o.isHighCost&&e.jsx("small",{style:{color:"var(--accent-gold)"},children:"‚ö†Ô∏è > 25‚Ç¨ p.P."})]}),e.jsxs("div",{style:{padding:"1rem",background:"rgba(255,255,255,0.05)",borderRadius:"12px"},children:[e.jsx("div",{style:{fontSize:"0.8rem",opacity:.7},children:"Best√§tigte G√§ste"}),e.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold"},children:o.confirmedCount})]})]}),e.jsxs("div",{style:{marginBottom:"2rem",padding:"1rem",background:"rgba(255,255,255,0.05)",borderRadius:"12px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[e.jsxs("label",{children:["Dein Aufschlag (Gewinn): ",e.jsxs("strong",{children:[t.hostMarkup??0,"%"]})]}),e.jsxs("span",{style:{color:"var(--accent-success)"},children:["+",A((o.totalExpenses||0)*((t.hostMarkup||0)/100))]})]}),e.jsx("input",{type:"range",min:"0",max:"50",step:"1",value:t.hostMarkup??0,onChange:async n=>{const a=parseInt(n.target.value),f={...t,hostMarkup:a};s(f),i(W(f)),await E(t.id,{hostMarkup:a})},style:{width:"100%",accentColor:"var(--accent-primary)"}}),e.jsx("small",{style:{opacity:.7},children:"Erh√∂ht den Preis pro Kopf. Der √úberschuss geh√∂rt dir."})]}),e.jsx("h3",{children:"Ausgaben hinzuf√ºgen"}),e.jsxs("form",{onSubmit:$,style:{display:"flex",gap:"0.5rem",marginBottom:"2rem",flexWrap:"wrap"},children:[e.jsx("input",{name:"item",required:!0,placeholder:"Posten (z.B. Bier)",className:"input-field",style:{marginBottom:0,flex:"2 1 200px"}}),e.jsx("input",{name:"amount",required:!0,type:"number",step:"0.01",placeholder:"‚Ç¨",className:"input-field",style:{marginBottom:0,flex:"1 1 100px"}}),e.jsx("button",{type:"submit",className:"btn-primary",style:{flex:"0 0 auto"},children:"+"})]}),e.jsx("h3",{children:"Ausgabenliste"}),(!t.expenses||t.expenses.length===0)&&e.jsx("p",{style:{opacity:.5},children:"Keine Ausgaben eingetragen."}),e.jsx("ul",{style:{listStyle:"none",padding:0},children:t.expenses&&t.expenses.map((n,a)=>e.jsxs("li",{style:{display:"flex",justifyContent:"space-between",padding:"0.5rem",borderBottom:"1px solid var(--glass-border)"},children:[e.jsx("span",{children:n.item}),e.jsx("span",{children:A(n.amount)})]},a))})]}),m==="guests"&&e.jsxs("div",{children:[e.jsxs("h3",{children:["G√§steliste (",t.guests?.length||0,")"]}),e.jsx("div",{style:{overflowX:"auto"},children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",minWidth:"600px"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{textAlign:"left",borderBottom:"1px solid var(--glass-border)"},children:[e.jsx("th",{style:{padding:"0.5rem"},children:"Name"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Bezahlt?"}),e.jsx("th",{children:"Aktion"})]})}),e.jsx("tbody",{children:t.guests&&t.guests.map((n,a)=>e.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[e.jsxs("td",{style:{padding:"0.5rem"},children:[n.name,n.participatesInCompetition&&e.jsx("span",{title:"Nimmt am Schie√üwettbewerb teil",style:{marginLeft:"8px",cursor:"help"},children:"üéØ"})]}),e.jsx("td",{children:e.jsx("span",{style:{padding:"2px 8px",borderRadius:"12px",fontSize:"0.8rem",background:n.status==="accepted"?"rgba(34, 197, 94, 0.2)":n.status==="declined"?"rgba(239, 68, 68, 0.2)":"rgba(234, 179, 8, 0.2)",color:n.status==="accepted"?"var(--accent-success)":n.status==="declined"?"var(--accent-danger)":"var(--accent-gold)"},children:n.status==="accepted"?"Zusage":n.status==="declined"?"Absage":"Vielleicht"})}),e.jsx("td",{children:e.jsx("input",{type:"checkbox",checked:n.hasPaid||!1,onChange:async()=>{const f=[...t.guests];f[a]={...f[a],hasPaid:!f[a].hasPaid};const j={...t,guests:f};s(j),i(W(j)),await E(t.id,{guests:f})},style:{cursor:"pointer",transform:"scale(1.2)"}})}),e.jsx("td",{children:e.jsx("button",{onClick:async()=>{if(!window.confirm(`${n.name} wirklich entfernen?`))return;const f=t.guests.filter((C,T)=>T!==a),j={...t,guests:f};s(j),i(W(j)),await E(t.id,{guests:f})},style:{background:"none",border:"none",cursor:"pointer",fontSize:"1.2rem"},title:"Gast entfernen",children:"üóëÔ∏è"})})]},a))})]})})]}),m==="betting"&&e.jsxs("div",{children:[e.jsxs("div",{className:"glass",style:{padding:"1rem",display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1.5rem",background:"rgba(0,0,0,0.4)",borderRadius:"16px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[e.jsx("h3",{style:{margin:0,fontSize:"1.1rem"},children:"üé∞ Wettb√ºro"}),e.jsx("span",{style:{padding:"4px 12px",borderRadius:"12px",fontSize:"0.8rem",fontWeight:"bold",border:"1px solid currentColor",color:t.bettingStatus==="open"?"var(--accent-success)":t.bettingStatus==="finished"?"var(--accent-secondary)":"var(--accent-danger)"},children:t.bettingStatus==="open"?"üü¢ GE√ñFFNET":t.bettingStatus==="finished"?"üèÅ BEENDET":"üî¥ GESCHLOSSEN"})]}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[e.jsx("button",{className:"btn-ghost",onClick:()=>d(!0),style:{padding:"8px 12px",fontSize:"0.8rem"},children:"üì± QR Code"}),t.bettingStatus!=="open"&&t.bettingStatus!=="finished"&&e.jsx("button",{className:"btn-primary",onClick:async()=>{await E(t.id,{bettingStatus:"open"}),s({...t,bettingStatus:"open"})},style:{padding:"8px 16px",fontSize:"0.8rem"},children:"üîî √ñffnen"}),t.bettingStatus==="open"&&e.jsx("button",{className:"btn-primary",style:{background:"linear-gradient(135deg, #ef4444, #991b1b)",padding:"8px 16px",fontSize:"0.8rem"},onClick:async()=>{await E(t.id,{bettingStatus:"closed"}),s({...t,bettingStatus:"closed"})},children:"‚õî Schlie√üen"})]})]}),r&&Ye.createPortal(e.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.9)",zIndex:9999,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[e.jsx("h2",{style:{color:"white",marginBottom:"2rem"},children:"Wettb√ºro Zugang"}),e.jsx("div",{style:{background:"white",padding:"2rem",borderRadius:"16px"},children:e.jsx(dt,{size:300,style:{height:"auto",maxWidth:"100%",width:"100%"},value:`https://ricfritzsche89.github.io/PitMaster/#/betting/${t.id}`})}),e.jsx("p",{style:{color:"white",marginTop:"1rem",fontSize:"1.2rem"},children:"Scanne mich!"}),e.jsx("button",{onClick:()=>d(!1),className:"btn-ghost",style:{marginTop:"2rem",fontSize:"1.2rem",padding:"12px 32px"},children:"Schlie√üen"})]}),document.body),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[e.jsxs("div",{className:"glass",style:{padding:"0",display:"flex",flexDirection:"column"},children:[e.jsxs("div",{style:{padding:"1rem",borderBottom:"1px solid rgba(255,255,255,0.1)",background:"rgba(255,255,255,0.02)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("h3",{style:{margin:0,fontSize:"1.1rem"},children:"Live Wetteins√§tze"}),e.jsxs("span",{style:{fontSize:"0.8rem",opacity:.6},children:[l.length," Wetten aktiv"]})]}),e.jsx("div",{style:{overflowX:"auto",width:"100%"},children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.9rem",minWidth:"600px"},children:[e.jsx("thead",{style:{background:"rgba(0,0,0,0.8)",position:"sticky",top:0,zIndex:5},children:e.jsxs("tr",{children:[e.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontWeight:"600",opacity:.8},children:"Zeit"}),e.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontWeight:"600",opacity:.8},children:"Spieler"}),e.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontWeight:"600",opacity:.8},children:"Wette"}),e.jsx("th",{style:{textAlign:"right",padding:"12px 16px",fontWeight:"600",opacity:.8},children:"Einsatz"}),e.jsx("th",{style:{textAlign:"right",padding:"12px 16px",fontWeight:"600",opacity:.8},children:"M√∂gl. Gewinn"}),e.jsx("th",{style:{width:"60px",padding:"12px 4px"}})]})}),e.jsxs("tbody",{children:[l.map((n,a)=>{const f=`${n.type}_${n.target}`,j=w&&w[f]||1,C=n.amount*j,T=n.timestamp?new Date(n.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"-";return e.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[e.jsx("td",{style:{padding:"12px 16px",opacity:.5,fontSize:"0.8rem"},children:T}),e.jsx("td",{style:{padding:"12px 16px",fontWeight:"500"},children:n.user}),e.jsxs("td",{style:{padding:"12px 16px"},children:[e.jsx("span",{style:{background:n.type==="winner"?"rgba(234, 180, 8, 0.15)":"rgba(239, 68, 68, 0.15)",color:n.type==="winner"?"var(--accent-gold)":"var(--accent-danger)",padding:"4px 8px",borderRadius:"6px",fontSize:"0.85rem",marginRight:"8px",fontWeight:"bold"},children:n.type==="winner"?"SIEG":"VERLIERER"}),n.target]}),e.jsx("td",{style:{padding:"12px 16px",textAlign:"right"},children:A(n.amount)}),e.jsxs("td",{style:{padding:"12px 16px",textAlign:"right",color:"var(--accent-primary)",fontWeight:"bold"},children:[A(C),e.jsxs("span",{style:{fontSize:"0.7rem",opacity:.6,display:"block",fontWeight:"normal"},children:["(@ ",j.toFixed(2),")"]})]}),e.jsx("td",{style:{padding:"12px 4px",textAlign:"center"},children:e.jsx("button",{onClick:async()=>{window.confirm(`Wette von ${n.user} wirklich l√∂schen?`)&&await $e(t.id,n.id)},style:{background:"rgba(239,68,68,0.1)",color:"#ef4444",border:"none",borderRadius:"8px",padding:"6px",cursor:"pointer",minWidth:"32px"},title:"Wette l√∂schen",children:"üóëÔ∏è"})})]},a)}),l.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:"6",style:{padding:"3rem",textAlign:"center",opacity:.4},children:"Noch keine Wetten eingegangen."})})]}),e.jsx("tfoot",{children:e.jsxs("tr",{style:{borderTop:"1px solid rgba(255,255,255,0.2)"},children:[e.jsx("td",{colSpan:"2",style:{padding:"8px",textAlign:"right",fontWeight:"bold"},children:"Gesamt:"}),e.jsx("td",{style:{padding:"8px",textAlign:"right",fontWeight:"bold"},children:A(l.reduce((n,a)=>n+a.amount,0))}),e.jsx("td",{colSpan:"3"})]})})]})})]}),e.jsxs("div",{className:"glass",style:{padding:"1rem",position:"relative"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[e.jsx("h3",{style:{margin:0,fontSize:"1rem",opacity:.8},children:"üèÅ Ergebniseingabe"}),e.jsx("span",{style:{fontSize:"0.8rem",opacity:.5},children:"(f√ºr Auszahlung)"})]}),e.jsxs("form",{onSubmit:n=>{n.preventDefault();const a=new FormData(n.target),f={winner:a.get("winner"),loser:a.get("loser")},j=Ve(l,f);G(f),H(j),F(!0)},style:{display:"flex",flexWrap:"wrap",gap:"1rem",alignItems:"end"},children:[e.jsxs("div",{style:{flex:"1 1 200px"},children:[e.jsx("label",{style:{display:"block",fontSize:"0.75rem",marginBottom:"0.2rem",opacity:.7},children:"üèÜ Sieger"}),e.jsxs("select",{name:"winner",className:"input-field",style:{padding:"8px",fontSize:"0.9rem",width:"100%"},required:!0,children:[e.jsx("option",{value:"",children:"W√§hlen..."}),t.guests?.filter(n=>n.status==="accepted").map(n=>e.jsx("option",{value:n.name,children:n.name},n.name))]})]}),e.jsxs("div",{style:{flex:"1 1 200px"},children:[e.jsx("label",{style:{display:"block",fontSize:"0.75rem",marginBottom:"0.2rem",opacity:.7},children:"üí© Verlierer"}),e.jsxs("select",{name:"loser",className:"input-field",style:{padding:"8px",fontSize:"0.9rem",width:"100%"},required:!0,children:[e.jsx("option",{value:"",children:"W√§hlen..."}),t.guests?.filter(n=>n.status==="accepted").map(n=>e.jsx("option",{value:n.name,children:n.name},n.name))]})]}),e.jsx("button",{type:"submit",className:"btn-primary",style:{padding:"8px 16px",height:"38px",whiteSpace:"nowrap",flex:"0 0 auto"},children:"üíæ Auswerten"})]}),M&&e.jsxs("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"#09090b",borderRadius:"12px",padding:"1rem",zIndex:10,display:"flex",flexDirection:"column"},children:[e.jsx("h4",{style:{margin:"0 0 1rem 0",borderBottom:"1px solid var(--accent-primary)",paddingBottom:"0.5rem"},children:"üí∞ Payout Vorschau"}),e.jsxs("div",{style:{flex:1,overflowY:"auto",fontSize:"0.85rem",marginBottom:"1rem"},children:[D.length===0?e.jsx("p",{style:{opacity:.7},children:"Keine Gewinner. Das Haus gewinnt alles! üè¶"}):e.jsx("ul",{style:{listStyle:"none",padding:0},children:D.map((n,a)=>e.jsxs("li",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem",borderBottom:"1px solid rgba(255,255,255,0.1)",paddingBottom:"4px"},children:[e.jsxs("span",{children:[e.jsx("strong",{children:n.user})," (",n.type==="winner"?"Sieg":"Verl.",")"]}),e.jsxs("span",{style:{color:"var(--accent-primary)"},children:["+",A(n.amount)]})]},a))}),e.jsxs("div",{style:{marginTop:"1rem",fontWeight:"bold",paddingTop:"0.5rem",borderTop:"1px solid rgba(255,255,255,0.2)"},children:["Gesamt: ",A(D.reduce((n,a)=>n+a.amount,0))]})]}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[e.jsx("button",{className:"btn-ghost",onClick:()=>F(!1),style:{flex:1,fontSize:"0.8rem"},children:"Zur√ºck"}),e.jsx("button",{className:"btn-primary",onClick:async()=>{await E(t.id,{bettingResults:K,bettingStatus:"finished"}),s({...t,bettingResults:K,bettingStatus:"finished"}),F(!1),alert("Ergebnisse gespeichert und ver√∂ffentlicht!")},style:{flex:1,fontSize:"0.8rem"},children:"Best√§tigen"})]})]})]})]})]}),m==="feedback"&&e.jsxs("div",{className:"animate-fade-in",children:[e.jsxs("div",{className:"glass",style:{padding:"2rem",marginBottom:"2rem",textAlign:"center"},children:[e.jsx("h3",{style:{marginTop:0},children:"G√§ste Feedback üí¨"}),e.jsx("p",{style:{opacity:.7,marginBottom:"2rem"},children:"Teile diesen Link mit deinen G√§sten, um anonymes Feedback zu erhalten."}),e.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",alignItems:"center",flexWrap:"wrap"},children:[e.jsxs("code",{style:{background:"rgba(0,0,0,0.3)",padding:"12px 16px",borderRadius:"8px",fontFamily:"monospace"},children:[window.location.host,"/#/feedback/",t.id]}),e.jsx("button",{className:"btn-primary",onClick:()=>{const n=`${window.location.protocol}//${window.location.host}${window.location.pathname}#/feedback/${t.id}`;navigator.clipboard.writeText(n),alert("Link kopiert! üìã")},children:"üìã Link kopieren"})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:[e.jsxs("div",{className:"glass",style:{padding:"1.5rem",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:"üçî"}),e.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold"},children:b.length?(b.reduce((n,a)=>n+a.rating_food,0)/b.length).toFixed(1):"-"}),e.jsx("div",{style:{opacity:.6,fontSize:"0.8rem"},children:"√ò Essen"})]}),e.jsxs("div",{className:"glass",style:{padding:"1.5rem",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:"‚ú®"}),e.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold"},children:b.length?(b.reduce((n,a)=>n+a.rating_vibes,0)/b.length).toFixed(1):"-"}),e.jsx("div",{style:{opacity:.6,fontSize:"0.8rem"},children:"√ò Stimmung"})]}),e.jsxs("div",{className:"glass",style:{padding:"1.5rem",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:"üéµ"}),e.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold"},children:b.length?(b.reduce((n,a)=>n+a.rating_music,0)/b.length).toFixed(1):"-"}),e.jsx("div",{style:{opacity:.6,fontSize:"0.8rem"},children:"√ò Musik"})]}),e.jsxs("div",{className:"glass",style:{padding:"1.5rem",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:"üìù"}),e.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold"},children:b.length}),e.jsx("div",{style:{opacity:.6,fontSize:"0.8rem"},children:"Feedbacks"})]})]}),e.jsxs("div",{className:"glass",style:{padding:"0"},children:[e.jsx("h3",{style:{padding:"1.5rem",margin:0,borderBottom:"1px solid rgba(255,255,255,0.1)"},children:"Kommentare"}),b.length===0?e.jsx("div",{style:{padding:"3rem",textAlign:"center",opacity:.5},children:"Noch kein Feedback vorhanden."}):e.jsx("div",{style:{maxHeight:"600px",overflowY:"auto"},children:b.sort((n,a)=>a.timestamp-n.timestamp).map(n=>e.jsxs("div",{style:{padding:"1.5rem",borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem",opacity:.6,fontSize:"0.8rem"},children:[e.jsx("span",{children:new Date(n.timestamp).toLocaleString()}),e.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[e.jsxs("span",{children:["üçî ",n.rating_food]}),e.jsxs("span",{children:["‚ú® ",n.rating_vibes]}),e.jsxs("span",{children:["üéµ ",n.rating_music]})]})]}),e.jsx("div",{style:{fontSize:"1rem",lineHeight:"1.5",fontStyle:n.comment?"normal":"italic",opacity:n.comment?1:.4},children:n.comment||"Kein Text-Kommentar."})]},n.id))})]})]}),m==="shooting"&&e.jsxs("div",{className:"animate-fade-in",children:[e.jsxs("div",{className:"glass",style:{padding:"2rem",marginBottom:"2rem",textAlign:"center"},children:[e.jsx("h3",{style:{marginTop:0},children:"üî´ Live Schie√üstand (Party Mode)"}),e.jsx("p",{style:{opacity:.7,marginBottom:"2rem"}})]}),e.jsx(ut,{localEvent:t,participants:x,setWinnerModal:N,setWinnerPhoto:z}),e.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",alignItems:"center",flexWrap:"wrap"},children:[e.jsxs("code",{style:{background:"rgba(0,0,0,0.3)",padding:"12px 16px",borderRadius:"8px",fontFamily:"monospace"},children:[window.location.host,"/#/party/",t.id,"/shooting"]}),e.jsx("button",{className:"btn-primary",onClick:()=>{const n=`${window.location.protocol}//${window.location.host}${window.location.pathname}#/party/${t.id}/shooting`;window.open(n,"_blank")},children:"üì∫ TV-View √∂ffnen"}),e.jsx("button",{className:"btn-primary",style:{background:"var(--bg-secondary)",borderColor:"var(--accent-secondary)"},onClick:()=>{const n=`${window.location.protocol}//${window.location.host}${window.location.pathname}#/admin/shooting-remote/${t.id}`;window.open(n,"_blank")},children:"üì± Handy-Remote"})]}),e.jsxs("div",{className:"glass",style:{padding:"2rem",marginBottom:"2rem"},children:[e.jsx("h3",{style:{marginTop:0},children:"Teilnehmer hinzuf√ºgen"}),e.jsxs("form",{onSubmit:async n=>{n.preventDefault();const a=n.target.name.value,f=n.target.file.files[0],j=n.target.querySelector('button[type="submit"]');if(a)if(f){const C=j.innerText;j.disabled=!0,j.innerText="Komprimiere...";try{const P=await new Promise(Q=>{const ue=new FileReader;ue.readAsDataURL(f),ue.onload=De=>{const q=new Image;q.src=De.target.result,q.onload=()=>{const U=document.createElement("canvas"),Y=800,Z=800;let I=q.width,_=q.height;I>_?I>Y&&(_*=Y/I,I=Y):_>Z&&(I*=Z/_,_=Z),U.width=I,U.height=_,U.getContext("2d").drawImage(q,0,0,I,_),Q(U.toDataURL("image/jpeg",.7))}}});await me(t.id,a,P),n.target.reset()}catch(T){alert("Fehler beim Bild-Upload: "+T.message)}finally{j.disabled=!1,j.innerText=C}}else me(t.id,a),n.target.reset()},style:{display:"flex",gap:"1rem",flexDirection:"column"},children:[e.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[e.jsx("input",{name:"name",className:"input-field",placeholder:"Name des Sch√ºtzen",style:{marginBottom:0,flex:1}}),e.jsx("input",{type:"file",name:"file",className:"input-field",style:{marginBottom:0,flex:1,padding:"10px"},accept:"image/*"})]}),e.jsx("button",{type:"submit",className:"btn-primary",style:{alignSelf:"flex-start"},children:"Hinzuf√ºgen"})]})]}),e.jsxs("div",{className:"glass",style:{padding:"0"},children:[e.jsx("h3",{style:{padding:"1.5rem",margin:0,borderBottom:"1px solid rgba(255,255,255,0.1)"},children:"Ergebnisse erfassen"}),x.sort((n,a)=>n.timestamp-a.timestamp).map(n=>e.jsxs("div",{style:{padding:"1.5rem",borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsx("div",{style:{fontSize:"1.2rem",fontWeight:"bold"},children:n.name}),e.jsx("button",{onClick:()=>{window.confirm("L√∂schen?")&&qe(t.id,n.id)},style:{background:"none",border:"none",color:"#ef4444",cursor:"pointer",opacity:.5},children:"üóëÔ∏è"})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"2rem"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"0.9rem",opacity:.7,marginBottom:"0.5rem"},children:"Runde 1"}),e.jsx("div",{style:{display:"flex",gap:"0.5rem"},children:(n.round1||[null,null,null,null,null]).map((a,f)=>e.jsx("input",{className:"input-field",style:{width:"40px",padding:"5px",textAlign:"center",marginBottom:0},value:a??"",placeholder:"-",type:"number",onChange:j=>{const C=j.target.value===""?null:parseInt(j.target.value),T=[...n.round1||[null,null,null,null,null]];T[f]=C,pe(t.id,n.id,{round1:T})}},`r1-${f}`))})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"0.9rem",opacity:.7,marginBottom:"0.5rem"},children:"Runde 2"}),e.jsx("div",{style:{display:"flex",gap:"0.5rem"},children:(n.round2||[null,null,null,null,null]).map((a,f)=>e.jsx("input",{className:"input-field",style:{width:"40px",padding:"5px",textAlign:"center",marginBottom:0},value:a??"",placeholder:"-",type:"number",onChange:j=>{const C=j.target.value===""?null:parseInt(j.target.value),T=[...n.round2||[null,null,null,null,null]];T[f]=C,pe(t.id,n.id,{round2:T})}},`r2-${f}`))})]})]})]},n.id)),x.length===0&&e.jsx("div",{style:{padding:"3rem",textAlign:"center",opacity:.5},children:"Noch keine Teilnehmer."})]})]}),m==="broadcast"&&e.jsx("div",{className:"animate-fade-in",children:e.jsxs("div",{className:"glass",style:{padding:"2rem"},children:[e.jsxs("div",{style:{marginBottom:"2rem",textAlign:"center"},children:[e.jsx("h3",{style:{marginTop:0},children:"üì¢ TV-Broadcast Control"}),e.jsx("p",{style:{opacity:.7},children:"Steuere Ticker und Vollbild-Overlays unabh√§ngig voneinander."})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"2rem"},children:[e.jsxs("div",{style:{background:"rgba(0,0,0,0.2)",padding:"1.5rem",borderRadius:"16px",border:"1px solid rgba(255,255,255,0.05)"},children:[e.jsxs("h4",{style:{marginTop:0,display:"flex",alignItems:"center",gap:"0.5rem"},children:["üìü Laufschrift (Ticker)",t.broadcast?.ticker?.active&&e.jsx("span",{style:{fontSize:"0.7rem",color:"var(--accent-success)",border:"1px solid currentColor",padding:"2px 6px",borderRadius:"4px"},children:"ON AIR"})]}),e.jsxs("form",{onSubmit:async n=>{n.preventDefault();const a=new FormData(n.target),f=a.get("message"),j=parseInt(a.get("speed")),C=a.get("active")==="on",T={active:C,message:f,speed:j},P={...t.broadcast||{},ticker:T};await E(t.id,{broadcast:P}),s({...t,broadcast:P}),C&&alert("Ticker aktualisiert!")},children:[e.jsxs("div",{style:{marginBottom:"1rem"},children:[e.jsx("label",{style:{display:"block",fontSize:"0.8rem",marginBottom:"0.3rem",opacity:.8},children:"Nachricht"}),e.jsx("textarea",{name:"message",required:!0,className:"input-field",placeholder:"Willkommen zur Party! +++ Drinks an der Bar +++",style:{minHeight:"80px"},defaultValue:t.broadcast?.ticker?.message||""})]}),e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsxs("label",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.8rem",marginBottom:"0.3rem",opacity:.8},children:["Geschwindigkeit: ",e.jsx("strong",{children:t.broadcast?.ticker?.speed||5})]}),e.jsx("input",{type:"range",name:"speed",min:"1",max:"10",defaultValue:t.broadcast?.ticker?.speed||5,style:{width:"100%",accentColor:"var(--accent-primary)"},onChange:n=>{n.target.previousElementSibling.querySelector("strong").innerText=n.target.value}})]}),e.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:[e.jsxs("label",{className:"btn-ghost",style:{flex:1,cursor:"pointer",borderColor:t.broadcast?.ticker?.active?"var(--accent-success)":"var(--glass-border)"},children:[e.jsx("input",{type:"checkbox",name:"active",defaultChecked:t.broadcast?.ticker?.active,style:{marginRight:"8px"}}),t.broadcast?.ticker?.active?"Aktiviert":"Einschalten"]}),e.jsx("button",{type:"submit",className:"btn-primary",style:{flex:1},children:"üíæ Speichern"})]})]})]}),e.jsxs("div",{style:{background:"rgba(0,0,0,0.2)",padding:"1.5rem",borderRadius:"16px",border:"1px solid rgba(255,255,255,0.05)"},children:[e.jsxs("h4",{style:{marginTop:0,display:"flex",alignItems:"center",gap:"0.5rem"},children:["üö® Vollbild Alarm",t.broadcast?.overlay?.active&&e.jsx("span",{style:{fontSize:"0.7rem",color:"var(--accent-danger)",border:"1px solid currentColor",padding:"2px 6px",borderRadius:"4px"},children:"LIVE"})]}),e.jsxs("form",{onSubmit:async n=>{n.preventDefault();const a=new FormData(n.target),f=a.get("message");parseFloat(a.get("duration"));const j=document.getElementById("overlayDurationSlider").value,C=document.getElementById("overlayPermanentCheckbox").checked;let T=10;j<=60,T=parseInt(j);const P={active:!0,message:f,duration:T,permanent:C,timestamp:Date.now()},Q={...t.broadcast||{},overlay:P};await E(t.id,{broadcast:Q}),s({...t,broadcast:Q}),alert("üö® Alarm gesendet!")},children:[e.jsxs("div",{style:{marginBottom:"1rem"},children:[e.jsx("label",{style:{display:"block",fontSize:"0.8rem",marginBottom:"0.3rem",opacity:.8},children:"Nachricht (kurz & knapp)"}),e.jsx("textarea",{name:"message",required:!0,className:"input-field",placeholder:"ESSEN IST FERTIG! üçî",style:{minHeight:"80px",fontSize:"1.2rem",textAlign:"center",fontWeight:"bold"},defaultValue:t.broadcast?.overlay?.message||""})]}),e.jsxs("div",{style:{marginBottom:"1rem"},children:[e.jsxs("label",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.8rem",marginBottom:"0.3rem",opacity:.8},children:["Anzeigedauer: ",e.jsxs("strong",{id:"overlayDurationLabel",children:[t.broadcast?.overlay?.duration||10,"s"]})]}),e.jsx("input",{id:"overlayDurationSlider",type:"range",min:"5",max:"1800",step:"5",className:"slider",defaultValue:t.broadcast?.overlay?.duration||10,style:{width:"100%",accentColor:"var(--accent-danger)"},onInput:n=>{const a=parseInt(n.target.value);let f=`${a}s`;a>60&&(f=`${Math.floor(a/60)}m ${a%60}s`),document.getElementById("overlayDurationLabel").innerText=f,document.getElementById("overlayPermanentCheckbox").checked&&(document.getElementById("overlayPermanentCheckbox").checked=!1)}})]}),e.jsx("div",{style:{marginBottom:"1.5rem"},children:e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[e.jsx("input",{id:"overlayPermanentCheckbox",type:"checkbox",defaultChecked:t.broadcast?.overlay?.permanent,onChange:n=>{const a=document.getElementById("overlayDurationSlider"),f=document.getElementById("overlayDurationLabel");n.target.checked?(a.disabled=!0,f.innerText="‚àû (Dauerhaft)"):(a.disabled=!1,f.innerText=`${a.value}s`)}}),"Dauerhaft anzeigen (bis manuell beendet)"]})}),e.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[e.jsx("button",{type:"button",className:"btn-ghost",style:{flex:1,color:"var(--accent-danger)",borderColor:"var(--accent-danger)"},onClick:async()=>{const n={...t.broadcast||{},overlay:{active:!1}};await E(t.id,{broadcast:n}),s({...t,broadcast:n})},children:"STOP üõë"}),e.jsx("button",{type:"submit",className:"btn-primary",style:{flex:2,background:"var(--accent-danger)",borderColor:"var(--accent-danger)"},children:"üö® ALARM SENDEN"})]})]})]})]})]})})]}),B.open&&e.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.8)",zIndex:1e3,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",overflowY:"auto",padding:"2rem"},children:e.jsxs("div",{className:"glass",style:{background:"#1e293b",border:"1px solid gold",maxWidth:"600px",width:"100%",padding:"1rem",position:"relative"},children:[e.jsx("button",{onClick:()=>N({...B,open:!1}),style:{position:"absolute",top:"10px",right:"10px",background:"none",border:"none",color:"white",fontSize:"1.5rem",cursor:"pointer"},children:"‚úï"}),e.jsx("h2",{style:{textAlign:"center",color:"gold",marginTop:0},children:"üì∏ Hall of Fame Karte"}),e.jsxs("div",{style:{marginBottom:"1rem"},children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem"},children:"1. Foto machen/hochladen"}),e.jsx("input",{type:"file",accept:"image/*",onChange:n=>{const a=n.target.files[0];if(a){const f=new FileReader;f.onload=()=>z(f.result),f.readAsDataURL(a)}},className:"input-field"})]}),e.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"1rem",overflow:"hidden",border:"1px solid #333"},children:e.jsx("div",{style:{transform:"scale(0.8)",transformOrigin:"top center"},children:e.jsx(ct,{ref:R,participant:B.participant,event:t,rank:B.rank,theme:B.theme,photoUrl:L})})}),e.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:[e.jsx("button",{className:"btn-primary",onClick:async()=>{if(R.current){const n=(await X(async()=>{const{default:a}=await import("./html2canvas.esm-DXEQVQnt.js");return{default:a}},[])).default;n(R.current,{useCORS:!0,scale:2}).then(a=>{const f=document.createElement("a");f.download=`WinnerCard_${B.participant.name}.png`,f.href=a.toDataURL(),f.click()})}},children:"üíæ Herunterladen"}),e.jsx("button",{className:"btn-primary",onClick:async()=>{if(R.current){const n=document.activeElement,a=n.innerText;n.innerText="‚è≥ Speichere...";const f=(await X(async()=>{const{default:j}=await import("./html2canvas.esm-DXEQVQnt.js");return{default:j}},[])).default;f(R.current,{useCORS:!0,scale:2}).then(async j=>{const C=j.toDataURL();try{await Ke({eventId:t.id,eventName:t.title,participantName:B.participant.name,rank:B.rank,type:B.type,theme:B.theme,date:t.date,imageData:C}),alert("üèÜ In Hall of Fame gespeichert!")}catch(T){console.error(T),alert("Fehler beim Speichern: "+T.message)}n.innerText=a})}},children:"üèÜ Hall of Fame"})]})]})})]}):e.jsx("div",{className:"content-container",children:"Lade Event..."})}function xt(){const[p,g]=k.useState([]),[c,m]=k.useState(null),[u,t]=k.useState(!1),[s,o]=k.useState(!1),[i,r]=k.useState({title:"",date:"",time:"",location:"",description:"",budgetLimit:"",maxGuests:""});k.useEffect(()=>{d()},[]);const d=async()=>{const v=JSON.parse(localStorage.getItem("my_events")||"[]");if(v.length===0)return;o(!0);const x=[];for(const S of v)try{const B=await Qe(S);x.push(B)}catch(B){console.error("Konnte Event nicht laden:",S,B)}g(x),o(!1)},l=async v=>{v.preventDefault(),o(!0);try{const x={...i,budgetLimit:parseFloat(i.budgetLimit)||0,maxGuests:parseInt(i.maxGuests)||0,bettingStatus:"open"},S=await Ue(x),B=JSON.parse(localStorage.getItem("my_events")||"[]");B.push(S),localStorage.setItem("my_events",JSON.stringify(B)),r({title:"",date:"",time:"",location:"",description:"",budgetLimit:"",maxGuests:""}),t(!1),await d()}catch(x){alert("Fehler beim Erstellen der Party: "+x.message)}o(!1)},h=(v,x)=>{x.stopPropagation(),(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")&&alert(`ACHTUNG: Du bist auf 'localhost'. Dieser Link funktioniert NICHT auf dem Handy!

Bitte √∂ffne am Laptop die Netzwerk-Adresse (z.B. http://192.168.x.x:5173), die im Terminal angezeigt wird, und kopiere den Link dann erneut.`);const S=window.location.href.split("?")[0],N=`${S.endsWith("/")?S.slice(0,-1):S}?partyId=${v}`;if(!navigator.clipboard){const L=document.createElement("textarea");L.value=N,L.style.position="fixed",L.style.left="-9999px",document.body.appendChild(L),L.focus(),L.select();try{document.execCommand("copy"),alert("Link kopiert: "+N)}catch{prompt("Konnte nicht automatisch kopieren. Hier ist der Link:",N)}document.body.removeChild(L);return}navigator.clipboard.writeText(N).then(()=>{alert("Link in die Zwischenablage kopiert!")}).catch(L=>{prompt("Konnte nicht automatisch kopieren. Hier ist der Link:",N)})},w=()=>{confirm("Admin-Modus verlassen?")&&window.location.reload()};let y,b="Meine Events";if(c){const v=p.find(x=>x.id===c);v?(b=v.title,y=e.jsx(mt,{event:v,onBack:()=>{m(null),d()},onUpdate:()=>d()})):m(null)}return y||(y=e.jsxs("div",{className:"animate-fade-in",children:[e.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"2rem"},children:e.jsx("button",{className:"btn-primary",onClick:()=>t(!u),children:u?"Abbrechen":"+ Neue Party"})}),u&&e.jsxs("form",{onSubmit:l,className:"animate-fade-in",style:{background:"rgba(255,255,255,0.05)",padding:"1.5rem",borderRadius:"16px",marginBottom:"2rem",border:"1px solid rgba(255,255,255,0.1)"},children:[e.jsx("h3",{style:{marginBottom:"1rem",marginTop:0},children:"Neue Party erstellen"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem",marginBottom:"1rem"},children:[e.jsx("input",{required:!0,placeholder:"Party Name",className:"input-field",style:{marginBottom:0},value:i.title,onChange:v=>r({...i,title:v.target.value})}),e.jsx("input",{placeholder:"Admin PIN",className:"input-field",style:{marginBottom:0},maxLength:4,title:"4-Stelliger PIN f√ºr Admin-Login auf anderen Ger√§ten",value:i.adminPin||"",onChange:v=>r({...i,adminPin:v.target.value})})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[e.jsxs("div",{style:{gridColumn:"1 / -1"},children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem",opacity:.7},children:"Was wird gefeiert?"}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[e.jsxs("select",{className:"input-field",style:{marginBottom:0,flex:1},value:["Schie√üwettbewerb","Geburtstag","Party"].includes(i.theme)?i.theme:"Sonstiges",onChange:v=>{const x=v.target.value;r(x==="Sonstiges"?{...i,theme:""}:{...i,theme:x})},children:[e.jsx("option",{value:"Schie√üwettbewerb",children:"Schie√üwettbewerb"}),e.jsx("option",{value:"Geburtstag",children:"Geburtstag"}),e.jsx("option",{value:"Party",children:"Party"}),e.jsx("option",{value:"Sonstiges",children:"Sonstiges / Eigenes..."})]}),!["Schie√üwettbewerb","Geburtstag","Party"].includes(i.theme)&&e.jsx("input",{placeholder:"Eigenes Thema eingeben...",className:"input-field",style:{marginBottom:0,flex:1},value:i.theme,onChange:v=>r({...i,theme:v.target.value})})]})]}),e.jsx("input",{required:!0,type:"date",className:"input-field",value:i.date,onChange:v=>r({...i,date:v.target.value})}),e.jsx("input",{required:!0,type:"time",className:"input-field",value:i.time,onChange:v=>r({...i,time:v.target.value})})]}),e.jsx("input",{type:"number",placeholder:"Budget Limit (‚Ç¨)",className:"input-field",value:i.budgetLimit,onChange:v=>r({...i,budgetLimit:v.target.value})}),e.jsx("input",{type:"number",placeholder:"Max G√§ste (0 = egal)",className:"input-field",value:i.maxGuests,onChange:v=>r({...i,maxGuests:v.target.value})}),e.jsx("input",{required:!0,placeholder:"Ort",className:"input-field",style:{width:"100%"},value:i.location,onChange:v=>r({...i,location:v.target.value})}),e.jsx("button",{type:"submit",className:"btn-primary",disabled:s,style:{width:"100%",marginTop:"1rem"},children:s?"Erstelle...":"Party erstellen"})]}),e.jsxs("div",{children:[e.jsx("h3",{style:{borderBottom:"1px solid rgba(255,255,255,0.1)",paddingBottom:"0.5rem",marginBottom:"1rem"},children:"Deine Events"}),s&&e.jsx("p",{children:"Lade Events..."}),!s&&p.length===0&&e.jsx("p",{style:{opacity:.6},children:"Noch keine Events. Erstelle eins!"}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:p.map(v=>e.jsxs("div",{onClick:()=>m(v.id),style:{background:"rgba(255,255,255,0.03)",padding:"1rem",borderRadius:"12px",border:"1px solid rgba(255,255,255,0.05)",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"1rem"},onMouseEnter:x=>{x.currentTarget.style.transform="translateY(-2px)",x.currentTarget.style.background="rgba(255,255,255,0.06)"},onMouseLeave:x=>{x.currentTarget.style.transform="translateY(0)",x.currentTarget.style.background="rgba(255,255,255,0.03)"},children:[v.image?e.jsx("div",{style:{width:"60px",height:"60px",borderRadius:"8px",backgroundImage:`url(${v.image})`,backgroundSize:"cover",backgroundPosition:"center",flexShrink:0}}):e.jsx("div",{style:{width:"60px",height:"60px",borderRadius:"8px",background:"rgba(255,255,255,0.1)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem",flexShrink:0},children:"üìÖ"}),e.jsx("div",{style:{flex:1},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[e.jsxs("div",{children:[e.jsx("h4",{style:{margin:"0 0 0.3rem 0",fontSize:"1.1rem",color:"#fff"},children:v.title}),e.jsxs("p",{style:{margin:0,opacity:.7,fontSize:"0.8rem"},children:[v.date?v.date.split("-").reverse().join("."):""," | ",v.location]})]}),e.jsx("button",{onClick:x=>h(v.id,x),className:"btn-primary",style:{fontSize:"0.75rem",padding:"6px 12px"},children:"üîó Link"})]})})]},v.id))})]})]})),e.jsx(We,{title:b,onLogout:w,children:y})}export{xt as default};
