(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();function tT(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var ad={exports:{}},Wl={};var y0;function eT(){if(y0)return Wl;y0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var g in o)g!=="key"&&(u[g]=o[g])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Wl.Fragment=e,Wl.jsx=i,Wl.jsxs=i,Wl}var v0;function nT(){return v0||(v0=1,ad.exports=eT()),ad.exports}var v=nT(),sd={exports:{}},St={};var _0;function iT(){if(_0)return St;_0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),A=Symbol.iterator;function D(B){return B===null||typeof B!="object"?null:(B=A&&B[A]||B["@@iterator"],typeof B=="function"?B:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,k={};function Q(B,tt,st){this.props=B,this.context=tt,this.refs=k,this.updater=st||V}Q.prototype.isReactComponent={},Q.prototype.setState=function(B,tt){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,tt,"setState")},Q.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function X(){}X.prototype=Q.prototype;function it(B,tt,st){this.props=B,this.context=tt,this.refs=k,this.updater=st||V}var ft=it.prototype=new X;ft.constructor=it,L(ft,Q.prototype),ft.isPureReactComponent=!0;var pt=Array.isArray;function vt(){}var O={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function I(B,tt,st){var ot=st.ref;return{$$typeof:r,type:B,key:tt,ref:ot!==void 0?ot:null,props:st}}function S(B,tt){return I(B.type,tt,B.props)}function w(B){return typeof B=="object"&&B!==null&&B.$$typeof===r}function j(B){var tt={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(st){return tt[st]})}var N=/\/+/g;function Et(B,tt){return typeof B=="object"&&B!==null&&B.key!=null?j(""+B.key):tt.toString(36)}function Mt(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(vt,vt):(B.status="pending",B.then(function(tt){B.status==="pending"&&(B.status="fulfilled",B.value=tt)},function(tt){B.status==="pending"&&(B.status="rejected",B.reason=tt)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function $(B,tt,st,ot,bt){var Rt=typeof B;(Rt==="undefined"||Rt==="boolean")&&(B=null);var zt=!1;if(B===null)zt=!0;else switch(Rt){case"bigint":case"string":case"number":zt=!0;break;case"object":switch(B.$$typeof){case r:case e:zt=!0;break;case b:return zt=B._init,$(zt(B._payload),tt,st,ot,bt)}}if(zt)return bt=bt(B),zt=ot===""?"."+Et(B,0):ot,pt(bt)?(st="",zt!=null&&(st=zt.replace(N,"$&/")+"/"),$(bt,tt,st,"",function(Xr){return Xr})):bt!=null&&(w(bt)&&(bt=S(bt,st+(bt.key==null||B&&B.key===bt.key?"":(""+bt.key).replace(N,"$&/")+"/")+zt)),tt.push(bt)),1;zt=0;var Ne=ot===""?".":ot+":";if(pt(B))for(var ae=0;ae<B.length;ae++)ot=B[ae],Rt=Ne+Et(ot,ae),zt+=$(ot,tt,st,Rt,bt);else if(ae=D(B),typeof ae=="function")for(B=ae.call(B),ae=0;!(ot=B.next()).done;)ot=ot.value,Rt=Ne+Et(ot,ae++),zt+=$(ot,tt,st,Rt,bt);else if(Rt==="object"){if(typeof B.then=="function")return $(Mt(B),tt,st,ot,bt);throw tt=String(B),Error("Objects are not valid as a React child (found: "+(tt==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":tt)+"). If you meant to render a collection of children, use an array instead.")}return zt}function at(B,tt,st){if(B==null)return B;var ot=[],bt=0;return $(B,ot,"","",function(Rt){return tt.call(st,Rt,bt++)}),ot}function mt(B){if(B._status===-1){var tt=B._result;tt=tt(),tt.then(function(st){(B._status===0||B._status===-1)&&(B._status=1,B._result=st)},function(st){(B._status===0||B._status===-1)&&(B._status=2,B._result=st)}),B._status===-1&&(B._status=0,B._result=tt)}if(B._status===1)return B._result.default;throw B._result}var Ut=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var tt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(tt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},Qt={map:at,forEach:function(B,tt,st){at(B,function(){tt.apply(this,arguments)},st)},count:function(B){var tt=0;return at(B,function(){tt++}),tt},toArray:function(B){return at(B,function(tt){return tt})||[]},only:function(B){if(!w(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return St.Activity=T,St.Children=Qt,St.Component=Q,St.Fragment=i,St.Profiler=o,St.PureComponent=it,St.StrictMode=s,St.Suspense=p,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,St.__COMPILER_RUNTIME={__proto__:null,c:function(B){return O.H.useMemoCache(B)}},St.cache=function(B){return function(){return B.apply(null,arguments)}},St.cacheSignal=function(){return null},St.cloneElement=function(B,tt,st){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var ot=L({},B.props),bt=B.key;if(tt!=null)for(Rt in tt.key!==void 0&&(bt=""+tt.key),tt)!R.call(tt,Rt)||Rt==="key"||Rt==="__self"||Rt==="__source"||Rt==="ref"&&tt.ref===void 0||(ot[Rt]=tt[Rt]);var Rt=arguments.length-2;if(Rt===1)ot.children=st;else if(1<Rt){for(var zt=Array(Rt),Ne=0;Ne<Rt;Ne++)zt[Ne]=arguments[Ne+2];ot.children=zt}return I(B.type,bt,ot)},St.createContext=function(B){return B={$$typeof:f,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:u,_context:B},B},St.createElement=function(B,tt,st){var ot,bt={},Rt=null;if(tt!=null)for(ot in tt.key!==void 0&&(Rt=""+tt.key),tt)R.call(tt,ot)&&ot!=="key"&&ot!=="__self"&&ot!=="__source"&&(bt[ot]=tt[ot]);var zt=arguments.length-2;if(zt===1)bt.children=st;else if(1<zt){for(var Ne=Array(zt),ae=0;ae<zt;ae++)Ne[ae]=arguments[ae+2];bt.children=Ne}if(B&&B.defaultProps)for(ot in zt=B.defaultProps,zt)bt[ot]===void 0&&(bt[ot]=zt[ot]);return I(B,Rt,bt)},St.createRef=function(){return{current:null}},St.forwardRef=function(B){return{$$typeof:g,render:B}},St.isValidElement=w,St.lazy=function(B){return{$$typeof:b,_payload:{_status:-1,_result:B},_init:mt}},St.memo=function(B,tt){return{$$typeof:m,type:B,compare:tt===void 0?null:tt}},St.startTransition=function(B){var tt=O.T,st={};O.T=st;try{var ot=B(),bt=O.S;bt!==null&&bt(st,ot),typeof ot=="object"&&ot!==null&&typeof ot.then=="function"&&ot.then(vt,Ut)}catch(Rt){Ut(Rt)}finally{tt!==null&&st.types!==null&&(tt.types=st.types),O.T=tt}},St.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},St.use=function(B){return O.H.use(B)},St.useActionState=function(B,tt,st){return O.H.useActionState(B,tt,st)},St.useCallback=function(B,tt){return O.H.useCallback(B,tt)},St.useContext=function(B){return O.H.useContext(B)},St.useDebugValue=function(){},St.useDeferredValue=function(B,tt){return O.H.useDeferredValue(B,tt)},St.useEffect=function(B,tt){return O.H.useEffect(B,tt)},St.useEffectEvent=function(B){return O.H.useEffectEvent(B)},St.useId=function(){return O.H.useId()},St.useImperativeHandle=function(B,tt,st){return O.H.useImperativeHandle(B,tt,st)},St.useInsertionEffect=function(B,tt){return O.H.useInsertionEffect(B,tt)},St.useLayoutEffect=function(B,tt){return O.H.useLayoutEffect(B,tt)},St.useMemo=function(B,tt){return O.H.useMemo(B,tt)},St.useOptimistic=function(B,tt){return O.H.useOptimistic(B,tt)},St.useReducer=function(B,tt,st){return O.H.useReducer(B,tt,st)},St.useRef=function(B){return O.H.useRef(B)},St.useState=function(B){return O.H.useState(B)},St.useSyncExternalStore=function(B,tt,st){return O.H.useSyncExternalStore(B,tt,st)},St.useTransition=function(){return O.H.useTransition()},St.version="19.2.3",St}var E0;function To(){return E0||(E0=1,sd.exports=iT()),sd.exports}var P=To(),ld={exports:{}},Jl={},od={exports:{}},ud={};var b0;function rT(){return b0||(b0=1,(function(r){function e($,at){var mt=$.length;$.push(at);t:for(;0<mt;){var Ut=mt-1>>>1,Qt=$[Ut];if(0<o(Qt,at))$[Ut]=at,$[mt]=Qt,mt=Ut;else break t}}function i($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var at=$[0],mt=$.pop();if(mt!==at){$[0]=mt;t:for(var Ut=0,Qt=$.length,B=Qt>>>1;Ut<B;){var tt=2*(Ut+1)-1,st=$[tt],ot=tt+1,bt=$[ot];if(0>o(st,mt))ot<Qt&&0>o(bt,st)?($[Ut]=bt,$[ot]=mt,Ut=ot):($[Ut]=st,$[tt]=mt,Ut=tt);else if(ot<Qt&&0>o(bt,mt))$[Ut]=bt,$[ot]=mt,Ut=ot;else break t}}return at}function o($,at){var mt=$.sortIndex-at.sortIndex;return mt!==0?mt:$.id-at.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,g=f.now();r.unstable_now=function(){return f.now()-g}}var p=[],m=[],b=1,T=null,A=3,D=!1,V=!1,L=!1,k=!1,Q=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,it=typeof setImmediate<"u"?setImmediate:null;function ft($){for(var at=i(m);at!==null;){if(at.callback===null)s(m);else if(at.startTime<=$)s(m),at.sortIndex=at.expirationTime,e(p,at);else break;at=i(m)}}function pt($){if(L=!1,ft($),!V)if(i(p)!==null)V=!0,vt||(vt=!0,j());else{var at=i(m);at!==null&&Mt(pt,at.startTime-$)}}var vt=!1,O=-1,R=5,I=-1;function S(){return k?!0:!(r.unstable_now()-I<R)}function w(){if(k=!1,vt){var $=r.unstable_now();I=$;var at=!0;try{t:{V=!1,L&&(L=!1,X(O),O=-1),D=!0;var mt=A;try{e:{for(ft($),T=i(p);T!==null&&!(T.expirationTime>$&&S());){var Ut=T.callback;if(typeof Ut=="function"){T.callback=null,A=T.priorityLevel;var Qt=Ut(T.expirationTime<=$);if($=r.unstable_now(),typeof Qt=="function"){T.callback=Qt,ft($),at=!0;break e}T===i(p)&&s(p),ft($)}else s(p);T=i(p)}if(T!==null)at=!0;else{var B=i(m);B!==null&&Mt(pt,B.startTime-$),at=!1}}break t}finally{T=null,A=mt,D=!1}at=void 0}}finally{at?j():vt=!1}}}var j;if(typeof it=="function")j=function(){it(w)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Et=N.port2;N.port1.onmessage=w,j=function(){Et.postMessage(null)}}else j=function(){Q(w,0)};function Mt($,at){O=Q(function(){$(r.unstable_now())},at)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function($){$.callback=null},r.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<$?Math.floor(1e3/$):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function($){switch(A){case 1:case 2:case 3:var at=3;break;default:at=A}var mt=A;A=at;try{return $()}finally{A=mt}},r.unstable_requestPaint=function(){k=!0},r.unstable_runWithPriority=function($,at){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var mt=A;A=$;try{return at()}finally{A=mt}},r.unstable_scheduleCallback=function($,at,mt){var Ut=r.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?Ut+mt:Ut):mt=Ut,$){case 1:var Qt=-1;break;case 2:Qt=250;break;case 5:Qt=1073741823;break;case 4:Qt=1e4;break;default:Qt=5e3}return Qt=mt+Qt,$={id:b++,callback:at,priorityLevel:$,startTime:mt,expirationTime:Qt,sortIndex:-1},mt>Ut?($.sortIndex=mt,e(m,$),i(p)===null&&$===i(m)&&(L?(X(O),O=-1):L=!0,Mt(pt,mt-Ut))):($.sortIndex=Qt,e(p,$),V||D||(V=!0,vt||(vt=!0,j()))),$},r.unstable_shouldYield=S,r.unstable_wrapCallback=function($){var at=A;return function(){var mt=A;A=at;try{return $.apply(this,arguments)}finally{A=mt}}}})(ud)),ud}var T0;function aT(){return T0||(T0=1,od.exports=rT()),od.exports}var cd={exports:{}},Ke={};var S0;function sT(){if(S0)return Ke;S0=1;var r=To();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)m+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,m,b){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:m,implementation:b}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ke.createPortal=function(p,m){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return u(p,m,null,b)},Ke.flushSync=function(p){var m=f.T,b=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=m,s.p=b,s.d.f()}},Ke.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(p,m))},Ke.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Ke.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var b=m.as,T=g(b,m.crossOrigin),A=typeof m.integrity=="string"?m.integrity:void 0,D=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;b==="style"?s.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:T,integrity:A,fetchPriority:D}):b==="script"&&s.d.X(p,{crossOrigin:T,integrity:A,fetchPriority:D,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Ke.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var b=g(m.as,m.crossOrigin);s.d.M(p,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(p)},Ke.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var b=m.as,T=g(b,m.crossOrigin);s.d.L(p,b,{crossOrigin:T,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Ke.preloadModule=function(p,m){if(typeof p=="string")if(m){var b=g(m.as,m.crossOrigin);s.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(p)},Ke.requestFormReset=function(p){s.d.r(p)},Ke.unstable_batchedUpdates=function(p,m){return p(m)},Ke.useFormState=function(p,m,b){return f.H.useFormState(p,m,b)},Ke.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ke.version="19.2.3",Ke}var x0;function r1(){if(x0)return cd.exports;x0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),cd.exports=sT(),cd.exports}var A0;function lT(){if(A0)return Jl;A0=1;var r=aT(),e=To(),i=r1();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function f(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function m(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),n;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,x=h.child;x;){if(x===a){_=!0,a=h,l=d;break}if(x===l){_=!0,l=h,a=d;break}x=x.sibling}if(!_){for(x=d.child;x;){if(x===a){_=!0,a=d,l=h;break}if(x===l){_=!0,l=d,a=h;break}x=x.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function b(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=b(t),n!==null)return n;t=t.sibling}return null}var T=Object.assign,A=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),X=Symbol.for("react.consumer"),it=Symbol.for("react.context"),ft=Symbol.for("react.forward_ref"),pt=Symbol.for("react.suspense"),vt=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),S=Symbol.for("react.memo_cache_sentinel"),w=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=w&&t[w]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function Et(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case L:return"Fragment";case Q:return"Profiler";case k:return"StrictMode";case pt:return"Suspense";case vt:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case V:return"Portal";case it:return t.displayName||"Context";case X:return(t._context.displayName||"Context")+".Consumer";case ft:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return n=t.displayName||null,n!==null?n:Et(t.type)||"Memo";case R:n=t._payload,t=t._init;try{return Et(t(n))}catch{}}return null}var Mt=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},Ut=[],Qt=-1;function B(t){return{current:t}}function tt(t){0>Qt||(t.current=Ut[Qt],Ut[Qt]=null,Qt--)}function st(t,n){Qt++,Ut[Qt]=t.current,t.current=n}var ot=B(null),bt=B(null),Rt=B(null),zt=B(null);function Ne(t,n){switch(st(Rt,n),st(bt,t),st(ot,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Uy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Uy(n),t=Py(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}tt(ot),st(ot,t)}function ae(){tt(ot),tt(bt),tt(Rt)}function Xr(t){t.memoizedState!==null&&st(zt,t);var n=ot.current,a=Py(n,t.type);n!==a&&(st(bt,t),st(ot,a))}function Ba(t){bt.current===t&&(tt(ot),tt(bt)),zt.current===t&&(tt(zt),Kl._currentValue=mt)}var ka,Ua;function Jn(t){if(ka===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);ka=n&&n[1]||"",Ua=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ka+t+Ua}var Ks=!1;function $r(t,n){if(!t||Ks)return"";Ks=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(K){var F=K}Reflect.construct(t,[],J)}else{try{J.call()}catch(K){F=K}t.call(J.prototype)}}else{try{throw Error()}catch(K){F=K}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(K){if(K&&F&&typeof K.stack=="string")return[K.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],x=d[1];if(_&&x){var M=_.split(`
`),G=x.split(`
`);for(h=l=0;l<M.length&&!M[l].includes("DetermineComponentFrameRoot");)l++;for(;h<G.length&&!G[h].includes("DetermineComponentFrameRoot");)h++;if(l===M.length||h===G.length)for(l=M.length-1,h=G.length-1;1<=l&&0<=h&&M[l]!==G[h];)h--;for(;1<=l&&0<=h;l--,h--)if(M[l]!==G[h]){if(l!==1||h!==1)do if(l--,h--,0>h||M[l]!==G[h]){var Z=`
`+M[l].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=l&&0<=h);break}}}finally{Ks=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Jn(a):""}function Xs(t,n){switch(t.tag){case 26:case 27:case 5:return Jn(t.type);case 16:return Jn("Lazy");case 13:return t.child!==n&&n!==null?Jn("Suspense Fallback"):Jn("Suspense");case 19:return Jn("SuspenseList");case 0:case 15:return $r(t.type,!1);case 11:return $r(t.type.render,!1);case 1:return $r(t.type,!0);case 31:return Jn("Activity");default:return""}}function $s(t){try{var n="",a=null;do n+=Xs(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ve=Object.prototype.hasOwnProperty,Ie=r.unstable_scheduleCallback,nr=r.unstable_cancelCallback,sh=r.unstable_shouldYield,Io=r.unstable_requestPaint,We=r.unstable_now,Zr=r.unstable_getCurrentPriorityLevel,Zs=r.unstable_ImmediatePriority,Ws=r.unstable_UserBlockingPriority,ir=r.unstable_NormalPriority,lh=r.unstable_LowPriority,Vo=r.unstable_IdlePriority,Oo=r.log,jo=r.unstable_setDisableYieldValue,Un=null,ke=null;function xn(t){if(typeof Oo=="function"&&jo(t),ke&&typeof ke.setStrictMode=="function")try{ke.setStrictMode(Un,t)}catch{}}var fe=Math.clz32?Math.clz32:Lo,Mo=Math.log,Pa=Math.LN2;function Lo(t){return t>>>=0,t===0?32:31-(Mo(t)/Pa|0)|0}var ti=256,Wr=262144,_e=4194304;function ei(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ni(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var x=l&134217727;return x!==0?(l=x&~d,l!==0?h=ei(l):(_&=x,_!==0?h=ei(_):a||(a=x&~t,a!==0&&(h=ei(a))))):(x=l&~d,x!==0?h=ei(x):_!==0?h=ei(_):a||(a=l&~t,a!==0&&(h=ei(a)))),h===0?0:n!==0&&n!==h&&(n&d)===0&&(d=h&-h,a=n&-n,d>=a||d===32&&(a&4194048)!==0)?n:h}function Pn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function oh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zo(){var t=_e;return _e<<=1,(_e&62914560)===0&&(_e=4194304),t}function ii(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Jr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function uh(t,n,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var x=t.entanglements,M=t.expirationTimes,G=t.hiddenUpdates;for(a=_&~a;0<a;){var Z=31-fe(a),J=1<<Z;x[Z]=0,M[Z]=-1;var F=G[Z];if(F!==null)for(G[Z]=null,Z=0;Z<F.length;Z++){var K=F[Z];K!==null&&(K.lane&=-536870913)}a&=~J}l!==0&&ta(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~n))}function ta(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-fe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Js(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-fe(a),h=1<<l;h&n|t[l]&n&&(t[l]|=n),a&=~h}}function tl(t,n){var a=n&-n;return a=(a&42)!==0?1:ea(a),(a&(t.suspendedLanes|n))!==0?0:a}function ea(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ni(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Bo(){var t=at.p;return t!==0?t:(t=window.event,t===void 0?32:c0(t.type))}function qn(t,n){var a=at.p;try{return at.p=t,n()}finally{at.p=a}}var Hn=Math.random().toString(36).slice(2),Ee="__reactFiber$"+Hn,Me="__reactProps$"+Hn,ri="__reactContainer$"+Hn,qa="__reactEvents$"+Hn,ch="__reactListeners$"+Hn,ko="__reactHandles$"+Hn,Uo="__reactResources$"+Hn,ai="__reactMarker$"+Hn;function Ha(t){delete t[Ee],delete t[Me],delete t[qa],delete t[ch],delete t[ko]}function si(t){var n=t[Ee];if(n)return n;for(var a=t.parentNode;a;){if(n=a[ri]||a[Ee]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Ky(t);t!==null;){if(a=t[Ee])return a;t=Ky(t)}return n}t=a,a=t.parentNode}return null}function An(t){if(t=t[Ee]||t[ri]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function mn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function li(t){var n=t[Uo];return n||(n=t[Uo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function be(t){t[ai]=!0}var el=new Set,nl={};function oi(t,n){ui(t,n),ui(t+"Capture",n)}function ui(t,n){for(nl[t]=n,t=0;t<n.length;t++)el.add(n[t])}var il=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rl={},al={};function Po(t){return ve.call(al,t)?!0:ve.call(rl,t)?!1:il.test(t)?al[t]=!0:(rl[t]=!0,!1)}function Ga(t,n,a){if(Po(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function gn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Te(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Le(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function rr(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function sl(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Yt(t){if(!t._valueTracker){var n=rr(t)?"checked":"value";t._valueTracker=sl(t,n,""+t[n])}}function na(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=rr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function ci(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ia=/[\n"\\]/g;function rn(t){return t.replace(ia,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Fa(t,n,a,l,h,d,_,x){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),n!=null?_==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Le(n)):t.value!==""+Le(n)&&(t.value=""+Le(n)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),n!=null?ll(t,_,Le(n)):a!=null?ll(t,_,Le(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.name=""+Le(x):t.removeAttribute("name")}function qo(t,n,a,l,h,d,_,x){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),n!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||n!=null)){Yt(t);return}a=a!=null?""+Le(a):"",n=n!=null?""+Le(n):a,x||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=x?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Yt(t)}function ll(t,n,a){n==="number"&&ci(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ar(t,n,a,l){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Le(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Ho(t,n,a){if(n!=null&&(n=""+Le(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Le(a):""}function sr(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(Mt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Le(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Yt(t)}function an(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Go=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ol(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Go.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function ul(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&ol(t,h,l)}else for(var d in n)n.hasOwnProperty(d)&&ol(t,d,n[d])}function Qa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ya(t){return lr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Gn(){}var cl=null;function wn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var or=null,hi=null;function ra(t){var n=An(t);if(n&&(t=n.stateNode)){var a=t[Me]||null;t:switch(t=n.stateNode,n.type){case"input":if(Fa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var h=l[Me]||null;if(!h)throw Error(s(90));Fa(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&na(l)}break t;case"textarea":Ho(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&ar(t,!!a.multiple,n,!1)}}}var Ka=!1;function ur(t,n,a){if(Ka)return t(n,a);Ka=!0;try{var l=t(n);return l}finally{if(Ka=!1,(or!==null||hi!==null)&&(Bu(),or&&(n=or,t=hi,hi=or=null,ra(n),t)))for(n=0;n<t.length;n++)ra(t[n])}}function Fn(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Me]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),aa=!1;if(Rn)try{var $t={};Object.defineProperty($t,"passive",{get:function(){aa=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch{aa=!1}var fi=null,hl=null,sa=null;function fl(){if(sa)return sa;var t,n=hl,a=n.length,l,h="value"in fi?fi.value:fi.textContent,d=h.length;for(t=0;t<a&&n[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&n[a-l]===h[d-l];l++);return sa=h.slice(t,1<l?1-l:void 0)}function la(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ii(){return!0}function Qn(){return!1}function Ue(t){function n(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var x in t)t.hasOwnProperty(x)&&(a=t[x],this[x]=a?a(d):d[x]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ii:Qn,this.isPropagationStopped=Qn,this}return T(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ii)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ii)},persist:function(){},isPersistent:Ii}),n}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},di=Ue(Vi),cr=T({},Vi,{view:0,detail:0}),dl=Ue(cr),hr,Xa,mi,$a=T({},cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==mi&&(mi&&t.type==="mousemove"?(hr=t.screenX-mi.screenX,Xa=t.screenY-mi.screenY):Xa=hr=0,mi=t),hr)},movementY:function(t){return"movementY"in t?t.movementY:Xa}}),ml=Ue($a),oa=T({},$a,{dataTransfer:0}),Qo=Ue(oa),Yo=T({},cr,{relatedTarget:0}),ua=Ue(Yo),gl=T({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),Ko=Ue(gl),Za=T({},Vi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Xo=Ue(Za),$o=T({},Vi,{data:0}),gi=Ue($o),Zo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Jo[t])?!!n[t]:!1}function fr(){return tu}var Je=T({},cr,{key:function(t){if(t.key){var n=Zo[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=la(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Wo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fr,charCode:function(t){return t.type==="keypress"?la(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?la(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),eu=Ue(Je),nu=T({},$a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oi=Ue(nu),c=T({},cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fr}),y=Ue(c),E=T({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),C=Ue(E),q=T({},$a,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=Ue(q),rt=T({},Vi,{newState:0,oldState:0}),At=Ue(rt),de=[9,13,27,32],Ht=Rn&&"CompositionEvent"in window,se=null;Rn&&"documentMode"in document&&(se=document.documentMode);var Cn=Rn&&"TextEvent"in window&&!se,pi=Rn&&(!Ht||se&&8<se&&11>=se),Yn=" ",Kn=!1;function ca(t,n){switch(t){case"keyup":return de.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ja=!1;function xE(t,n){switch(t){case"compositionend":return Wa(n);case"keypress":return n.which!==32?null:(Kn=!0,Yn);case"textInput":return t=n.data,t===Yn&&Kn?null:t;default:return null}}function AE(t,n){if(Ja)return t==="compositionend"||!Ht&&ca(t,n)?(t=fl(),sa=hl=fi=null,Ja=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return pi&&n.locale!=="ko"?null:n.data;default:return null}}var wE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zm(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!wE[t.type]:n==="textarea"}function Wm(t,n,a,l){or?hi?hi.push(l):hi=[l]:or=l,n=Fu(n,"onChange"),0<n.length&&(a=new di("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var pl=null,yl=null;function RE(t){jy(t,0)}function iu(t){var n=mn(t);if(na(n))return t}function Jm(t,n){if(t==="change")return n}var tg=!1;if(Rn){var hh;if(Rn){var fh="oninput"in document;if(!fh){var eg=document.createElement("div");eg.setAttribute("oninput","return;"),fh=typeof eg.oninput=="function"}hh=fh}else hh=!1;tg=hh&&(!document.documentMode||9<document.documentMode)}function ng(){pl&&(pl.detachEvent("onpropertychange",ig),yl=pl=null)}function ig(t){if(t.propertyName==="value"&&iu(yl)){var n=[];Wm(n,yl,t,wn(t)),ur(RE,n)}}function CE(t,n,a){t==="focusin"?(ng(),pl=n,yl=a,pl.attachEvent("onpropertychange",ig)):t==="focusout"&&ng()}function DE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return iu(yl)}function NE(t,n){if(t==="click")return iu(n)}function IE(t,n){if(t==="input"||t==="change")return iu(n)}function VE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var pn=typeof Object.is=="function"?Object.is:VE;function vl(t,n){if(pn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ve.call(n,h)||!pn(t[h],n[h]))return!1}return!0}function rg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ag(t,n){var a=rg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=rg(a)}}function sg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?sg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function lg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ci(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=ci(t.document)}return n}function dh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var OE=Rn&&"documentMode"in document&&11>=document.documentMode,ts=null,mh=null,_l=null,gh=!1;function og(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;gh||ts==null||ts!==ci(l)||(l=ts,"selectionStart"in l&&dh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),_l&&vl(_l,l)||(_l=l,l=Fu(mh,"onSelect"),0<l.length&&(n=new di("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=ts)))}function ha(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var es={animationend:ha("Animation","AnimationEnd"),animationiteration:ha("Animation","AnimationIteration"),animationstart:ha("Animation","AnimationStart"),transitionrun:ha("Transition","TransitionRun"),transitionstart:ha("Transition","TransitionStart"),transitioncancel:ha("Transition","TransitionCancel"),transitionend:ha("Transition","TransitionEnd")},ph={},ug={};Rn&&(ug=document.createElement("div").style,"AnimationEvent"in window||(delete es.animationend.animation,delete es.animationiteration.animation,delete es.animationstart.animation),"TransitionEvent"in window||delete es.transitionend.transition);function fa(t){if(ph[t])return ph[t];if(!es[t])return t;var n=es[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in ug)return ph[t]=n[a];return t}var cg=fa("animationend"),hg=fa("animationiteration"),fg=fa("animationstart"),jE=fa("transitionrun"),ME=fa("transitionstart"),LE=fa("transitioncancel"),dg=fa("transitionend"),mg=new Map,yh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yh.push("scrollEnd");function Xn(t,n){mg.set(t,n),oi(n,[t])}var ru=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Dn=[],ns=0,vh=0;function au(){for(var t=ns,n=vh=ns=0;n<t;){var a=Dn[n];Dn[n++]=null;var l=Dn[n];Dn[n++]=null;var h=Dn[n];Dn[n++]=null;var d=Dn[n];if(Dn[n++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&gg(a,h,d)}}function su(t,n,a,l){Dn[ns++]=t,Dn[ns++]=n,Dn[ns++]=a,Dn[ns++]=l,vh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function _h(t,n,a,l){return su(t,n,a,l),lu(t)}function da(t,n){return su(t,null,null,n),lu(t)}function gg(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&n!==null&&(h=31-fe(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=a|536870912),d):null}function lu(t){if(50<Pl)throw Pl=0,Df=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var is={};function zE(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,n,a,l){return new zE(t,n,a,l)}function Eh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ji(t,n){var a=t.alternate;return a===null?(a=yn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function pg(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function ou(t,n,a,l,h,d){var _=0;if(l=t,typeof t=="function")Eh(t)&&(_=1);else if(typeof t=="string")_=qb(t,a,ot.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case I:return t=yn(31,a,n,h),t.elementType=I,t.lanes=d,t;case L:return ma(a.children,h,d,n);case k:_=8,h|=24;break;case Q:return t=yn(12,a,n,h|2),t.elementType=Q,t.lanes=d,t;case pt:return t=yn(13,a,n,h),t.elementType=pt,t.lanes=d,t;case vt:return t=yn(19,a,n,h),t.elementType=vt,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case it:_=10;break t;case X:_=9;break t;case ft:_=11;break t;case O:_=14;break t;case R:_=16,l=null;break t}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=yn(_,a,n,h),n.elementType=t,n.type=l,n.lanes=d,n}function ma(t,n,a,l){return t=yn(7,t,l,n),t.lanes=a,t}function bh(t,n,a){return t=yn(6,t,null,n),t.lanes=a,t}function yg(t){var n=yn(18,null,null,0);return n.stateNode=t,n}function Th(t,n,a){return n=yn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var vg=new WeakMap;function Nn(t,n){if(typeof t=="object"&&t!==null){var a=vg.get(t);return a!==void 0?a:(n={value:t,source:n,stack:$s(n)},vg.set(t,n),n)}return{value:t,source:n,stack:$s(n)}}var rs=[],as=0,uu=null,El=0,In=[],Vn=0,dr=null,yi=1,vi="";function Mi(t,n){rs[as++]=El,rs[as++]=uu,uu=t,El=n}function _g(t,n,a){In[Vn++]=yi,In[Vn++]=vi,In[Vn++]=dr,dr=t;var l=yi;t=vi;var h=32-fe(l)-1;l&=~(1<<h),a+=1;var d=32-fe(n)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,yi=1<<32-fe(n)+h|a<<h|l,vi=d+t}else yi=1<<d|a<<h|l,vi=t}function Sh(t){t.return!==null&&(Mi(t,1),_g(t,1,0))}function xh(t){for(;t===uu;)uu=rs[--as],rs[as]=null,El=rs[--as],rs[as]=null;for(;t===dr;)dr=In[--Vn],In[Vn]=null,vi=In[--Vn],In[Vn]=null,yi=In[--Vn],In[Vn]=null}function Eg(t,n){In[Vn++]=yi,In[Vn++]=vi,In[Vn++]=dr,yi=n.id,vi=n.overflow,dr=t}var Pe=null,ee=null,Lt=!1,mr=null,On=!1,Ah=Error(s(519));function gr(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw bl(Nn(n,t)),Ah}function bg(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[Ee]=t,n[Me]=l,a){case"dialog":Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":case"embed":Nt("load",n);break;case"video":case"audio":for(a=0;a<Hl.length;a++)Nt(Hl[a],n);break;case"source":Nt("error",n);break;case"img":case"image":case"link":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"input":Nt("invalid",n),qo(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Nt("invalid",n);break;case"textarea":Nt("invalid",n),sr(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||By(n.textContent,a)?(l.popover!=null&&(Nt("beforetoggle",n),Nt("toggle",n)),l.onScroll!=null&&Nt("scroll",n),l.onScrollEnd!=null&&Nt("scrollend",n),l.onClick!=null&&(n.onclick=Gn),n=!0):n=!1,n||gr(t,!0)}function Tg(t){for(Pe=t.return;Pe;)switch(Pe.tag){case 5:case 31:case 13:On=!1;return;case 27:case 3:On=!0;return;default:Pe=Pe.return}}function ss(t){if(t!==Pe)return!1;if(!Lt)return Tg(t),Lt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Gf(t.type,t.memoizedProps)),a=!a),a&&ee&&gr(t),Tg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ee=Yy(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ee=Yy(t)}else n===27?(n=ee,Dr(t.type)?(t=Xf,Xf=null,ee=t):ee=n):ee=Pe?Mn(t.stateNode.nextSibling):null;return!0}function ga(){ee=Pe=null,Lt=!1}function wh(){var t=mr;return t!==null&&(un===null?un=t:un.push.apply(un,t),mr=null),t}function bl(t){mr===null?mr=[t]:mr.push(t)}var Rh=B(null),pa=null,Li=null;function pr(t,n,a){st(Rh,n._currentValue),n._currentValue=a}function zi(t){t._currentValue=Rh.current,tt(Rh)}function Ch(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Dh(t,n,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;t:for(;d!==null;){var x=d;d=h;for(var M=0;M<n.length;M++)if(x.context===n[M]){d.lanes|=a,x=d.alternate,x!==null&&(x.lanes|=a),Ch(d.return,a,t),l||(_=null);break t}d=x.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Ch(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function ls(t,n,a,l){t=null;for(var h=n,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var x=h.type;pn(h.pendingProps.value,_.value)||(t!==null?t.push(x):t=[x])}}else if(h===zt.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Kl):t=[Kl])}h=h.return}t!==null&&Dh(n,t,a,l),n.flags|=262144}function cu(t){for(t=t.firstContext;t!==null;){if(!pn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ya(t){pa=t,Li=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return Sg(pa,t)}function hu(t,n){return pa===null&&ya(t),Sg(t,n)}function Sg(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Li===null){if(t===null)throw Error(s(308));Li=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Li=Li.next=n;return a}var BE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},kE=r.unstable_scheduleCallback,UE=r.unstable_NormalPriority,Se={$$typeof:it,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nh(){return{controller:new BE,data:new Map,refCount:0}}function Tl(t){t.refCount--,t.refCount===0&&kE(UE,function(){t.controller.abort()})}var Sl=null,Ih=0,os=0,us=null;function PE(t,n){if(Sl===null){var a=Sl=[];Ih=0,os=Mf(),us={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Ih++,n.then(xg,xg),n}function xg(){if(--Ih===0&&Sl!==null){us!==null&&(us.status="fulfilled");var t=Sl;Sl=null,os=0,us=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function qE(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Ag=$.S;$.S=function(t,n){oy=We(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&PE(t,n),Ag!==null&&Ag(t,n)};var va=B(null);function Vh(){var t=va.current;return t!==null?t:te.pooledCache}function fu(t,n){n===null?st(va,va.current):st(va,n.pool)}function wg(){var t=Vh();return t===null?null:{parent:Se._currentValue,pool:t}}var cs=Error(s(460)),Oh=Error(s(474)),du=Error(s(542)),mu={then:function(){}};function Rg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Cg(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Gn,Gn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Ng(t),t;default:if(typeof n.status=="string")n.then(Gn,Gn);else{if(t=te,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Ng(t),t}throw Ea=n,cs}}function _a(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ea=a,cs):a}}var Ea=null;function Dg(){if(Ea===null)throw Error(s(459));var t=Ea;return Ea=null,t}function Ng(t){if(t===cs||t===du)throw Error(s(483))}var hs=null,xl=0;function gu(t){var n=xl;return xl+=1,hs===null&&(hs=[]),Cg(hs,t,n)}function Al(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function pu(t,n){throw n.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Ig(t){function n(U,z){if(t){var H=U.deletions;H===null?(U.deletions=[z],U.flags|=16):H.push(z)}}function a(U,z){if(!t)return null;for(;z!==null;)n(U,z),z=z.sibling;return null}function l(U){for(var z=new Map;U!==null;)U.key!==null?z.set(U.key,U):z.set(U.index,U),U=U.sibling;return z}function h(U,z){return U=ji(U,z),U.index=0,U.sibling=null,U}function d(U,z,H){return U.index=H,t?(H=U.alternate,H!==null?(H=H.index,H<z?(U.flags|=67108866,z):H):(U.flags|=67108866,z)):(U.flags|=1048576,z)}function _(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function x(U,z,H,W){return z===null||z.tag!==6?(z=bh(H,U.mode,W),z.return=U,z):(z=h(z,H),z.return=U,z)}function M(U,z,H,W){var dt=H.type;return dt===L?Z(U,z,H.props.children,W,H.key):z!==null&&(z.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===R&&_a(dt)===z.type)?(z=h(z,H.props),Al(z,H),z.return=U,z):(z=ou(H.type,H.key,H.props,null,U.mode,W),Al(z,H),z.return=U,z)}function G(U,z,H,W){return z===null||z.tag!==4||z.stateNode.containerInfo!==H.containerInfo||z.stateNode.implementation!==H.implementation?(z=Th(H,U.mode,W),z.return=U,z):(z=h(z,H.children||[]),z.return=U,z)}function Z(U,z,H,W,dt){return z===null||z.tag!==7?(z=ma(H,U.mode,W,dt),z.return=U,z):(z=h(z,H),z.return=U,z)}function J(U,z,H){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=bh(""+z,U.mode,H),z.return=U,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case D:return H=ou(z.type,z.key,z.props,null,U.mode,H),Al(H,z),H.return=U,H;case V:return z=Th(z,U.mode,H),z.return=U,z;case R:return z=_a(z),J(U,z,H)}if(Mt(z)||j(z))return z=ma(z,U.mode,H,null),z.return=U,z;if(typeof z.then=="function")return J(U,gu(z),H);if(z.$$typeof===it)return J(U,hu(U,z),H);pu(U,z)}return null}function F(U,z,H,W){var dt=z!==null?z.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return dt!==null?null:x(U,z,""+H,W);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case D:return H.key===dt?M(U,z,H,W):null;case V:return H.key===dt?G(U,z,H,W):null;case R:return H=_a(H),F(U,z,H,W)}if(Mt(H)||j(H))return dt!==null?null:Z(U,z,H,W,null);if(typeof H.then=="function")return F(U,z,gu(H),W);if(H.$$typeof===it)return F(U,z,hu(U,H),W);pu(U,H)}return null}function K(U,z,H,W,dt){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return U=U.get(H)||null,x(z,U,""+W,dt);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case D:return U=U.get(W.key===null?H:W.key)||null,M(z,U,W,dt);case V:return U=U.get(W.key===null?H:W.key)||null,G(z,U,W,dt);case R:return W=_a(W),K(U,z,H,W,dt)}if(Mt(W)||j(W))return U=U.get(H)||null,Z(z,U,W,dt,null);if(typeof W.then=="function")return K(U,z,H,gu(W),dt);if(W.$$typeof===it)return K(U,z,H,hu(z,W),dt);pu(z,W)}return null}function ut(U,z,H,W){for(var dt=null,Pt=null,ct=z,Ct=z=0,Vt=null;ct!==null&&Ct<H.length;Ct++){ct.index>Ct?(Vt=ct,ct=null):Vt=ct.sibling;var qt=F(U,ct,H[Ct],W);if(qt===null){ct===null&&(ct=Vt);break}t&&ct&&qt.alternate===null&&n(U,ct),z=d(qt,z,Ct),Pt===null?dt=qt:Pt.sibling=qt,Pt=qt,ct=Vt}if(Ct===H.length)return a(U,ct),Lt&&Mi(U,Ct),dt;if(ct===null){for(;Ct<H.length;Ct++)ct=J(U,H[Ct],W),ct!==null&&(z=d(ct,z,Ct),Pt===null?dt=ct:Pt.sibling=ct,Pt=ct);return Lt&&Mi(U,Ct),dt}for(ct=l(ct);Ct<H.length;Ct++)Vt=K(ct,U,Ct,H[Ct],W),Vt!==null&&(t&&Vt.alternate!==null&&ct.delete(Vt.key===null?Ct:Vt.key),z=d(Vt,z,Ct),Pt===null?dt=Vt:Pt.sibling=Vt,Pt=Vt);return t&&ct.forEach(function(jr){return n(U,jr)}),Lt&&Mi(U,Ct),dt}function yt(U,z,H,W){if(H==null)throw Error(s(151));for(var dt=null,Pt=null,ct=z,Ct=z=0,Vt=null,qt=H.next();ct!==null&&!qt.done;Ct++,qt=H.next()){ct.index>Ct?(Vt=ct,ct=null):Vt=ct.sibling;var jr=F(U,ct,qt.value,W);if(jr===null){ct===null&&(ct=Vt);break}t&&ct&&jr.alternate===null&&n(U,ct),z=d(jr,z,Ct),Pt===null?dt=jr:Pt.sibling=jr,Pt=jr,ct=Vt}if(qt.done)return a(U,ct),Lt&&Mi(U,Ct),dt;if(ct===null){for(;!qt.done;Ct++,qt=H.next())qt=J(U,qt.value,W),qt!==null&&(z=d(qt,z,Ct),Pt===null?dt=qt:Pt.sibling=qt,Pt=qt);return Lt&&Mi(U,Ct),dt}for(ct=l(ct);!qt.done;Ct++,qt=H.next())qt=K(ct,U,Ct,qt.value,W),qt!==null&&(t&&qt.alternate!==null&&ct.delete(qt.key===null?Ct:qt.key),z=d(qt,z,Ct),Pt===null?dt=qt:Pt.sibling=qt,Pt=qt);return t&&ct.forEach(function(Jb){return n(U,Jb)}),Lt&&Mi(U,Ct),dt}function Jt(U,z,H,W){if(typeof H=="object"&&H!==null&&H.type===L&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case D:t:{for(var dt=H.key;z!==null;){if(z.key===dt){if(dt=H.type,dt===L){if(z.tag===7){a(U,z.sibling),W=h(z,H.props.children),W.return=U,U=W;break t}}else if(z.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===R&&_a(dt)===z.type){a(U,z.sibling),W=h(z,H.props),Al(W,H),W.return=U,U=W;break t}a(U,z);break}else n(U,z);z=z.sibling}H.type===L?(W=ma(H.props.children,U.mode,W,H.key),W.return=U,U=W):(W=ou(H.type,H.key,H.props,null,U.mode,W),Al(W,H),W.return=U,U=W)}return _(U);case V:t:{for(dt=H.key;z!==null;){if(z.key===dt)if(z.tag===4&&z.stateNode.containerInfo===H.containerInfo&&z.stateNode.implementation===H.implementation){a(U,z.sibling),W=h(z,H.children||[]),W.return=U,U=W;break t}else{a(U,z);break}else n(U,z);z=z.sibling}W=Th(H,U.mode,W),W.return=U,U=W}return _(U);case R:return H=_a(H),Jt(U,z,H,W)}if(Mt(H))return ut(U,z,H,W);if(j(H)){if(dt=j(H),typeof dt!="function")throw Error(s(150));return H=dt.call(H),yt(U,z,H,W)}if(typeof H.then=="function")return Jt(U,z,gu(H),W);if(H.$$typeof===it)return Jt(U,z,hu(U,H),W);pu(U,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,z!==null&&z.tag===6?(a(U,z.sibling),W=h(z,H),W.return=U,U=W):(a(U,z),W=bh(H,U.mode,W),W.return=U,U=W),_(U)):a(U,z)}return function(U,z,H,W){try{xl=0;var dt=Jt(U,z,H,W);return hs=null,dt}catch(ct){if(ct===cs||ct===du)throw ct;var Pt=yn(29,ct,null,U.mode);return Pt.lanes=W,Pt.return=U,Pt}}}var ba=Ig(!0),Vg=Ig(!1),yr=!1;function jh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function vr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function _r(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=lu(t),gg(t,null,a),n}return su(t,l,n,a),lu(t)}function wl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Js(t,a)}}function Lh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=n:d=d.next=n}else h=d=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var zh=!1;function Rl(){if(zh){var t=us;if(t!==null)throw t}}function Cl(t,n,a,l){zh=!1;var h=t.updateQueue;yr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,x=h.shared.pending;if(x!==null){h.shared.pending=null;var M=x,G=M.next;M.next=null,_===null?d=G:_.next=G,_=M;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,x=Z.lastBaseUpdate,x!==_&&(x===null?Z.firstBaseUpdate=G:x.next=G,Z.lastBaseUpdate=M))}if(d!==null){var J=h.baseState;_=0,Z=G=M=null,x=d;do{var F=x.lane&-536870913,K=F!==x.lane;if(K?(It&F)===F:(l&F)===F){F!==0&&F===os&&(zh=!0),Z!==null&&(Z=Z.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});t:{var ut=t,yt=x;F=n;var Jt=a;switch(yt.tag){case 1:if(ut=yt.payload,typeof ut=="function"){J=ut.call(Jt,J,F);break t}J=ut;break t;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=yt.payload,F=typeof ut=="function"?ut.call(Jt,J,F):ut,F==null)break t;J=T({},J,F);break t;case 2:yr=!0}}F=x.callback,F!==null&&(t.flags|=64,K&&(t.flags|=8192),K=h.callbacks,K===null?h.callbacks=[F]:K.push(F))}else K={lane:F,tag:x.tag,payload:x.payload,callback:x.callback,next:null},Z===null?(G=Z=K,M=J):Z=Z.next=K,_|=F;if(x=x.next,x===null){if(x=h.shared.pending,x===null)break;K=x,x=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);Z===null&&(M=J),h.baseState=M,h.firstBaseUpdate=G,h.lastBaseUpdate=Z,d===null&&(h.shared.lanes=0),xr|=_,t.lanes=_,t.memoizedState=J}}function Og(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function jg(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Og(a[t],n)}var fs=B(null),yu=B(0);function Mg(t,n){t=Qi,st(yu,t),st(fs,n),Qi=t|n.baseLanes}function Bh(){st(yu,Qi),st(fs,fs.current)}function kh(){Qi=yu.current,tt(fs),tt(yu)}var vn=B(null),jn=null;function Er(t){var n=t.alternate;st(me,me.current&1),st(vn,t),jn===null&&(n===null||fs.current!==null||n.memoizedState!==null)&&(jn=t)}function Uh(t){st(me,me.current),st(vn,t),jn===null&&(jn=t)}function Lg(t){t.tag===22?(st(me,me.current),st(vn,t),jn===null&&(jn=t)):br()}function br(){st(me,me.current),st(vn,vn.current)}function _n(t){tt(vn),jn===t&&(jn=null),tt(me)}var me=B(0);function vu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Yf(a)||Kf(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Bi=0,wt=null,Zt=null,xe=null,_u=!1,ds=!1,Ta=!1,Eu=0,Dl=0,ms=null,HE=0;function ce(){throw Error(s(321))}function Ph(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!pn(t[a],n[a]))return!1;return!0}function qh(t,n,a,l,h,d){return Bi=d,wt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,$.H=t===null||t.memoizedState===null?_p:rf,Ta=!1,d=a(l,h),Ta=!1,ds&&(d=Bg(n,a,l,h)),zg(t),d}function zg(t){$.H=Vl;var n=Zt!==null&&Zt.next!==null;if(Bi=0,xe=Zt=wt=null,_u=!1,Dl=0,ms=null,n)throw Error(s(300));t===null||Ae||(t=t.dependencies,t!==null&&cu(t)&&(Ae=!0))}function Bg(t,n,a,l){wt=t;var h=0;do{if(ds&&(ms=null),Dl=0,ds=!1,25<=h)throw Error(s(301));if(h+=1,xe=Zt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=Ep,d=n(a,l)}while(ds);return d}function GE(){var t=$.H,n=t.useState()[0];return n=typeof n.then=="function"?Nl(n):n,t=t.useState()[0],(Zt!==null?Zt.memoizedState:null)!==t&&(wt.flags|=1024),n}function Hh(){var t=Eu!==0;return Eu=0,t}function Gh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Fh(t){if(_u){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}_u=!1}Bi=0,xe=Zt=wt=null,ds=!1,Dl=Eu=0,ms=null}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xe===null?wt.memoizedState=xe=t:xe=xe.next=t,xe}function ge(){if(Zt===null){var t=wt.alternate;t=t!==null?t.memoizedState:null}else t=Zt.next;var n=xe===null?wt.memoizedState:xe.next;if(n!==null)xe=n,Zt=t;else{if(t===null)throw wt.alternate===null?Error(s(467)):Error(s(310));Zt=t,t={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},xe===null?wt.memoizedState=xe=t:xe=xe.next=t}return xe}function bu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nl(t){var n=Dl;return Dl+=1,ms===null&&(ms=[]),t=Cg(ms,t,n),n=wt,(xe===null?n.memoizedState:xe.next)===null&&(n=n.alternate,$.H=n===null||n.memoizedState===null?_p:rf),t}function Tu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Nl(t);if(t.$$typeof===it)return qe(t)}throw Error(s(438,String(t)))}function Qh(t){var n=null,a=wt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=wt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=bu(),wt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=S;return n.index++,a}function ki(t,n){return typeof n=="function"?n(t):n}function Su(t){var n=ge();return Yh(n,Zt,t)}function Yh(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}n.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{n=h.next;var x=_=null,M=null,G=n,Z=!1;do{var J=G.lane&-536870913;if(J!==G.lane?(It&J)===J:(Bi&J)===J){var F=G.revertLane;if(F===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),J===os&&(Z=!0);else if((Bi&F)===F){G=G.next,F===os&&(Z=!0);continue}else J={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},M===null?(x=M=J,_=d):M=M.next=J,wt.lanes|=F,xr|=F;J=G.action,Ta&&a(d,J),d=G.hasEagerState?G.eagerState:a(d,J)}else F={lane:J,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},M===null?(x=M=F,_=d):M=M.next=F,wt.lanes|=J,xr|=J;G=G.next}while(G!==null&&G!==n);if(M===null?_=d:M.next=x,!pn(d,t.memoizedState)&&(Ae=!0,Z&&(a=us,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=M,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Kh(t){var n=ge(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=n.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);pn(d,n.memoizedState)||(Ae=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),a.lastRenderedState=d}return[d,l]}function kg(t,n,a){var l=wt,h=ge(),d=Lt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=n();var _=!pn((Zt||h).memoizedState,a);if(_&&(h.memoizedState=a,Ae=!0),h=h.queue,Zh(qg.bind(null,l,h,t),[t]),h.getSnapshot!==n||_||xe!==null&&xe.memoizedState.tag&1){if(l.flags|=2048,gs(9,{destroy:void 0},Pg.bind(null,l,h,a,n),null),te===null)throw Error(s(349));d||(Bi&127)!==0||Ug(l,n,a)}return a}function Ug(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=wt.updateQueue,n===null?(n=bu(),wt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Pg(t,n,a,l){n.value=a,n.getSnapshot=l,Hg(n)&&Gg(t)}function qg(t,n,a){return a(function(){Hg(n)&&Gg(t)})}function Hg(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!pn(t,a)}catch{return!0}}function Gg(t){var n=da(t,2);n!==null&&cn(n,t,2)}function Xh(t){var n=tn();if(typeof t=="function"){var a=t;if(t=a(),Ta){xn(!0);try{a()}finally{xn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:t},n}function Fg(t,n,a,l){return t.baseState=a,Yh(t,Zt,typeof l=="function"?l:ki)}function FE(t,n,a,l,h){if(wu(t))throw Error(s(485));if(t=n.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};$.T!==null?a(!0):d.isTransition=!1,l(d),a=n.pending,a===null?(d.next=n.pending=d,Qg(n,d)):(d.next=a.next,n.pending=a.next=d)}}function Qg(t,n){var a=n.action,l=n.payload,h=t.state;if(n.isTransition){var d=$.T,_={};$.T=_;try{var x=a(h,l),M=$.S;M!==null&&M(_,x),Yg(t,n,x)}catch(G){$h(t,n,G)}finally{d!==null&&_.types!==null&&(d.types=_.types),$.T=d}}else try{d=a(h,l),Yg(t,n,d)}catch(G){$h(t,n,G)}}function Yg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Kg(t,n,l)},function(l){return $h(t,n,l)}):Kg(t,n,a)}function Kg(t,n,a){n.status="fulfilled",n.value=a,Xg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Qg(t,a)))}function $h(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Xg(n),n=n.next;while(n!==l)}t.action=null}function Xg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function $g(t,n){return n}function Zg(t,n){if(Lt){var a=te.formState;if(a!==null){t:{var l=wt;if(Lt){if(ee){e:{for(var h=ee,d=On;h.nodeType!==8;){if(!d){h=null;break e}if(h=Mn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ee=Mn(h.nextSibling),l=h.data==="F!";break t}}gr(l)}l=!1}l&&(n=a[0])}}return a=tn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$g,lastRenderedState:n},a.queue=l,a=pp.bind(null,wt,l),l.dispatch=a,l=Xh(!1),d=nf.bind(null,wt,!1,l.queue),l=tn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,a=FE.bind(null,wt,h,d,a),h.dispatch=a,l.memoizedState=t,[n,a,!1]}function Wg(t){var n=ge();return Jg(n,Zt,t)}function Jg(t,n,a){if(n=Yh(t,n,$g)[0],t=Su(ki)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Nl(n)}catch(_){throw _===cs?du:_}else l=n;n=ge();var h=n.queue,d=h.dispatch;return a!==n.memoizedState&&(wt.flags|=2048,gs(9,{destroy:void 0},QE.bind(null,h,a),null)),[l,d,t]}function QE(t,n){t.action=n}function tp(t){var n=ge(),a=Zt;if(a!==null)return Jg(n,a,t);ge(),n=n.memoizedState,a=ge();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function gs(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=wt.updateQueue,n===null&&(n=bu(),wt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function ep(){return ge().memoizedState}function xu(t,n,a,l){var h=tn();wt.flags|=t,h.memoizedState=gs(1|n,{destroy:void 0},a,l===void 0?null:l)}function Au(t,n,a,l){var h=ge();l=l===void 0?null:l;var d=h.memoizedState.inst;Zt!==null&&l!==null&&Ph(l,Zt.memoizedState.deps)?h.memoizedState=gs(n,d,a,l):(wt.flags|=t,h.memoizedState=gs(1|n,d,a,l))}function np(t,n){xu(8390656,8,t,n)}function Zh(t,n){Au(2048,8,t,n)}function YE(t){wt.flags|=4;var n=wt.updateQueue;if(n===null)n=bu(),wt.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function ip(t){var n=ge().memoizedState;return YE({ref:n,nextImpl:t}),function(){if((Gt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function rp(t,n){return Au(4,2,t,n)}function ap(t,n){return Au(4,4,t,n)}function sp(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function lp(t,n,a){a=a!=null?a.concat([t]):null,Au(4,4,sp.bind(null,n,t),a)}function Wh(){}function op(t,n){var a=ge();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Ph(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function up(t,n){var a=ge();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Ph(n,l[1]))return l[0];if(l=t(),Ta){xn(!0);try{t()}finally{xn(!1)}}return a.memoizedState=[l,n],l}function Jh(t,n,a){return a===void 0||(Bi&1073741824)!==0&&(It&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=cy(),wt.lanes|=t,xr|=t,a)}function cp(t,n,a,l){return pn(a,n)?a:fs.current!==null?(t=Jh(t,a,l),pn(t,n)||(Ae=!0),t):(Bi&42)===0||(Bi&1073741824)!==0&&(It&261930)===0?(Ae=!0,t.memoizedState=a):(t=cy(),wt.lanes|=t,xr|=t,n)}function hp(t,n,a,l,h){var d=at.p;at.p=d!==0&&8>d?d:8;var _=$.T,x={};$.T=x,nf(t,!1,n,a);try{var M=h(),G=$.S;if(G!==null&&G(x,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var Z=qE(M,l);Il(t,n,Z,Tn(t))}else Il(t,n,l,Tn(t))}catch(J){Il(t,n,{then:function(){},status:"rejected",reason:J},Tn())}finally{at.p=d,_!==null&&x.types!==null&&(_.types=x.types),$.T=_}}function KE(){}function tf(t,n,a,l){if(t.tag!==5)throw Error(s(476));var h=fp(t).queue;hp(t,h,n,mt,a===null?KE:function(){return dp(t),a(l)})}function fp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:mt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function dp(t){var n=fp(t);n.next===null&&(n=t.alternate.memoizedState),Il(t,n.next.queue,{},Tn())}function ef(){return qe(Kl)}function mp(){return ge().memoizedState}function gp(){return ge().memoizedState}function XE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Tn();t=vr(a);var l=_r(n,t,a);l!==null&&(cn(l,n,a),wl(l,n,a)),n={cache:Nh()},t.payload=n;return}n=n.return}}function $E(t,n,a){var l=Tn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},wu(t)?yp(n,a):(a=_h(t,n,a,l),a!==null&&(cn(a,t,l),vp(a,n,l)))}function pp(t,n,a){var l=Tn();Il(t,n,a,l)}function Il(t,n,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(wu(t))yp(n,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var _=n.lastRenderedState,x=d(_,a);if(h.hasEagerState=!0,h.eagerState=x,pn(x,_))return su(t,n,h,0),te===null&&au(),!1}catch{}if(a=_h(t,n,h,l),a!==null)return cn(a,t,l),vp(a,n,l),!0}return!1}function nf(t,n,a,l){if(l={lane:2,revertLane:Mf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},wu(t)){if(n)throw Error(s(479))}else n=_h(t,a,l,2),n!==null&&cn(n,t,2)}function wu(t){var n=t.alternate;return t===wt||n!==null&&n===wt}function yp(t,n){ds=_u=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function vp(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Js(t,a)}}var Vl={readContext:qe,use:Tu,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce};Vl.useEffectEvent=ce;var _p={readContext:qe,use:Tu,useCallback:function(t,n){return tn().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:np,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,xu(4194308,4,sp.bind(null,n,t),a)},useLayoutEffect:function(t,n){return xu(4194308,4,t,n)},useInsertionEffect:function(t,n){xu(4,2,t,n)},useMemo:function(t,n){var a=tn();n=n===void 0?null:n;var l=t();if(Ta){xn(!0);try{t()}finally{xn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=tn();if(a!==void 0){var h=a(n);if(Ta){xn(!0);try{a(n)}finally{xn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=$E.bind(null,wt,t),[l.memoizedState,t]},useRef:function(t){var n=tn();return t={current:t},n.memoizedState=t},useState:function(t){t=Xh(t);var n=t.queue,a=pp.bind(null,wt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Wh,useDeferredValue:function(t,n){var a=tn();return Jh(a,t,n)},useTransition:function(){var t=Xh(!1);return t=hp.bind(null,wt,t.queue,!0,!1),tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=wt,h=tn();if(Lt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),te===null)throw Error(s(349));(It&127)!==0||Ug(l,n,a)}h.memoizedState=a;var d={value:a,getSnapshot:n};return h.queue=d,np(qg.bind(null,l,d,t),[t]),l.flags|=2048,gs(9,{destroy:void 0},Pg.bind(null,l,d,a,n),null),a},useId:function(){var t=tn(),n=te.identifierPrefix;if(Lt){var a=vi,l=yi;a=(l&~(1<<32-fe(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Eu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=HE++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:ef,useFormState:Zg,useActionState:Zg,useOptimistic:function(t){var n=tn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=nf.bind(null,wt,!0,a),a.dispatch=n,[t,n]},useMemoCache:Qh,useCacheRefresh:function(){return tn().memoizedState=XE.bind(null,wt)},useEffectEvent:function(t){var n=tn(),a={impl:t};return n.memoizedState=a,function(){if((Gt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},rf={readContext:qe,use:Tu,useCallback:op,useContext:qe,useEffect:Zh,useImperativeHandle:lp,useInsertionEffect:rp,useLayoutEffect:ap,useMemo:up,useReducer:Su,useRef:ep,useState:function(){return Su(ki)},useDebugValue:Wh,useDeferredValue:function(t,n){var a=ge();return cp(a,Zt.memoizedState,t,n)},useTransition:function(){var t=Su(ki)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:Nl(t),n]},useSyncExternalStore:kg,useId:mp,useHostTransitionStatus:ef,useFormState:Wg,useActionState:Wg,useOptimistic:function(t,n){var a=ge();return Fg(a,Zt,t,n)},useMemoCache:Qh,useCacheRefresh:gp};rf.useEffectEvent=ip;var Ep={readContext:qe,use:Tu,useCallback:op,useContext:qe,useEffect:Zh,useImperativeHandle:lp,useInsertionEffect:rp,useLayoutEffect:ap,useMemo:up,useReducer:Kh,useRef:ep,useState:function(){return Kh(ki)},useDebugValue:Wh,useDeferredValue:function(t,n){var a=ge();return Zt===null?Jh(a,t,n):cp(a,Zt.memoizedState,t,n)},useTransition:function(){var t=Kh(ki)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:Nl(t),n]},useSyncExternalStore:kg,useId:mp,useHostTransitionStatus:ef,useFormState:tp,useActionState:tp,useOptimistic:function(t,n){var a=ge();return Zt!==null?Fg(a,Zt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Qh,useCacheRefresh:gp};Ep.useEffectEvent=ip;function af(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:T({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var sf={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=Tn(),h=vr(l);h.payload=n,a!=null&&(h.callback=a),n=_r(t,h,l),n!==null&&(cn(n,t,l),wl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=Tn(),h=vr(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=_r(t,h,l),n!==null&&(cn(n,t,l),wl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Tn(),l=vr(a);l.tag=2,n!=null&&(l.callback=n),n=_r(t,l,a),n!==null&&(cn(n,t,a),wl(n,t,a))}};function bp(t,n,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):n.prototype&&n.prototype.isPureReactComponent?!vl(a,l)||!vl(h,d):!0}function Tp(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&sf.enqueueReplaceState(n,n.state,null)}function Sa(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=T({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Sp(t){ru(t)}function xp(t){console.error(t)}function Ap(t){ru(t)}function Ru(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function wp(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function lf(t,n,a){return a=vr(a),a.tag=3,a.payload={element:null},a.callback=function(){Ru(t,n)},a}function Rp(t){return t=vr(t),t.tag=3,t}function Cp(t,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){wp(n,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){wp(n,a,l),typeof h!="function"&&(Ar===null?Ar=new Set([this]):Ar.add(this));var x=l.stack;this.componentDidCatch(l.value,{componentStack:x!==null?x:""})})}function ZE(t,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&ls(n,a,h,!0),a=vn.current,a!==null){switch(a.tag){case 31:case 13:return jn===null?ku():a.alternate===null&&he===0&&(he=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===mu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Vf(t,l,h)),!1;case 22:return a.flags|=65536,l===mu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Vf(t,l,h)),!1}throw Error(s(435,a.tag))}return Vf(t,l,h),ku(),!1}if(Lt)return n=vn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Ah&&(t=Error(s(422),{cause:l}),bl(Nn(t,a)))):(l!==Ah&&(n=Error(s(423),{cause:l}),bl(Nn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Nn(l,a),h=lf(t.stateNode,l,h),Lh(t,h),he!==4&&(he=2)),!1;var d=Error(s(520),{cause:l});if(d=Nn(d,a),Ul===null?Ul=[d]:Ul.push(d),he!==4&&(he=2),n===null)return!0;l=Nn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=lf(a.stateNode,l,t),Lh(a,t),!1;case 1:if(n=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ar===null||!Ar.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Rp(h),Cp(h,t,a,l),Lh(a,h),!1}a=a.return}while(a!==null);return!1}var of=Error(s(461)),Ae=!1;function He(t,n,a,l){n.child=t===null?Vg(n,null,a,l):ba(n,t.child,a,l)}function Dp(t,n,a,l,h){a=a.render;var d=n.ref;if("ref"in l){var _={};for(var x in l)x!=="ref"&&(_[x]=l[x])}else _=l;return ya(n),l=qh(t,n,a,_,d,h),x=Hh(),t!==null&&!Ae?(Gh(t,n,h),Ui(t,n,h)):(Lt&&x&&Sh(n),n.flags|=1,He(t,n,l,h),n.child)}function Np(t,n,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Eh(d)&&d.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=d,Ip(t,n,d,l,h)):(t=ou(a.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,!pf(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:vl,a(_,l)&&t.ref===n.ref)return Ui(t,n,h)}return n.flags|=1,t=ji(d,l),t.ref=n.ref,t.return=n,n.child=t}function Ip(t,n,a,l,h){if(t!==null){var d=t.memoizedProps;if(vl(d,l)&&t.ref===n.ref)if(Ae=!1,n.pendingProps=l=d,pf(t,h))(t.flags&131072)!==0&&(Ae=!0);else return n.lanes=t.lanes,Ui(t,n,h)}return uf(t,n,a,l,h)}function Vp(t,n,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,n.child=null;return Op(t,n,d,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&fu(n,d!==null?d.cachePool:null),d!==null?Mg(n,d):Bh(),Lg(n);else return l=n.lanes=536870912,Op(t,n,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(fu(n,d.cachePool),Mg(n,d),br(),n.memoizedState=null):(t!==null&&fu(n,null),Bh(),br());return He(t,n,h,a),n.child}function Ol(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Op(t,n,a,l,h){var d=Vh();return d=d===null?null:{parent:Se._currentValue,pool:d},n.memoizedState={baseLanes:a,cachePool:d},t!==null&&fu(n,null),Bh(),Lg(n),t!==null&&ls(t,n,l,!0),n.childLanes=h,null}function Cu(t,n){return n=Nu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function jp(t,n,a){return ba(n,t.child,null,a),t=Cu(n,n.pendingProps),t.flags|=2,_n(n),n.memoizedState=null,t}function WE(t,n,a){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Lt){if(l.mode==="hidden")return t=Cu(n,l),n.lanes=536870912,Ol(null,t);if(Uh(n),(t=ee)?(t=Qy(t,On),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:dr!==null?{id:yi,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},a=yg(t),a.return=n,n.child=a,Pe=n,ee=null)):t=null,t===null)throw gr(n);return n.lanes=536870912,null}return Cu(n,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Uh(n),h)if(n.flags&256)n.flags&=-257,n=jp(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(Ae||ls(t,n,a,!1),h=(a&t.childLanes)!==0,Ae||h){if(l=te,l!==null&&(_=tl(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,da(t,_),cn(l,t,_),of;ku(),n=jp(t,n,a)}else t=d.treeContext,ee=Mn(_.nextSibling),Pe=n,Lt=!0,mr=null,On=!1,t!==null&&Eg(n,t),n=Cu(n,l),n.flags|=4096;return n}return t=ji(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Du(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function uf(t,n,a,l,h){return ya(n),a=qh(t,n,a,l,void 0,h),l=Hh(),t!==null&&!Ae?(Gh(t,n,h),Ui(t,n,h)):(Lt&&l&&Sh(n),n.flags|=1,He(t,n,a,h),n.child)}function Mp(t,n,a,l,h,d){return ya(n),n.updateQueue=null,a=Bg(n,l,a,h),zg(t),l=Hh(),t!==null&&!Ae?(Gh(t,n,d),Ui(t,n,d)):(Lt&&l&&Sh(n),n.flags|=1,He(t,n,a,d),n.child)}function Lp(t,n,a,l,h){if(ya(n),n.stateNode===null){var d=is,_=a.contextType;typeof _=="object"&&_!==null&&(d=qe(_)),d=new a(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=sf,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},jh(n),_=a.contextType,d.context=typeof _=="object"&&_!==null?qe(_):is,d.state=n.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(af(n,a,_,l),d.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&sf.enqueueReplaceState(d,d.state,null),Cl(n,l,d,h),Rl(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){d=n.stateNode;var x=n.memoizedProps,M=Sa(a,x);d.props=M;var G=d.context,Z=a.contextType;_=is,typeof Z=="object"&&Z!==null&&(_=qe(Z));var J=a.getDerivedStateFromProps;Z=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",x=n.pendingProps!==x,Z||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(x||G!==_)&&Tp(n,d,l,_),yr=!1;var F=n.memoizedState;d.state=F,Cl(n,l,d,h),Rl(),G=n.memoizedState,x||F!==G||yr?(typeof J=="function"&&(af(n,a,J,l),G=n.memoizedState),(M=yr||bp(n,a,M,l,F,G,_))?(Z||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=G),d.props=l,d.state=G,d.context=_,l=M):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,Mh(t,n),_=n.memoizedProps,Z=Sa(a,_),d.props=Z,J=n.pendingProps,F=d.context,G=a.contextType,M=is,typeof G=="object"&&G!==null&&(M=qe(G)),x=a.getDerivedStateFromProps,(G=typeof x=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==J||F!==M)&&Tp(n,d,l,M),yr=!1,F=n.memoizedState,d.state=F,Cl(n,l,d,h),Rl();var K=n.memoizedState;_!==J||F!==K||yr||t!==null&&t.dependencies!==null&&cu(t.dependencies)?(typeof x=="function"&&(af(n,a,x,l),K=n.memoizedState),(Z=yr||bp(n,a,Z,l,F,K,M)||t!==null&&t.dependencies!==null&&cu(t.dependencies))?(G||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,M),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,M)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=K),d.props=l,d.state=K,d.context=M,l=Z):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(n.flags|=1024),l=!1)}return d=l,Du(t,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,t!==null&&l?(n.child=ba(n,t.child,null,h),n.child=ba(n,null,a,h)):He(t,n,a,h),n.memoizedState=d.state,t=n.child):t=Ui(t,n,h),t}function zp(t,n,a,l){return ga(),n.flags|=256,He(t,n,a,l),n.child}var cf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hf(t){return{baseLanes:t,cachePool:wg()}}function ff(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=bn),t}function Bp(t,n,a){var l=n.pendingProps,h=!1,d=(n.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(me.current&2)!==0),_&&(h=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,t===null){if(Lt){if(h?Er(n):br(),(t=ee)?(t=Qy(t,On),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:dr!==null?{id:yi,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},a=yg(t),a.return=n,n.child=a,Pe=n,ee=null)):t=null,t===null)throw gr(n);return Kf(t)?n.lanes=32:n.lanes=536870912,null}var x=l.children;return l=l.fallback,h?(br(),h=n.mode,x=Nu({mode:"hidden",children:x},h),l=ma(l,h,a,null),x.return=n,l.return=n,x.sibling=l,n.child=x,l=n.child,l.memoizedState=hf(a),l.childLanes=ff(t,_,a),n.memoizedState=cf,Ol(null,l)):(Er(n),df(n,x))}var M=t.memoizedState;if(M!==null&&(x=M.dehydrated,x!==null)){if(d)n.flags&256?(Er(n),n.flags&=-257,n=mf(t,n,a)):n.memoizedState!==null?(br(),n.child=t.child,n.flags|=128,n=null):(br(),x=l.fallback,h=n.mode,l=Nu({mode:"visible",children:l.children},h),x=ma(x,h,a,null),x.flags|=2,l.return=n,x.return=n,l.sibling=x,n.child=l,ba(n,t.child,null,a),l=n.child,l.memoizedState=hf(a),l.childLanes=ff(t,_,a),n.memoizedState=cf,n=Ol(null,l));else if(Er(n),Kf(x)){if(_=x.nextSibling&&x.nextSibling.dataset,_)var G=_.dgst;_=G,l=Error(s(419)),l.stack="",l.digest=_,bl({value:l,source:null,stack:null}),n=mf(t,n,a)}else if(Ae||ls(t,n,a,!1),_=(a&t.childLanes)!==0,Ae||_){if(_=te,_!==null&&(l=tl(_,a),l!==0&&l!==M.retryLane))throw M.retryLane=l,da(t,l),cn(_,t,l),of;Yf(x)||ku(),n=mf(t,n,a)}else Yf(x)?(n.flags|=192,n.child=t.child,n=null):(t=M.treeContext,ee=Mn(x.nextSibling),Pe=n,Lt=!0,mr=null,On=!1,t!==null&&Eg(n,t),n=df(n,l.children),n.flags|=4096);return n}return h?(br(),x=l.fallback,h=n.mode,M=t.child,G=M.sibling,l=ji(M,{mode:"hidden",children:l.children}),l.subtreeFlags=M.subtreeFlags&65011712,G!==null?x=ji(G,x):(x=ma(x,h,a,null),x.flags|=2),x.return=n,l.return=n,l.sibling=x,n.child=l,Ol(null,l),l=n.child,x=t.child.memoizedState,x===null?x=hf(a):(h=x.cachePool,h!==null?(M=Se._currentValue,h=h.parent!==M?{parent:M,pool:M}:h):h=wg(),x={baseLanes:x.baseLanes|a,cachePool:h}),l.memoizedState=x,l.childLanes=ff(t,_,a),n.memoizedState=cf,Ol(t.child,l)):(Er(n),a=t.child,t=a.sibling,a=ji(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(_=n.deletions,_===null?(n.deletions=[t],n.flags|=16):_.push(t)),n.child=a,n.memoizedState=null,a)}function df(t,n){return n=Nu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Nu(t,n){return t=yn(22,t,null,n),t.lanes=0,t}function mf(t,n,a){return ba(n,t.child,null,a),t=df(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function kp(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Ch(t.return,n,a)}function gf(t,n,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=n,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function Up(t,n,a){var l=n.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=me.current,x=(_&2)!==0;if(x?(_=_&1|2,n.flags|=128):_&=1,st(me,_),He(t,n,l,a),l=Lt?El:0,!x&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&kp(t,a,n);else if(t.tag===19)kp(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&vu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),gf(n,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&vu(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}gf(n,!0,a,null,d,l);break;case"together":gf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Ui(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),xr|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(ls(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=ji(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=ji(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function pf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&cu(t)))}function JE(t,n,a){switch(n.tag){case 3:Ne(n,n.stateNode.containerInfo),pr(n,Se,t.memoizedState.cache),ga();break;case 27:case 5:Xr(n);break;case 4:Ne(n,n.stateNode.containerInfo);break;case 10:pr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Uh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Er(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Bp(t,n,a):(Er(n),t=Ui(t,n,a),t!==null?t.sibling:null);Er(n);break;case 19:var h=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(ls(t,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return Up(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),st(me,me.current),l)break;return null;case 22:return n.lanes=0,Vp(t,n,a,n.pendingProps);case 24:pr(n,Se,t.memoizedState.cache)}return Ui(t,n,a)}function Pp(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ae=!0;else{if(!pf(t,a)&&(n.flags&128)===0)return Ae=!1,JE(t,n,a);Ae=(t.flags&131072)!==0}else Ae=!1,Lt&&(n.flags&1048576)!==0&&_g(n,El,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=_a(n.elementType),n.type=t,typeof t=="function")Eh(t)?(l=Sa(t,l),n.tag=1,n=Lp(null,n,t,l,a)):(n.tag=0,n=uf(null,n,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===ft){n.tag=11,n=Dp(null,n,t,l,a);break t}else if(h===O){n.tag=14,n=Np(null,n,t,l,a);break t}}throw n=Et(t)||t,Error(s(306,n,""))}}return n;case 0:return uf(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=Sa(l,n.pendingProps),Lp(t,n,l,h,a);case 3:t:{if(Ne(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var d=n.memoizedState;h=d.element,Mh(t,n),Cl(n,l,null,a);var _=n.memoizedState;if(l=_.cache,pr(n,Se,l),l!==d.cache&&Dh(n,[Se],a,!0),Rl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=zp(t,n,l,a);break t}else if(l!==h){h=Nn(Error(s(424)),n),bl(h),n=zp(t,n,l,a);break t}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ee=Mn(t.firstChild),Pe=n,Lt=!0,mr=null,On=!0,a=Vg(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ga(),l===h){n=Ui(t,n,a);break t}He(t,n,l,a)}n=n.child}return n;case 26:return Du(t,n),t===null?(a=Wy(n.type,null,n.pendingProps,null))?n.memoizedState=a:Lt||(a=n.type,t=n.pendingProps,l=Qu(Rt.current).createElement(a),l[Ee]=n,l[Me]=t,Ge(l,a,t),be(l),n.stateNode=l):n.memoizedState=Wy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Xr(n),t===null&&Lt&&(l=n.stateNode=Xy(n.type,n.pendingProps,Rt.current),Pe=n,On=!0,h=ee,Dr(n.type)?(Xf=h,ee=Mn(l.firstChild)):ee=h),He(t,n,n.pendingProps.children,a),Du(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Lt&&((h=l=ee)&&(l=Db(l,n.type,n.pendingProps,On),l!==null?(n.stateNode=l,Pe=n,ee=Mn(l.firstChild),On=!1,h=!0):h=!1),h||gr(n)),Xr(n),h=n.type,d=n.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Gf(h,d)?l=null:_!==null&&Gf(h,_)&&(n.flags|=32),n.memoizedState!==null&&(h=qh(t,n,GE,null,null,a),Kl._currentValue=h),Du(t,n),He(t,n,l,a),n.child;case 6:return t===null&&Lt&&((t=a=ee)&&(a=Nb(a,n.pendingProps,On),a!==null?(n.stateNode=a,Pe=n,ee=null,t=!0):t=!1),t||gr(n)),null;case 13:return Bp(t,n,a);case 4:return Ne(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ba(n,null,l,a):He(t,n,l,a),n.child;case 11:return Dp(t,n,n.type,n.pendingProps,a);case 7:return He(t,n,n.pendingProps,a),n.child;case 8:return He(t,n,n.pendingProps.children,a),n.child;case 12:return He(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,pr(n,n.type,l.value),He(t,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,ya(n),h=qe(h),l=l(h),n.flags|=1,He(t,n,l,a),n.child;case 14:return Np(t,n,n.type,n.pendingProps,a);case 15:return Ip(t,n,n.type,n.pendingProps,a);case 19:return Up(t,n,a);case 31:return WE(t,n,a);case 22:return Vp(t,n,a,n.pendingProps);case 24:return ya(n),l=qe(Se),t===null?(h=Vh(),h===null&&(h=te,d=Nh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),n.memoizedState={parent:l,cache:h},jh(n),pr(n,Se,h)):((t.lanes&a)!==0&&(Mh(t,n),Cl(n,null,null,a),Rl()),h=t.memoizedState,d=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),pr(n,Se,l)):(l=d.cache,pr(n,Se,l),l!==h.cache&&Dh(n,[Se],a,!0))),He(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Pi(t){t.flags|=4}function yf(t,n,a,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(my())t.flags|=8192;else throw Ea=mu,Oh}else t.flags&=-16777217}function qp(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!i0(n))if(my())t.flags|=8192;else throw Ea=mu,Oh}function Iu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?zo():536870912,t.lanes|=n,_s|=n)}function jl(t,n){if(!Lt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ne(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function tb(t,n,a){var l=n.pendingProps;switch(xh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),zi(Se),ae(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ss(n)?Pi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,wh())),ne(n),null;case 26:var h=n.type,d=n.memoizedState;return t===null?(Pi(n),d!==null?(ne(n),qp(n,d)):(ne(n),yf(n,h,null,l,a))):d?d!==t.memoizedState?(Pi(n),ne(n),qp(n,d)):(ne(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Pi(n),ne(n),yf(n,h,t,l,a)),null;case 27:if(Ba(n),a=Rt.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Pi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ne(n),null}t=ot.current,ss(n)?bg(n):(t=Xy(h,l,a),n.stateNode=t,Pi(n))}return ne(n),null;case 5:if(Ba(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Pi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ne(n),null}if(d=ot.current,ss(n))bg(n);else{var _=Qu(Rt.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[Ee]=n,d[Me]=l;t:for(_=n.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===n)break t;for(;_.sibling===null;){if(_.return===null||_.return===n)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}n.stateNode=d;t:switch(Ge(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Pi(n)}}return ne(n),yf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Pi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=Rt.current,ss(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,h=Pe,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Ee]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||By(t.nodeValue,a)),t||gr(n,!0)}else t=Qu(t).createTextNode(l),t[Ee]=n,n.stateNode=t}return ne(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=ss(n),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Ee]=n}else ga(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),t=!1}else a=wh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(_n(n),n):(_n(n),null);if((n.flags&128)!==0)throw Error(s(558))}return ne(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ss(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ee]=n}else ga(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),h=!1}else h=wh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(_n(n),n):(_n(n),null)}return _n(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),Iu(n,n.updateQueue),ne(n),null);case 4:return ae(),t===null&&kf(n.stateNode.containerInfo),ne(n),null;case 10:return zi(n.type),ne(n),null;case 19:if(tt(me),l=n.memoizedState,l===null)return ne(n),null;if(h=(n.flags&128)!==0,d=l.rendering,d===null)if(h)jl(l,!1);else{if(he!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(d=vu(t),d!==null){for(n.flags|=128,jl(l,!1),t=d.updateQueue,n.updateQueue=t,Iu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)pg(a,t),a=a.sibling;return st(me,me.current&1|2),Lt&&Mi(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&We()>Lu&&(n.flags|=128,h=!0,jl(l,!1),n.lanes=4194304)}else{if(!h)if(t=vu(d),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Iu(n,t),jl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Lt)return ne(n),null}else 2*We()-l.renderingStartTime>Lu&&a!==536870912&&(n.flags|=128,h=!0,jl(l,!1),n.lanes=4194304);l.isBackwards?(d.sibling=n.child,n.child=d):(t=l.last,t!==null?t.sibling=d:n.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=We(),t.sibling=null,a=me.current,st(me,h?a&1|2:a&1),Lt&&Mi(n,l.treeForkCount),t):(ne(n),null);case 22:case 23:return _n(n),kh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),a=n.updateQueue,a!==null&&Iu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&tt(va),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),zi(Se),ne(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function eb(t,n){switch(xh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return zi(Se),ae(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ba(n),null;case 31:if(n.memoizedState!==null){if(_n(n),n.alternate===null)throw Error(s(340));ga()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(_n(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));ga()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return tt(me),null;case 4:return ae(),null;case 10:return zi(n.type),null;case 22:case 23:return _n(n),kh(),t!==null&&tt(va),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return zi(Se),null;case 25:return null;default:return null}}function Hp(t,n){switch(xh(n),n.tag){case 3:zi(Se),ae();break;case 26:case 27:case 5:Ba(n);break;case 4:ae();break;case 31:n.memoizedState!==null&&_n(n);break;case 13:_n(n);break;case 19:tt(me);break;case 10:zi(n.type);break;case 22:case 23:_n(n),kh(),t!==null&&tt(va);break;case 24:zi(Se)}}function Ml(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(x){Xt(n,n.return,x)}}function Tr(t,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,x=_.destroy;if(x!==void 0){_.destroy=void 0,h=n;var M=a,G=x;try{G()}catch(Z){Xt(h,M,Z)}}}l=l.next}while(l!==d)}}catch(Z){Xt(n,n.return,Z)}}function Gp(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{jg(n,a)}catch(l){Xt(t,t.return,l)}}}function Fp(t,n,a){a.props=Sa(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Xt(t,n,l)}}function Ll(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Xt(t,n,h)}}function _i(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Xt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Xt(t,n,h)}else a.current=null}function Qp(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Xt(t,t.return,h)}}function vf(t,n,a){try{var l=t.stateNode;Sb(l,t.type,a,n),l[Me]=n}catch(h){Xt(t,t.return,h)}}function Yp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Dr(t.type)||t.tag===4}function _f(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Yp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Dr(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ef(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Gn));else if(l!==4&&(l===27&&Dr(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Ef(t,n,a),t=t.sibling;t!==null;)Ef(t,n,a),t=t.sibling}function Vu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Dr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Vu(t,n,a),t=t.sibling;t!==null;)Vu(t,n,a),t=t.sibling}function Kp(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ge(n,l,a),n[Ee]=t,n[Me]=a}catch(d){Xt(t,t.return,d)}}var qi=!1,we=!1,bf=!1,Xp=typeof WeakSet=="function"?WeakSet:Set,ze=null;function nb(t,n){if(t=t.containerInfo,qf=Ju,t=lg(t),dh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,x=-1,M=-1,G=0,Z=0,J=t,F=null;e:for(;;){for(var K;J!==a||h!==0&&J.nodeType!==3||(x=_+h),J!==d||l!==0&&J.nodeType!==3||(M=_+l),J.nodeType===3&&(_+=J.nodeValue.length),(K=J.firstChild)!==null;)F=J,J=K;for(;;){if(J===t)break e;if(F===a&&++G===h&&(x=_),F===d&&++Z===l&&(M=_),(K=J.nextSibling)!==null)break;J=F,F=J.parentNode}J=K}a=x===-1||M===-1?null:{start:x,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for(Hf={focusedElem:t,selectionRange:a},Ju=!1,ze=n;ze!==null;)if(n=ze,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,ze=t;else for(;ze!==null;){switch(n=ze,d=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=n,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ut=Sa(a.type,h);t=l.getSnapshotBeforeUpdate(ut,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(yt){Xt(a,a.return,yt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Qf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Qf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,ze=t;break}ze=n.return}}function $p(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Gi(t,a),l&4&&Ml(5,a);break;case 1:if(Gi(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(_){Xt(a,a.return,_)}else{var h=Sa(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Xt(a,a.return,_)}}l&64&&Gp(a),l&512&&Ll(a,a.return);break;case 3:if(Gi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{jg(t,n)}catch(_){Xt(a,a.return,_)}}break;case 27:n===null&&l&4&&Kp(a);case 26:case 5:Gi(t,a),n===null&&l&4&&Qp(a),l&512&&Ll(a,a.return);break;case 12:Gi(t,a);break;case 31:Gi(t,a),l&4&&Jp(t,a);break;case 13:Gi(t,a),l&4&&ty(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=hb.bind(null,a),Ib(t,a))));break;case 22:if(l=a.memoizedState!==null||qi,!l){n=n!==null&&n.memoizedState!==null||we,h=qi;var d=we;qi=l,(we=n)&&!d?Fi(t,a,(a.subtreeFlags&8772)!==0):Gi(t,a),qi=h,we=d}break;case 30:break;default:Gi(t,a)}}function Zp(t){var n=t.alternate;n!==null&&(t.alternate=null,Zp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ha(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var le=null,sn=!1;function Hi(t,n,a){for(a=a.child;a!==null;)Wp(t,n,a),a=a.sibling}function Wp(t,n,a){if(ke&&typeof ke.onCommitFiberUnmount=="function")try{ke.onCommitFiberUnmount(Un,a)}catch{}switch(a.tag){case 26:we||_i(a,n),Hi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:we||_i(a,n);var l=le,h=sn;Dr(a.type)&&(le=a.stateNode,sn=!1),Hi(t,n,a),Fl(a.stateNode),le=l,sn=h;break;case 5:we||_i(a,n);case 6:if(l=le,h=sn,le=null,Hi(t,n,a),le=l,sn=h,le!==null)if(sn)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(a.stateNode)}catch(d){Xt(a,n,d)}else try{le.removeChild(a.stateNode)}catch(d){Xt(a,n,d)}break;case 18:le!==null&&(sn?(t=le,Gy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Rs(t)):Gy(le,a.stateNode));break;case 4:l=le,h=sn,le=a.stateNode.containerInfo,sn=!0,Hi(t,n,a),le=l,sn=h;break;case 0:case 11:case 14:case 15:Tr(2,a,n),we||Tr(4,a,n),Hi(t,n,a);break;case 1:we||(_i(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Fp(a,n,l)),Hi(t,n,a);break;case 21:Hi(t,n,a);break;case 22:we=(l=we)||a.memoizedState!==null,Hi(t,n,a),we=l;break;default:Hi(t,n,a)}}function Jp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Rs(t)}catch(a){Xt(n,n.return,a)}}}function ty(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Rs(t)}catch(a){Xt(n,n.return,a)}}function ib(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Xp),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Xp),n;default:throw Error(s(435,t.tag))}}function Ou(t,n){var a=ib(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var h=fb.bind(null,t,l);l.then(h,h)}})}function ln(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=n,x=_;t:for(;x!==null;){switch(x.tag){case 27:if(Dr(x.type)){le=x.stateNode,sn=!1;break t}break;case 5:le=x.stateNode,sn=!1;break t;case 3:case 4:le=x.stateNode.containerInfo,sn=!0;break t}x=x.return}if(le===null)throw Error(s(160));Wp(d,_,h),le=null,sn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ey(n,t),n=n.sibling}var $n=null;function ey(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(n,t),on(t),l&4&&(Tr(3,t,t.return),Ml(3,t),Tr(5,t,t.return));break;case 1:ln(n,t),on(t),l&512&&(we||a===null||_i(a,a.return)),l&64&&qi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=$n;if(ln(n,t),on(t),l&512&&(we||a===null||_i(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ai]||d[Ee]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Ge(d,l,a),d[Ee]=t,be(d),l=d;break t;case"link":var _=e0("link","href",h).get(l+(a.href||""));if(_){for(var x=0;x<_.length;x++)if(d=_[x],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(x,1);break e}}d=h.createElement(l),Ge(d,l,a),h.head.appendChild(d);break;case"meta":if(_=e0("meta","content",h).get(l+(a.content||""))){for(x=0;x<_.length;x++)if(d=_[x],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(x,1);break e}}d=h.createElement(l),Ge(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Ee]=t,be(d),l=d}t.stateNode=l}else n0(h,t.type,t.stateNode);else t.stateNode=t0(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?n0(h,t.type,t.stateNode):t0(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&vf(t,t.memoizedProps,a.memoizedProps)}break;case 27:ln(n,t),on(t),l&512&&(we||a===null||_i(a,a.return)),a!==null&&l&4&&vf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(ln(n,t),on(t),l&512&&(we||a===null||_i(a,a.return)),t.flags&32){h=t.stateNode;try{an(h,"")}catch(ut){Xt(t,t.return,ut)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,vf(t,h,a!==null?a.memoizedProps:h)),l&1024&&(bf=!0);break;case 6:if(ln(n,t),on(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ut){Xt(t,t.return,ut)}}break;case 3:if(Xu=null,h=$n,$n=Yu(n.containerInfo),ln(n,t),$n=h,on(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Rs(n.containerInfo)}catch(ut){Xt(t,t.return,ut)}bf&&(bf=!1,ny(t));break;case 4:l=$n,$n=Yu(t.stateNode.containerInfo),ln(n,t),on(t),$n=l;break;case 12:ln(n,t),on(t);break;case 31:ln(n,t),on(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ou(t,l)));break;case 13:ln(n,t),on(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Mu=We()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ou(t,l)));break;case 22:h=t.memoizedState!==null;var M=a!==null&&a.memoizedState!==null,G=qi,Z=we;if(qi=G||h,we=Z||M,ln(n,t),we=Z,qi=G,on(t),l&8192)t:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||M||qi||we||xa(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){M=a=n;try{if(d=M.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{x=M.stateNode;var J=M.memoizedProps.style,F=J!=null&&J.hasOwnProperty("display")?J.display:null;x.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(ut){Xt(M,M.return,ut)}}}else if(n.tag===6){if(a===null){M=n;try{M.stateNode.nodeValue=h?"":M.memoizedProps}catch(ut){Xt(M,M.return,ut)}}}else if(n.tag===18){if(a===null){M=n;try{var K=M.stateNode;h?Fy(K,!0):Fy(M.stateNode,!1)}catch(ut){Xt(M,M.return,ut)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Ou(t,a))));break;case 19:ln(n,t),on(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ou(t,l)));break;case 30:break;case 21:break;default:ln(n,t),on(t)}}function on(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Yp(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=_f(t);Vu(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(an(_,""),a.flags&=-33);var x=_f(t);Vu(t,x,_);break;case 3:case 4:var M=a.stateNode.containerInfo,G=_f(t);Ef(t,G,M);break;default:throw Error(s(161))}}catch(Z){Xt(t,t.return,Z)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function ny(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;ny(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Gi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)$p(t,n.alternate,n),n=n.sibling}function xa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Tr(4,n,n.return),xa(n);break;case 1:_i(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Fp(n,n.return,a),xa(n);break;case 27:Fl(n.stateNode);case 26:case 5:_i(n,n.return),xa(n);break;case 22:n.memoizedState===null&&xa(n);break;case 30:xa(n);break;default:xa(n)}t=t.sibling}}function Fi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,d=n,_=d.flags;switch(d.tag){case 0:case 11:case 15:Fi(h,d,a),Ml(4,d);break;case 1:if(Fi(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(G){Xt(l,l.return,G)}if(l=d,h=l.updateQueue,h!==null){var x=l.stateNode;try{var M=h.shared.hiddenCallbacks;if(M!==null)for(h.shared.hiddenCallbacks=null,h=0;h<M.length;h++)Og(M[h],x)}catch(G){Xt(l,l.return,G)}}a&&_&64&&Gp(d),Ll(d,d.return);break;case 27:Kp(d);case 26:case 5:Fi(h,d,a),a&&l===null&&_&4&&Qp(d),Ll(d,d.return);break;case 12:Fi(h,d,a);break;case 31:Fi(h,d,a),a&&_&4&&Jp(h,d);break;case 13:Fi(h,d,a),a&&_&4&&ty(h,d);break;case 22:d.memoizedState===null&&Fi(h,d,a),Ll(d,d.return);break;case 30:break;default:Fi(h,d,a)}n=n.sibling}}function Tf(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Tl(a))}function Sf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Tl(t))}function Zn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)iy(t,n,a,l),n=n.sibling}function iy(t,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Zn(t,n,a,l),h&2048&&Ml(9,n);break;case 1:Zn(t,n,a,l);break;case 3:Zn(t,n,a,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Tl(t)));break;case 12:if(h&2048){Zn(t,n,a,l),t=n.stateNode;try{var d=n.memoizedProps,_=d.id,x=d.onPostCommit;typeof x=="function"&&x(_,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(M){Xt(n,n.return,M)}}else Zn(t,n,a,l);break;case 31:Zn(t,n,a,l);break;case 13:Zn(t,n,a,l);break;case 23:break;case 22:d=n.stateNode,_=n.alternate,n.memoizedState!==null?d._visibility&2?Zn(t,n,a,l):zl(t,n):d._visibility&2?Zn(t,n,a,l):(d._visibility|=2,ps(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Tf(_,n);break;case 24:Zn(t,n,a,l),h&2048&&Sf(n.alternate,n);break;default:Zn(t,n,a,l)}}function ps(t,n,a,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var d=t,_=n,x=a,M=l,G=_.flags;switch(_.tag){case 0:case 11:case 15:ps(d,_,x,M,h),Ml(8,_);break;case 23:break;case 22:var Z=_.stateNode;_.memoizedState!==null?Z._visibility&2?ps(d,_,x,M,h):zl(d,_):(Z._visibility|=2,ps(d,_,x,M,h)),h&&G&2048&&Tf(_.alternate,_);break;case 24:ps(d,_,x,M,h),h&&G&2048&&Sf(_.alternate,_);break;default:ps(d,_,x,M,h)}n=n.sibling}}function zl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,h=l.flags;switch(l.tag){case 22:zl(a,l),h&2048&&Tf(l.alternate,l);break;case 24:zl(a,l),h&2048&&Sf(l.alternate,l);break;default:zl(a,l)}n=n.sibling}}var Bl=8192;function ys(t,n,a){if(t.subtreeFlags&Bl)for(t=t.child;t!==null;)ry(t,n,a),t=t.sibling}function ry(t,n,a){switch(t.tag){case 26:ys(t,n,a),t.flags&Bl&&t.memoizedState!==null&&Hb(a,$n,t.memoizedState,t.memoizedProps);break;case 5:ys(t,n,a);break;case 3:case 4:var l=$n;$n=Yu(t.stateNode.containerInfo),ys(t,n,a),$n=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Bl,Bl=16777216,ys(t,n,a),Bl=l):ys(t,n,a));break;default:ys(t,n,a)}}function ay(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function kl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];ze=l,ly(l,t)}ay(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)sy(t),t=t.sibling}function sy(t){switch(t.tag){case 0:case 11:case 15:kl(t),t.flags&2048&&Tr(9,t,t.return);break;case 3:kl(t);break;case 12:kl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,ju(t)):kl(t);break;default:kl(t)}}function ju(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];ze=l,ly(l,t)}ay(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Tr(8,n,n.return),ju(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,ju(n));break;default:ju(n)}t=t.sibling}}function ly(t,n){for(;ze!==null;){var a=ze;switch(a.tag){case 0:case 11:case 15:Tr(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Tl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,ze=l;else t:for(a=t;ze!==null;){l=ze;var h=l.sibling,d=l.return;if(Zp(l),l===a){ze=null;break t}if(h!==null){h.return=d,ze=h;break t}ze=d}}}var rb={getCacheForType:function(t){var n=qe(Se),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return qe(Se).controller.signal}},ab=typeof WeakMap=="function"?WeakMap:Map,Gt=0,te=null,Dt=null,It=0,Kt=0,En=null,Sr=!1,vs=!1,xf=!1,Qi=0,he=0,xr=0,Aa=0,Af=0,bn=0,_s=0,Ul=null,un=null,wf=!1,Mu=0,oy=0,Lu=1/0,zu=null,Ar=null,Ve=0,wr=null,Es=null,Yi=0,Rf=0,Cf=null,uy=null,Pl=0,Df=null;function Tn(){return(Gt&2)!==0&&It!==0?It&-It:$.T!==null?Mf():Bo()}function cy(){if(bn===0)if((It&536870912)===0||Lt){var t=Wr;Wr<<=1,(Wr&3932160)===0&&(Wr=262144),bn=t}else bn=536870912;return t=vn.current,t!==null&&(t.flags|=32),bn}function cn(t,n,a){(t===te&&(Kt===2||Kt===9)||t.cancelPendingCommit!==null)&&(bs(t,0),Rr(t,It,bn,!1)),Jr(t,a),((Gt&2)===0||t!==te)&&(t===te&&((Gt&2)===0&&(Aa|=a),he===4&&Rr(t,It,bn,!1)),Ei(t))}function hy(t,n,a){if((Gt&6)!==0)throw Error(s(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Pn(t,n),h=l?ob(t,n):If(t,n,!0),d=l;do{if(h===0){vs&&!l&&Rr(t,n,0,!1);break}else{if(a=t.current.alternate,d&&!sb(a)){h=If(t,n,!1),d=!1;continue}if(h===2){if(d=n,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;t:{var x=t;h=Ul;var M=x.current.memoizedState.isDehydrated;if(M&&(bs(x,_).flags|=256),_=If(x,_,!1),_!==2){if(xf&&!M){x.errorRecoveryDisabledLanes|=d,Aa|=d,h=4;break t}d=un,un=h,d!==null&&(un===null?un=d:un.push.apply(un,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){bs(t,0),Rr(t,n,0,!0);break}t:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Rr(l,n,bn,!Sr);break t;case 2:un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=Mu+300-We(),10<h)){if(Rr(l,n,bn,!Sr),ni(l,0,!0)!==0)break t;Yi=n,l.timeoutHandle=qy(fy.bind(null,l,a,un,zu,wf,n,bn,Aa,_s,Sr,d,"Throttled",-0,0),h);break t}fy(l,a,un,zu,wf,n,bn,Aa,_s,Sr,d,null,-0,0)}}break}while(!0);Ei(t)}function fy(t,n,a,l,h,d,_,x,M,G,Z,J,F,K){if(t.timeoutHandle=-1,J=n.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gn},ry(n,d,J);var ut=(d&62914560)===d?Mu-We():(d&4194048)===d?oy-We():0;if(ut=Gb(J,ut),ut!==null){Yi=d,t.cancelPendingCommit=ut(Ey.bind(null,t,n,d,a,l,h,_,x,M,Z,J,null,F,K)),Rr(t,d,_,!G);return}}Ey(t,n,d,a,l,h,_,x,M)}function sb(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!pn(d(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Rr(t,n,a,l){n&=~Af,n&=~Aa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var d=31-fe(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&ta(t,a,n)}function Bu(){return(Gt&6)===0?(ql(0),!1):!0}function Nf(){if(Dt!==null){if(Kt===0)var t=Dt.return;else t=Dt,Li=pa=null,Fh(t),hs=null,xl=0,t=Dt;for(;t!==null;)Hp(t.alternate,t),t=t.return;Dt=null}}function bs(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,wb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Yi=0,Nf(),te=t,Dt=a=ji(t.current,null),It=n,Kt=0,En=null,Sr=!1,vs=Pn(t,n),xf=!1,_s=bn=Af=Aa=xr=he=0,un=Ul=null,wf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-fe(l),d=1<<h;n|=t[h],l&=~d}return Qi=n,au(),a}function dy(t,n){wt=null,$.H=Vl,n===cs||n===du?(n=Dg(),Kt=3):n===Oh?(n=Dg(),Kt=4):Kt=n===of?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,En=n,Dt===null&&(he=1,Ru(t,Nn(n,t.current)))}function my(){var t=vn.current;return t===null?!0:(It&4194048)===It?jn===null:(It&62914560)===It||(It&536870912)!==0?t===jn:!1}function gy(){var t=$.H;return $.H=Vl,t===null?Vl:t}function py(){var t=$.A;return $.A=rb,t}function ku(){he=4,Sr||(It&4194048)!==It&&vn.current!==null||(vs=!0),(xr&134217727)===0&&(Aa&134217727)===0||te===null||Rr(te,It,bn,!1)}function If(t,n,a){var l=Gt;Gt|=2;var h=gy(),d=py();(te!==t||It!==n)&&(zu=null,bs(t,n)),n=!1;var _=he;t:do try{if(Kt!==0&&Dt!==null){var x=Dt,M=En;switch(Kt){case 8:Nf(),_=6;break t;case 3:case 2:case 9:case 6:vn.current===null&&(n=!0);var G=Kt;if(Kt=0,En=null,Ts(t,x,M,G),a&&vs){_=0;break t}break;default:G=Kt,Kt=0,En=null,Ts(t,x,M,G)}}lb(),_=he;break}catch(Z){dy(t,Z)}while(!0);return n&&t.shellSuspendCounter++,Li=pa=null,Gt=l,$.H=h,$.A=d,Dt===null&&(te=null,It=0,au()),_}function lb(){for(;Dt!==null;)yy(Dt)}function ob(t,n){var a=Gt;Gt|=2;var l=gy(),h=py();te!==t||It!==n?(zu=null,Lu=We()+500,bs(t,n)):vs=Pn(t,n);t:do try{if(Kt!==0&&Dt!==null){n=Dt;var d=En;e:switch(Kt){case 1:Kt=0,En=null,Ts(t,n,d,1);break;case 2:case 9:if(Rg(d)){Kt=0,En=null,vy(n);break}n=function(){Kt!==2&&Kt!==9||te!==t||(Kt=7),Ei(t)},d.then(n,n);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:Rg(d)?(Kt=0,En=null,vy(n)):(Kt=0,En=null,Ts(t,n,d,7));break;case 5:var _=null;switch(Dt.tag){case 26:_=Dt.memoizedState;case 5:case 27:var x=Dt;if(_?i0(_):x.stateNode.complete){Kt=0,En=null;var M=x.sibling;if(M!==null)Dt=M;else{var G=x.return;G!==null?(Dt=G,Uu(G)):Dt=null}break e}}Kt=0,En=null,Ts(t,n,d,5);break;case 6:Kt=0,En=null,Ts(t,n,d,6);break;case 8:Nf(),he=6;break t;default:throw Error(s(462))}}ub();break}catch(Z){dy(t,Z)}while(!0);return Li=pa=null,$.H=l,$.A=h,Gt=a,Dt!==null?0:(te=null,It=0,au(),he)}function ub(){for(;Dt!==null&&!sh();)yy(Dt)}function yy(t){var n=Pp(t.alternate,t,Qi);t.memoizedProps=t.pendingProps,n===null?Uu(t):Dt=n}function vy(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Mp(a,n,n.pendingProps,n.type,void 0,It);break;case 11:n=Mp(a,n,n.pendingProps,n.type.render,n.ref,It);break;case 5:Fh(n);default:Hp(a,n),n=Dt=pg(n,Qi),n=Pp(a,n,Qi)}t.memoizedProps=t.pendingProps,n===null?Uu(t):Dt=n}function Ts(t,n,a,l){Li=pa=null,Fh(n),hs=null,xl=0;var h=n.return;try{if(ZE(t,h,n,a,It)){he=1,Ru(t,Nn(a,t.current)),Dt=null;return}}catch(d){if(h!==null)throw Dt=h,d;he=1,Ru(t,Nn(a,t.current)),Dt=null;return}n.flags&32768?(Lt||l===1?t=!0:vs||(It&536870912)!==0?t=!1:(Sr=t=!0,(l===2||l===9||l===3||l===6)&&(l=vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),_y(n,t)):Uu(n)}function Uu(t){var n=t;do{if((n.flags&32768)!==0){_y(n,Sr);return}t=n.return;var a=tb(n.alternate,n,Qi);if(a!==null){Dt=a;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=t}while(n!==null);he===0&&(he=5)}function _y(t,n){do{var a=eb(t.alternate,t);if(a!==null){a.flags&=32767,Dt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Dt=t;return}Dt=t=a}while(t!==null);he=6,Dt=null}function Ey(t,n,a,l,h,d,_,x,M){t.cancelPendingCommit=null;do Pu();while(Ve!==0);if((Gt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(d=n.lanes|n.childLanes,d|=vh,uh(t,a,d,_,x,M),t===te&&(Dt=te=null,It=0),Es=n,wr=t,Yi=a,Rf=d,Cf=h,uy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,db(ir,function(){return Ay(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,h=at.p,at.p=2,_=Gt,Gt|=4;try{nb(t,n,a)}finally{Gt=_,at.p=h,$.T=l}}Ve=1,by(),Ty(),Sy()}}function by(){if(Ve===1){Ve=0;var t=wr,n=Es,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var l=at.p;at.p=2;var h=Gt;Gt|=4;try{ey(n,t);var d=Hf,_=lg(t.containerInfo),x=d.focusedElem,M=d.selectionRange;if(_!==x&&x&&x.ownerDocument&&sg(x.ownerDocument.documentElement,x)){if(M!==null&&dh(x)){var G=M.start,Z=M.end;if(Z===void 0&&(Z=G),"selectionStart"in x)x.selectionStart=G,x.selectionEnd=Math.min(Z,x.value.length);else{var J=x.ownerDocument||document,F=J&&J.defaultView||window;if(F.getSelection){var K=F.getSelection(),ut=x.textContent.length,yt=Math.min(M.start,ut),Jt=M.end===void 0?yt:Math.min(M.end,ut);!K.extend&&yt>Jt&&(_=Jt,Jt=yt,yt=_);var U=ag(x,yt),z=ag(x,Jt);if(U&&z&&(K.rangeCount!==1||K.anchorNode!==U.node||K.anchorOffset!==U.offset||K.focusNode!==z.node||K.focusOffset!==z.offset)){var H=J.createRange();H.setStart(U.node,U.offset),K.removeAllRanges(),yt>Jt?(K.addRange(H),K.extend(z.node,z.offset)):(H.setEnd(z.node,z.offset),K.addRange(H))}}}}for(J=[],K=x;K=K.parentNode;)K.nodeType===1&&J.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<J.length;x++){var W=J[x];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Ju=!!qf,Hf=qf=null}finally{Gt=h,at.p=l,$.T=a}}t.current=n,Ve=2}}function Ty(){if(Ve===2){Ve=0;var t=wr,n=Es,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var l=at.p;at.p=2;var h=Gt;Gt|=4;try{$p(t,n.alternate,n)}finally{Gt=h,at.p=l,$.T=a}}Ve=3}}function Sy(){if(Ve===4||Ve===3){Ve=0,Io();var t=wr,n=Es,a=Yi,l=uy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ve=5:(Ve=0,Es=wr=null,xy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ar=null),Ni(a),n=n.stateNode,ke&&typeof ke.onCommitFiberRoot=="function")try{ke.onCommitFiberRoot(Un,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=$.T,h=at.p,at.p=2,$.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var x=l[_];d(x.value,{componentStack:x.stack})}}finally{$.T=n,at.p=h}}(Yi&3)!==0&&Pu(),Ei(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Df?Pl++:(Pl=0,Df=t):Pl=0,ql(0)}}function xy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Tl(n)))}function Pu(){return by(),Ty(),Sy(),Ay()}function Ay(){if(Ve!==5)return!1;var t=wr,n=Rf;Rf=0;var a=Ni(Yi),l=$.T,h=at.p;try{at.p=32>a?32:a,$.T=null,a=Cf,Cf=null;var d=wr,_=Yi;if(Ve=0,Es=wr=null,Yi=0,(Gt&6)!==0)throw Error(s(331));var x=Gt;if(Gt|=4,sy(d.current),iy(d,d.current,_,a),Gt=x,ql(0,!1),ke&&typeof ke.onPostCommitFiberRoot=="function")try{ke.onPostCommitFiberRoot(Un,d)}catch{}return!0}finally{at.p=h,$.T=l,xy(t,n)}}function wy(t,n,a){n=Nn(a,n),n=lf(t.stateNode,n,2),t=_r(t,n,2),t!==null&&(Jr(t,2),Ei(t))}function Xt(t,n,a){if(t.tag===3)wy(t,t,a);else for(;n!==null;){if(n.tag===3){wy(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ar===null||!Ar.has(l))){t=Nn(a,t),a=Rp(2),l=_r(n,a,2),l!==null&&(Cp(a,l,n,t),Jr(l,2),Ei(l));break}}n=n.return}}function Vf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new ab;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(xf=!0,h.add(a),t=cb.bind(null,t,n,a),n.then(t,t))}function cb(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,te===t&&(It&a)===a&&(he===4||he===3&&(It&62914560)===It&&300>We()-Mu?(Gt&2)===0&&bs(t,0):Af|=a,_s===It&&(_s=0)),Ei(t)}function Ry(t,n){n===0&&(n=zo()),t=da(t,n),t!==null&&(Jr(t,n),Ei(t))}function hb(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Ry(t,a)}function fb(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Ry(t,a)}function db(t,n){return Ie(t,n)}var qu=null,Ss=null,Of=!1,Hu=!1,jf=!1,Cr=0;function Ei(t){t!==Ss&&t.next===null&&(Ss===null?qu=Ss=t:Ss=Ss.next=t),Hu=!0,Of||(Of=!0,gb())}function ql(t,n){if(!jf&&Hu){jf=!0;do for(var a=!1,l=qu;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,x=l.pingedLanes;d=(1<<31-fe(42|t)+1)-1,d&=h&~(_&~x),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Iy(l,d))}else d=It,d=ni(l,l===te?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Pn(l,d)||(a=!0,Iy(l,d));l=l.next}while(a);jf=!1}}function mb(){Cy()}function Cy(){Hu=Of=!1;var t=0;Cr!==0&&Ab()&&(t=Cr);for(var n=We(),a=null,l=qu;l!==null;){var h=l.next,d=Dy(l,n);d===0?(l.next=null,a===null?qu=h:a.next=h,h===null&&(Ss=a)):(a=l,(t!==0||(d&3)!==0)&&(Hu=!0)),l=h}Ve!==0&&Ve!==5||ql(t),Cr!==0&&(Cr=0)}function Dy(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-fe(d),x=1<<_,M=h[_];M===-1?((x&a)===0||(x&l)!==0)&&(h[_]=oh(x,n)):M<=n&&(t.expiredLanes|=x),d&=~x}if(n=te,a=It,a=ni(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Kt===2||Kt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&nr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Pn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&nr(l),Ni(a)){case 2:case 8:a=Ws;break;case 32:a=ir;break;case 268435456:a=Vo;break;default:a=ir}return l=Ny.bind(null,t),a=Ie(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&nr(l),t.callbackPriority=2,t.callbackNode=null,2}function Ny(t,n){if(Ve!==0&&Ve!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Pu()&&t.callbackNode!==a)return null;var l=It;return l=ni(t,t===te?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(hy(t,l,n),Dy(t,We()),t.callbackNode!=null&&t.callbackNode===a?Ny.bind(null,t):null)}function Iy(t,n){if(Pu())return null;hy(t,n,!0)}function gb(){Rb(function(){(Gt&6)!==0?Ie(Zs,mb):Cy()})}function Mf(){if(Cr===0){var t=os;t===0&&(t=ti,ti<<=1,(ti&261888)===0&&(ti=256)),Cr=t}return Cr}function Vy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ya(""+t)}function Oy(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function pb(t,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var d=Vy((h[Me]||null).action),_=l.submitter;_&&(n=(n=_[Me]||null)?Vy(n.formAction):_.getAttribute("formAction"),n!==null&&(d=n,_=null));var x=new di("action","action",null,l,h);t.push({event:x,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Cr!==0){var M=_?Oy(h,_):new FormData(h);tf(a,{pending:!0,data:M,method:h.method,action:d},null,M)}}else typeof d=="function"&&(x.preventDefault(),M=_?Oy(h,_):new FormData(h),tf(a,{pending:!0,data:M,method:h.method,action:d},d,M))},currentTarget:h}]})}}for(var Lf=0;Lf<yh.length;Lf++){var zf=yh[Lf],yb=zf.toLowerCase(),vb=zf[0].toUpperCase()+zf.slice(1);Xn(yb,"on"+vb)}Xn(cg,"onAnimationEnd"),Xn(hg,"onAnimationIteration"),Xn(fg,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(jE,"onTransitionRun"),Xn(ME,"onTransitionStart"),Xn(LE,"onTransitionCancel"),Xn(dg,"onTransitionEnd"),ui("onMouseEnter",["mouseout","mouseover"]),ui("onMouseLeave",["mouseout","mouseover"]),ui("onPointerEnter",["pointerout","pointerover"]),ui("onPointerLeave",["pointerout","pointerover"]),oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_b=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hl));function jy(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;t:{var d=void 0;if(n)for(var _=l.length-1;0<=_;_--){var x=l[_],M=x.instance,G=x.currentTarget;if(x=x.listener,M!==d&&h.isPropagationStopped())break t;d=x,h.currentTarget=G;try{d(h)}catch(Z){ru(Z)}h.currentTarget=null,d=M}else for(_=0;_<l.length;_++){if(x=l[_],M=x.instance,G=x.currentTarget,x=x.listener,M!==d&&h.isPropagationStopped())break t;d=x,h.currentTarget=G;try{d(h)}catch(Z){ru(Z)}h.currentTarget=null,d=M}}}}function Nt(t,n){var a=n[qa];a===void 0&&(a=n[qa]=new Set);var l=t+"__bubble";a.has(l)||(My(n,t,2,!1),a.add(l))}function Bf(t,n,a){var l=0;n&&(l|=4),My(a,t,l,n)}var Gu="_reactListening"+Math.random().toString(36).slice(2);function kf(t){if(!t[Gu]){t[Gu]=!0,el.forEach(function(a){a!=="selectionchange"&&(_b.has(a)||Bf(a,!1,t),Bf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Gu]||(n[Gu]=!0,Bf("selectionchange",!1,n))}}function My(t,n,a,l){switch(c0(n)){case 2:var h=Yb;break;case 8:h=Kb;break;default:h=td}a=h.bind(null,n,a,t),h=void 0,!aa||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function Uf(t,n,a,l,h){var d=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var x=l.stateNode.containerInfo;if(x===h)break;if(_===4)for(_=l.return;_!==null;){var M=_.tag;if((M===3||M===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;x!==null;){if(_=si(x),_===null)return;if(M=_.tag,M===5||M===6||M===26||M===27){l=d=_;continue t}x=x.parentNode}}l=l.return}ur(function(){var G=d,Z=wn(a),J=[];t:{var F=mg.get(t);if(F!==void 0){var K=di,ut=t;switch(t){case"keypress":if(la(a)===0)break t;case"keydown":case"keyup":K=eu;break;case"focusin":ut="focus",K=ua;break;case"focusout":ut="blur",K=ua;break;case"beforeblur":case"afterblur":K=ua;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=ml;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Qo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=y;break;case cg:case hg:case fg:K=Ko;break;case dg:K=C;break;case"scroll":case"scrollend":K=dl;break;case"wheel":K=Y;break;case"copy":case"cut":case"paste":K=Xo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Oi;break;case"toggle":case"beforetoggle":K=At}var yt=(n&4)!==0,Jt=!yt&&(t==="scroll"||t==="scrollend"),U=yt?F!==null?F+"Capture":null:F;yt=[];for(var z=G,H;z!==null;){var W=z;if(H=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||H===null||U===null||(W=Fn(z,U),W!=null&&yt.push(Gl(z,W,H))),Jt)break;z=z.return}0<yt.length&&(F=new K(F,ut,null,a,Z),J.push({event:F,listeners:yt}))}}if((n&7)===0){t:{if(F=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",F&&a!==cl&&(ut=a.relatedTarget||a.fromElement)&&(si(ut)||ut[ri]))break t;if((K||F)&&(F=Z.window===Z?Z:(F=Z.ownerDocument)?F.defaultView||F.parentWindow:window,K?(ut=a.relatedTarget||a.toElement,K=G,ut=ut?si(ut):null,ut!==null&&(Jt=u(ut),yt=ut.tag,ut!==Jt||yt!==5&&yt!==27&&yt!==6)&&(ut=null)):(K=null,ut=G),K!==ut)){if(yt=ml,W="onMouseLeave",U="onMouseEnter",z="mouse",(t==="pointerout"||t==="pointerover")&&(yt=Oi,W="onPointerLeave",U="onPointerEnter",z="pointer"),Jt=K==null?F:mn(K),H=ut==null?F:mn(ut),F=new yt(W,z+"leave",K,a,Z),F.target=Jt,F.relatedTarget=H,W=null,si(Z)===G&&(yt=new yt(U,z+"enter",ut,a,Z),yt.target=H,yt.relatedTarget=Jt,W=yt),Jt=W,K&&ut)e:{for(yt=Eb,U=K,z=ut,H=0,W=U;W;W=yt(W))H++;W=0;for(var dt=z;dt;dt=yt(dt))W++;for(;0<H-W;)U=yt(U),H--;for(;0<W-H;)z=yt(z),W--;for(;H--;){if(U===z||z!==null&&U===z.alternate){yt=U;break e}U=yt(U),z=yt(z)}yt=null}else yt=null;K!==null&&Ly(J,F,K,yt,!1),ut!==null&&Jt!==null&&Ly(J,Jt,ut,yt,!0)}}t:{if(F=G?mn(G):window,K=F.nodeName&&F.nodeName.toLowerCase(),K==="select"||K==="input"&&F.type==="file")var Pt=Jm;else if(Zm(F))if(tg)Pt=IE;else{Pt=DE;var ct=CE}else K=F.nodeName,!K||K.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?G&&Qa(G.elementType)&&(Pt=Jm):Pt=NE;if(Pt&&(Pt=Pt(t,G))){Wm(J,Pt,a,Z);break t}ct&&ct(t,F,G),t==="focusout"&&G&&F.type==="number"&&G.memoizedProps.value!=null&&ll(F,"number",F.value)}switch(ct=G?mn(G):window,t){case"focusin":(Zm(ct)||ct.contentEditable==="true")&&(ts=ct,mh=G,_l=null);break;case"focusout":_l=mh=ts=null;break;case"mousedown":gh=!0;break;case"contextmenu":case"mouseup":case"dragend":gh=!1,og(J,a,Z);break;case"selectionchange":if(OE)break;case"keydown":case"keyup":og(J,a,Z)}var Ct;if(Ht)t:{switch(t){case"compositionstart":var Vt="onCompositionStart";break t;case"compositionend":Vt="onCompositionEnd";break t;case"compositionupdate":Vt="onCompositionUpdate";break t}Vt=void 0}else Ja?ca(t,a)&&(Vt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Vt="onCompositionStart");Vt&&(pi&&a.locale!=="ko"&&(Ja||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&Ja&&(Ct=fl()):(fi=Z,hl="value"in fi?fi.value:fi.textContent,Ja=!0)),ct=Fu(G,Vt),0<ct.length&&(Vt=new gi(Vt,t,null,a,Z),J.push({event:Vt,listeners:ct}),Ct?Vt.data=Ct:(Ct=Wa(a),Ct!==null&&(Vt.data=Ct)))),(Ct=Cn?xE(t,a):AE(t,a))&&(Vt=Fu(G,"onBeforeInput"),0<Vt.length&&(ct=new gi("onBeforeInput","beforeinput",null,a,Z),J.push({event:ct,listeners:Vt}),ct.data=Ct)),pb(J,t,G,a,Z)}jy(J,n)})}function Gl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Fu(t,n){for(var a=n+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Fn(t,a),h!=null&&l.unshift(Gl(t,h,d)),h=Fn(t,n),h!=null&&l.push(Gl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Eb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ly(t,n,a,l,h){for(var d=n._reactName,_=[];a!==null&&a!==l;){var x=a,M=x.alternate,G=x.stateNode;if(x=x.tag,M!==null&&M===l)break;x!==5&&x!==26&&x!==27||G===null||(M=G,h?(G=Fn(a,d),G!=null&&_.unshift(Gl(a,G,M))):h||(G=Fn(a,d),G!=null&&_.push(Gl(a,G,M)))),a=a.return}_.length!==0&&t.push({event:n,listeners:_})}var bb=/\r\n?/g,Tb=/\u0000|\uFFFD/g;function zy(t){return(typeof t=="string"?t:""+t).replace(bb,`
`).replace(Tb,"")}function By(t,n){return n=zy(n),zy(t)===n}function Wt(t,n,a,l,h,d){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||an(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&an(t,""+l);break;case"className":gn(t,"class",l);break;case"tabIndex":gn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":gn(t,a,l);break;case"style":ul(t,l,d);break;case"data":if(n!=="object"){gn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ya(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(n!=="input"&&Wt(t,n,"name",h.name,h,null),Wt(t,n,"formEncType",h.formEncType,h,null),Wt(t,n,"formMethod",h.formMethod,h,null),Wt(t,n,"formTarget",h.formTarget,h,null)):(Wt(t,n,"encType",h.encType,h,null),Wt(t,n,"method",h.method,h,null),Wt(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ya(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Gn);break;case"onScroll":l!=null&&Nt("scroll",t);break;case"onScrollEnd":l!=null&&Nt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ya(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Nt("beforetoggle",t),Nt("toggle",t),Ga(t,"popover",l);break;case"xlinkActuate":Te(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Te(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Te(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Te(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Te(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Te(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Te(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Te(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Te(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ga(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Fo.get(a)||a,Ga(t,a,l))}}function Pf(t,n,a,l,h,d){switch(a){case"style":ul(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?an(t,l):(typeof l=="number"||typeof l=="bigint")&&an(t,""+l);break;case"onScroll":l!=null&&Nt("scroll",t);break;case"onScrollEnd":l!=null&&Nt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!nl.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),d=t[Me]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(n,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,h);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ga(t,a,l)}}}function Ge(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",t),Nt("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Wt(t,n,d,_,a,null)}}h&&Wt(t,n,"srcSet",a.srcSet,a,null),l&&Wt(t,n,"src",a.src,a,null);return;case"input":Nt("invalid",t);var x=d=_=h=null,M=null,G=null;for(l in a)if(a.hasOwnProperty(l)){var Z=a[l];if(Z!=null)switch(l){case"name":h=Z;break;case"type":_=Z;break;case"checked":M=Z;break;case"defaultChecked":G=Z;break;case"value":d=Z;break;case"defaultValue":x=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,n));break;default:Wt(t,n,l,Z,a,null)}}qo(t,d,x,M,G,_,h,!1);return;case"select":Nt("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(x=a[h],x!=null))switch(h){case"value":d=x;break;case"defaultValue":_=x;break;case"multiple":l=x;default:Wt(t,n,h,x,a,null)}n=d,a=_,t.multiple=!!l,n!=null?ar(t,!!l,n,!1):a!=null&&ar(t,!!l,a,!0);return;case"textarea":Nt("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(x=a[_],x!=null))switch(_){case"value":l=x;break;case"defaultValue":h=x;break;case"children":d=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(91));break;default:Wt(t,n,_,x,a,null)}sr(t,l,h,d);return;case"option":for(M in a)a.hasOwnProperty(M)&&(l=a[M],l!=null)&&(M==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":Wt(t,n,M,l,a,null));return;case"dialog":Nt("beforetoggle",t),Nt("toggle",t),Nt("cancel",t),Nt("close",t);break;case"iframe":case"object":Nt("load",t);break;case"video":case"audio":for(l=0;l<Hl.length;l++)Nt(Hl[l],t);break;case"image":Nt("error",t),Nt("load",t);break;case"details":Nt("toggle",t);break;case"embed":case"source":case"link":Nt("error",t),Nt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(l=a[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Wt(t,n,G,l,a,null)}return;default:if(Qa(n)){for(Z in a)a.hasOwnProperty(Z)&&(l=a[Z],l!==void 0&&Pf(t,n,Z,l,a,void 0));return}}for(x in a)a.hasOwnProperty(x)&&(l=a[x],l!=null&&Wt(t,n,x,l,a,null))}function Sb(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,x=null,M=null,G=null,Z=null;for(K in a){var J=a[K];if(a.hasOwnProperty(K)&&J!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":M=J;default:l.hasOwnProperty(K)||Wt(t,n,K,null,l,J)}}for(var F in l){var K=l[F];if(J=a[F],l.hasOwnProperty(F)&&(K!=null||J!=null))switch(F){case"type":d=K;break;case"name":h=K;break;case"checked":G=K;break;case"defaultChecked":Z=K;break;case"value":_=K;break;case"defaultValue":x=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,n));break;default:K!==J&&Wt(t,n,F,K,l,J)}}Fa(t,_,x,M,G,Z,d,h);return;case"select":K=_=x=F=null;for(d in a)if(M=a[d],a.hasOwnProperty(d)&&M!=null)switch(d){case"value":break;case"multiple":K=M;default:l.hasOwnProperty(d)||Wt(t,n,d,null,l,M)}for(h in l)if(d=l[h],M=a[h],l.hasOwnProperty(h)&&(d!=null||M!=null))switch(h){case"value":F=d;break;case"defaultValue":x=d;break;case"multiple":_=d;default:d!==M&&Wt(t,n,h,d,l,M)}n=x,a=_,l=K,F!=null?ar(t,!!a,F,!1):!!l!=!!a&&(n!=null?ar(t,!!a,n,!0):ar(t,!!a,a?[]:"",!1));return;case"textarea":K=F=null;for(x in a)if(h=a[x],a.hasOwnProperty(x)&&h!=null&&!l.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Wt(t,n,x,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":F=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Wt(t,n,_,h,l,d)}Ho(t,F,K);return;case"option":for(var ut in a)F=a[ut],a.hasOwnProperty(ut)&&F!=null&&!l.hasOwnProperty(ut)&&(ut==="selected"?t.selected=!1:Wt(t,n,ut,null,l,F));for(M in l)F=l[M],K=a[M],l.hasOwnProperty(M)&&F!==K&&(F!=null||K!=null)&&(M==="selected"?t.selected=F&&typeof F!="function"&&typeof F!="symbol":Wt(t,n,M,F,l,K));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in a)F=a[yt],a.hasOwnProperty(yt)&&F!=null&&!l.hasOwnProperty(yt)&&Wt(t,n,yt,null,l,F);for(G in l)if(F=l[G],K=a[G],l.hasOwnProperty(G)&&F!==K&&(F!=null||K!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,n));break;default:Wt(t,n,G,F,l,K)}return;default:if(Qa(n)){for(var Jt in a)F=a[Jt],a.hasOwnProperty(Jt)&&F!==void 0&&!l.hasOwnProperty(Jt)&&Pf(t,n,Jt,void 0,l,F);for(Z in l)F=l[Z],K=a[Z],!l.hasOwnProperty(Z)||F===K||F===void 0&&K===void 0||Pf(t,n,Z,F,l,K);return}}for(var U in a)F=a[U],a.hasOwnProperty(U)&&F!=null&&!l.hasOwnProperty(U)&&Wt(t,n,U,null,l,F);for(J in l)F=l[J],K=a[J],!l.hasOwnProperty(J)||F===K||F==null&&K==null||Wt(t,n,J,F,l,K)}function ky(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function xb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,x=h.duration;if(d&&x&&ky(_)){for(_=0,x=h.responseEnd,l+=1;l<a.length;l++){var M=a[l],G=M.startTime;if(G>x)break;var Z=M.transferSize,J=M.initiatorType;Z&&ky(J)&&(M=M.responseEnd,_+=Z*(M<x?1:(x-G)/(M-G)))}if(--l,n+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var qf=null,Hf=null;function Qu(t){return t.nodeType===9?t:t.ownerDocument}function Uy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Py(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Gf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ff=null;function Ab(){var t=window.event;return t&&t.type==="popstate"?t===Ff?!1:(Ff=t,!0):(Ff=null,!1)}var qy=typeof setTimeout=="function"?setTimeout:void 0,wb=typeof clearTimeout=="function"?clearTimeout:void 0,Hy=typeof Promise=="function"?Promise:void 0,Rb=typeof queueMicrotask=="function"?queueMicrotask:typeof Hy<"u"?function(t){return Hy.resolve(null).then(t).catch(Cb)}:qy;function Cb(t){setTimeout(function(){throw t})}function Dr(t){return t==="head"}function Gy(t,n){var a=n,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Rs(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Fl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Fl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,x=d.nodeName;d[ai]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Fl(t.ownerDocument.body);a=h}while(a);Rs(n)}function Fy(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Qf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Qf(a),Ha(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Db(t,n,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ai])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Mn(t.nextSibling),t===null)break}return null}function Nb(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Mn(t.nextSibling),t===null))return null;return t}function Qy(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Mn(t.nextSibling),t===null))return null;return t}function Yf(t){return t.data==="$?"||t.data==="$~"}function Kf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Ib(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Mn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Xf=null;function Yy(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Mn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function Ky(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function Xy(t,n,a){switch(n=Qu(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Fl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ha(t)}var Ln=new Map,$y=new Set;function Yu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ki=at.d;at.d={f:Vb,r:Ob,D:jb,C:Mb,L:Lb,m:zb,X:kb,S:Bb,M:Ub};function Vb(){var t=Ki.f(),n=Bu();return t||n}function Ob(t){var n=An(t);n!==null&&n.tag===5&&n.type==="form"?dp(n):Ki.r(t)}var xs=typeof document>"u"?null:document;function Zy(t,n,a){var l=xs;if(l&&typeof n=="string"&&n){var h=rn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),$y.has(h)||($y.add(h),t={rel:t,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Ge(n,"link",t),be(n),l.head.appendChild(n)))}}function jb(t){Ki.D(t),Zy("dns-prefetch",t,null)}function Mb(t,n){Ki.C(t,n),Zy("preconnect",t,n)}function Lb(t,n,a){Ki.L(t,n,a);var l=xs;if(l&&t&&n){var h='link[rel="preload"][as="'+rn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+rn(a.imageSizes)+'"]')):h+='[href="'+rn(t)+'"]';var d=h;switch(n){case"style":d=As(t);break;case"script":d=ws(t)}Ln.has(d)||(t=T({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Ln.set(d,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(Ql(d))||n==="script"&&l.querySelector(Yl(d))||(n=l.createElement("link"),Ge(n,"link",t),be(n),l.head.appendChild(n)))}}function zb(t,n){Ki.m(t,n);var a=xs;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+rn(l)+'"][href="'+rn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ws(t)}if(!Ln.has(d)&&(t=T({rel:"modulepreload",href:t},n),Ln.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Yl(d)))return}l=a.createElement("link"),Ge(l,"link",t),be(l),a.head.appendChild(l)}}}function Bb(t,n,a){Ki.S(t,n,a);var l=xs;if(l&&t){var h=li(l).hoistableStyles,d=As(t);n=n||"default";var _=h.get(d);if(!_){var x={loading:0,preload:null};if(_=l.querySelector(Ql(d)))x.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Ln.get(d))&&$f(t,a);var M=_=l.createElement("link");be(M),Ge(M,"link",t),M._p=new Promise(function(G,Z){M.onload=G,M.onerror=Z}),M.addEventListener("load",function(){x.loading|=1}),M.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Ku(_,n,l)}_={type:"stylesheet",instance:_,count:1,state:x},h.set(d,_)}}}function kb(t,n){Ki.X(t,n);var a=xs;if(a&&t){var l=li(a).hoistableScripts,h=ws(t),d=l.get(h);d||(d=a.querySelector(Yl(h)),d||(t=T({src:t,async:!0},n),(n=Ln.get(h))&&Zf(t,n),d=a.createElement("script"),be(d),Ge(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Ub(t,n){Ki.M(t,n);var a=xs;if(a&&t){var l=li(a).hoistableScripts,h=ws(t),d=l.get(h);d||(d=a.querySelector(Yl(h)),d||(t=T({src:t,async:!0,type:"module"},n),(n=Ln.get(h))&&Zf(t,n),d=a.createElement("script"),be(d),Ge(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Wy(t,n,a,l){var h=(h=Rt.current)?Yu(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=As(a.href),a=li(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=As(a.href);var d=li(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(Ql(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Ln.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(t,a),d||Pb(h,t,a,_.state))),n&&l===null)throw Error(s(528,""));return _}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ws(a),a=li(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function As(t){return'href="'+rn(t)+'"'}function Ql(t){return'link[rel="stylesheet"]['+t+"]"}function Jy(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function Pb(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ge(n,"link",a),be(n),t.head.appendChild(n))}function ws(t){return'[src="'+rn(t)+'"]'}function Yl(t){return"script[async]"+t}function t0(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+rn(a.href)+'"]');if(l)return n.instance=l,be(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),be(l),Ge(l,"style",h),Ku(l,a.precedence,t),n.instance=l;case"stylesheet":h=As(a.href);var d=t.querySelector(Ql(h));if(d)return n.state.loading|=4,n.instance=d,be(d),d;l=Jy(a),(h=Ln.get(h))&&$f(l,h),d=(t.ownerDocument||t).createElement("link"),be(d);var _=d;return _._p=new Promise(function(x,M){_.onload=x,_.onerror=M}),Ge(d,"link",l),n.state.loading|=4,Ku(d,a.precedence,t),n.instance=d;case"script":return d=ws(a.src),(h=t.querySelector(Yl(d)))?(n.instance=h,be(h),h):(l=a,(h=Ln.get(d))&&(l=T({},a),Zf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),be(h),Ge(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Ku(l,a.precedence,t));return n.instance}function Ku(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var x=l[_];if(x.dataset.precedence===n)d=x;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function $f(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Zf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Xu=null;function e0(t,n,a){if(Xu===null){var l=new Map,h=Xu=new Map;h.set(a,l)}else h=Xu,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[ai]||d[Ee]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(n)||"";_=t+_;var x=l.get(_);x?x.push(d):l.set(_,[d])}}return l}function n0(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function qb(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function i0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Hb(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=As(l.href),d=n.querySelector(Ql(h));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=$u.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=d,be(d);return}d=n.ownerDocument||n,l=Jy(l),(h=Ln.get(h))&&$f(l,h),d=d.createElement("link"),be(d);var _=d;_._p=new Promise(function(x,M){_.onload=x,_.onerror=M}),Ge(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=$u.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Wf=0;function Gb(t,n){return t.stylesheets&&t.count===0&&Wu(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Wu(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+n);0<t.imgBytes&&Wf===0&&(Wf=62500*xb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Wu(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Wf?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function $u(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Wu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Zu=null;function Wu(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Zu=new Map,n.forEach(Fb,t),Zu=null,$u.call(t))}function Fb(t,n){if(!(n.state.loading&4)){var a=Zu.get(t);if(a)var l=a.get(null);else{a=new Map,Zu.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=n.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=$u.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Kl={$$typeof:it,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function Qb(t,n,a,l,h,d,_,x,M){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.hiddenUpdates=ii(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function r0(t,n,a,l,h,d,_,x,M,G,Z,J){return t=new Qb(t,n,a,_,M,G,Z,J,x),n=1,d===!0&&(n|=24),d=yn(3,null,null,n),t.current=d,d.stateNode=t,n=Nh(),n.refCount++,t.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:n},jh(d),t}function a0(t){return t?(t=is,t):is}function s0(t,n,a,l,h,d){h=a0(h),l.context===null?l.context=h:l.pendingContext=h,l=vr(n),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=_r(t,l,n),a!==null&&(cn(a,t,n),wl(a,t,n))}function l0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Jf(t,n){l0(t,n),(t=t.alternate)&&l0(t,n)}function o0(t){if(t.tag===13||t.tag===31){var n=da(t,67108864);n!==null&&cn(n,t,67108864),Jf(t,67108864)}}function u0(t){if(t.tag===13||t.tag===31){var n=Tn();n=ea(n);var a=da(t,n);a!==null&&cn(a,t,n),Jf(t,n)}}var Ju=!0;function Yb(t,n,a,l){var h=$.T;$.T=null;var d=at.p;try{at.p=2,td(t,n,a,l)}finally{at.p=d,$.T=h}}function Kb(t,n,a,l){var h=$.T;$.T=null;var d=at.p;try{at.p=8,td(t,n,a,l)}finally{at.p=d,$.T=h}}function td(t,n,a,l){if(Ju){var h=ed(l);if(h===null)Uf(t,n,l,tc,a),h0(t,l);else if($b(h,t,n,a,l))l.stopPropagation();else if(h0(t,l),n&4&&-1<Xb.indexOf(t)){for(;h!==null;){var d=An(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=ei(d.pendingLanes);if(_!==0){var x=d;for(x.pendingLanes|=2,x.entangledLanes|=2;_;){var M=1<<31-fe(_);x.entanglements[1]|=M,_&=~M}Ei(d),(Gt&6)===0&&(Lu=We()+500,ql(0))}}break;case 31:case 13:x=da(d,2),x!==null&&cn(x,d,2),Bu(),Jf(d,2)}if(d=ed(l),d===null&&Uf(t,n,l,tc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Uf(t,n,l,null,a)}}function ed(t){return t=wn(t),nd(t)}var tc=null;function nd(t){if(tc=null,t=si(t),t!==null){var n=u(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=f(n),t!==null)return t;t=null}else if(a===31){if(t=g(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return tc=t,null}function c0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zr()){case Zs:return 2;case Ws:return 8;case ir:case lh:return 32;case Vo:return 268435456;default:return 32}default:return 32}}var id=!1,Nr=null,Ir=null,Vr=null,Xl=new Map,$l=new Map,Or=[],Xb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function h0(t,n){switch(t){case"focusin":case"focusout":Nr=null;break;case"dragenter":case"dragleave":Ir=null;break;case"mouseover":case"mouseout":Vr=null;break;case"pointerover":case"pointerout":Xl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":$l.delete(n.pointerId)}}function Zl(t,n,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},n!==null&&(n=An(n),n!==null&&o0(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function $b(t,n,a,l,h){switch(n){case"focusin":return Nr=Zl(Nr,t,n,a,l,h),!0;case"dragenter":return Ir=Zl(Ir,t,n,a,l,h),!0;case"mouseover":return Vr=Zl(Vr,t,n,a,l,h),!0;case"pointerover":var d=h.pointerId;return Xl.set(d,Zl(Xl.get(d)||null,t,n,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,$l.set(d,Zl($l.get(d)||null,t,n,a,l,h)),!0}return!1}function f0(t){var n=si(t.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=f(a),n!==null){t.blockedOn=n,qn(t.priority,function(){u0(a)});return}}else if(n===31){if(n=g(a),n!==null){t.blockedOn=n,qn(t.priority,function(){u0(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ec(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=ed(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);cl=l,a.target.dispatchEvent(l),cl=null}else return n=An(a),n!==null&&o0(n),t.blockedOn=a,!1;n.shift()}return!0}function d0(t,n,a){ec(t)&&a.delete(n)}function Zb(){id=!1,Nr!==null&&ec(Nr)&&(Nr=null),Ir!==null&&ec(Ir)&&(Ir=null),Vr!==null&&ec(Vr)&&(Vr=null),Xl.forEach(d0),$l.forEach(d0)}function nc(t,n){t.blockedOn===n&&(t.blockedOn=null,id||(id=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Zb)))}var ic=null;function m0(t){ic!==t&&(ic=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){ic===t&&(ic=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(nd(l||a)===null)continue;break}var d=An(a);d!==null&&(t.splice(n,3),n-=3,tf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Rs(t){function n(M){return nc(M,t)}Nr!==null&&nc(Nr,t),Ir!==null&&nc(Ir,t),Vr!==null&&nc(Vr,t),Xl.forEach(n),$l.forEach(n);for(var a=0;a<Or.length;a++){var l=Or[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Or.length&&(a=Or[0],a.blockedOn===null);)f0(a),a.blockedOn===null&&Or.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Me]||null;if(typeof d=="function")_||m0(a);else if(_){var x=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Me]||null)x=_.formAction;else if(nd(h)!==null)continue}else x=_.action;typeof x=="function"?a[l+1]=x:(a.splice(l,3),l-=3),m0(a)}}}function g0(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function rd(t){this._internalRoot=t}rc.prototype.render=rd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=Tn();s0(a,l,t,n,null,null)},rc.prototype.unmount=rd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;s0(t.current,2,null,t,null,null),Bu(),n[ri]=null}};function rc(t){this._internalRoot=t}rc.prototype.unstable_scheduleHydration=function(t){if(t){var n=Bo();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Or.length&&n!==0&&n<Or[a].priority;a++);Or.splice(a,0,t),a===0&&f0(t)}};var p0=e.version;if(p0!=="19.2.3")throw Error(s(527,p0,"19.2.3"));at.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=m(n),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var Wb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ac.isDisabled&&ac.supportsFiber)try{Un=ac.inject(Wb),ke=ac}catch{}}return Jl.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",h=Sp,d=xp,_=Ap;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError)),n=r0(t,1,!1,null,null,a,l,null,h,d,_,g0),t[ri]=n.current,kf(t),new rd(n)},Jl.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Sp,_=xp,x=Ap,M=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError),a.formState!==void 0&&(M=a.formState)),n=r0(t,1,!0,n,a??null,l,h,M,d,_,x,g0),n.context=a0(null),a=n.current,l=Tn(),l=ea(l),h=vr(l),h.callback=null,_r(a,h,l),a=l,n.current.lanes=a,Jr(n,a),Ei(n),t[ri]=n.current,kf(t),new rc(n)},Jl.version="19.2.3",Jl}var w0;function oT(){if(w0)return ld.exports;w0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),ld.exports=lT(),ld.exports}var uT=oT();var R0="popstate";function cT(r={}){function e(o,u){let{pathname:f="/",search:g="",hash:p=""}=Oa(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Ld("",{pathname:f,search:g,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function i(o,u){let f=o.document.querySelector("base"),g="";if(f&&f.getAttribute("href")){let p=o.location.href,m=p.indexOf("#");g=m===-1?p:p.slice(0,m)}return g+"#"+(typeof u=="string"?u:ho(u))}function s(o,u){Bn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return fT(e,i,s,r)}function oe(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Bn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hT(){return Math.random().toString(36).substring(2,10)}function C0(r,e){return{usr:r.state,key:r.key,idx:e}}function Ld(r,e,i=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Oa(e):e,state:i,key:e&&e.key||s||hT()}}function ho({pathname:r="/",search:e="",hash:i=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function Oa(r){let e={};if(r){let i=r.indexOf("#");i>=0&&(e.hash=r.substring(i),r=r.substring(0,i));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function fT(r,e,i,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,g="POP",p=null,m=b();m==null&&(m=0,f.replaceState({...f.state,idx:m},""));function b(){return(f.state||{idx:null}).idx}function T(){g="POP";let k=b(),Q=k==null?null:k-m;m=k,p&&p({action:g,location:L.location,delta:Q})}function A(k,Q){g="PUSH";let X=Ld(L.location,k,Q);i&&i(X,k),m=b()+1;let it=C0(X,m),ft=L.createHref(X);try{f.pushState(it,"",ft)}catch(pt){if(pt instanceof DOMException&&pt.name==="DataCloneError")throw pt;o.location.assign(ft)}u&&p&&p({action:g,location:L.location,delta:1})}function D(k,Q){g="REPLACE";let X=Ld(L.location,k,Q);i&&i(X,k),m=b();let it=C0(X,m),ft=L.createHref(X);f.replaceState(it,"",ft),u&&p&&p({action:g,location:L.location,delta:0})}function V(k){return dT(k)}let L={get action(){return g},get location(){return r(o,f)},listen(k){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(R0,T),p=k,()=>{o.removeEventListener(R0,T),p=null}},createHref(k){return e(o,k)},createURL:V,encodeLocation(k){let Q=V(k);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:A,replace:D,go(k){return f.go(k)}};return L}function dT(r,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),oe(i,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:ho(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function a1(r,e,i="/"){return mT(r,e,i,!1)}function mT(r,e,i,s){let o=typeof e=="string"?Oa(e):e,u=$i(o.pathname||"/",i);if(u==null)return null;let f=s1(r);gT(f);let g=null;for(let p=0;g==null&&p<f.length;++p){let m=wT(u);g=xT(f[p],m,s)}return g}function s1(r,e=[],i=[],s="",o=!1){let u=(f,g,p=o,m)=>{let b={relativePath:m===void 0?f.path||"":m,caseSensitive:f.caseSensitive===!0,childrenIndex:g,route:f};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(s)&&p)return;oe(b.relativePath.startsWith(s),`Absolute route path "${b.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(s.length)}let T=Xi([s,b.relativePath]),A=i.concat(b);f.children&&f.children.length>0&&(oe(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),s1(f.children,e,A,T,p)),!(f.path==null&&!f.index)&&e.push({path:T,score:TT(T,f.index),routesMeta:A})};return r.forEach((f,g)=>{if(f.path===""||!f.path?.includes("?"))u(f,g);else for(let p of l1(f.path))u(f,g,!0,p)}),e}function l1(r){let e=r.split("/");if(e.length===0)return[];let[i,...s]=e,o=i.endsWith("?"),u=i.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=l1(s.join("/")),g=[];return g.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&g.push(...f),g.map(p=>r.startsWith("/")&&p===""?"/":p)}function gT(r){r.sort((e,i)=>e.score!==i.score?i.score-e.score:ST(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var pT=/^:[\w-]+$/,yT=3,vT=2,_T=1,ET=10,bT=-2,D0=r=>r==="*";function TT(r,e){let i=r.split("/"),s=i.length;return i.some(D0)&&(s+=bT),e&&(s+=vT),i.filter(o=>!D0(o)).reduce((o,u)=>o+(pT.test(u)?yT:u===""?_T:ET),s)}function ST(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function xT(r,e,i=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let g=0;g<s.length;++g){let p=s[g],m=g===s.length-1,b=u==="/"?e:e.slice(u.length)||"/",T=bc({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},b),A=p.route;if(!T&&m&&i&&!s[s.length-1].route.index&&(T=bc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},b)),!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:Xi([u,T.pathname]),pathnameBase:NT(Xi([u,T.pathnameBase])),route:A}),T.pathnameBase!=="/"&&(u=Xi([u,T.pathnameBase]))}return f}function bc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,s]=AT(r.path,r.caseSensitive,r.end),o=e.match(i);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:s.reduce((m,{paramName:b,isOptional:T},A)=>{if(b==="*"){let V=g[A]||"";f=u.slice(0,u.length-V.length).replace(/(.)\/+$/,"$1")}const D=g[A];return T&&!D?m[b]=void 0:m[b]=(D||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:f,pattern:r}}function AT(r,e=!1,i=!0){Bn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,g,p)=>(s.push({paramName:g,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function wT(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Bn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function $i(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=r.charAt(i);return s&&s!=="/"?null:r.slice(i)||"/"}var o1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,RT=r=>o1.test(r);function CT(r,e="/"){let{pathname:i,search:s="",hash:o=""}=typeof r=="string"?Oa(r):r,u;if(i)if(RT(i))u=i;else{if(i.includes("//")){let f=i;i=i.replace(/\/\/+/g,"/"),Bn(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${i}`)}i.startsWith("/")?u=N0(i.substring(1),"/"):u=N0(i,e)}else u=e;return{pathname:u,search:IT(s),hash:VT(o)}}function N0(r,e){let i=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function hd(r,e,i,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function DT(r){return r.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function u1(r){let e=DT(r);return e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase)}function c1(r,e,i,s=!1){let o;typeof r=="string"?o=Oa(r):(o={...r},oe(!o.pathname||!o.pathname.includes("?"),hd("?","pathname","search",o)),oe(!o.pathname||!o.pathname.includes("#"),hd("#","pathname","hash",o)),oe(!o.search||!o.search.includes("#"),hd("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,g;if(f==null)g=i;else{let T=e.length-1;if(!s&&f.startsWith("..")){let A=f.split("/");for(;A[0]==="..";)A.shift(),T-=1;o.pathname=A.join("/")}g=T>=0?e[T]:"/"}let p=CT(o,g),m=f&&f!=="/"&&f.endsWith("/"),b=(u||f===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(m||b)&&(p.pathname+="/"),p}var Xi=r=>r.join("/").replace(/\/\/+/g,"/"),NT=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),IT=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,VT=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,OT=class{constructor(r,e,i,s=!1){this.status=r,this.statusText=e||"",this.internal=s,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}};function jT(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function MT(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var h1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function f1(r,e){let i=r;if(typeof i!="string"||!o1.test(i))return{absoluteURL:void 0,isExternal:!1,to:i};let s=i,o=!1;if(h1)try{let u=new URL(window.location.href),f=i.startsWith("//")?new URL(u.protocol+i):new URL(i),g=$i(f.pathname,e);f.origin===u.origin&&g!=null?i=g+f.search+f.hash:o=!0}catch{Bn(!1,`<Link to="${i}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var d1=["POST","PUT","PATCH","DELETE"];new Set(d1);var LT=["GET",...d1];new Set(LT);var qs=P.createContext(null);qs.displayName="DataRouter";var Bc=P.createContext(null);Bc.displayName="DataRouterState";var zT=P.createContext(!1),m1=P.createContext({isTransitioning:!1});m1.displayName="ViewTransition";var BT=P.createContext(new Map);BT.displayName="Fetchers";var kT=P.createContext(null);kT.displayName="Await";var kn=P.createContext(null);kn.displayName="Navigation";var So=P.createContext(null);So.displayName="Location";var Di=P.createContext({outlet:null,matches:[],isDataRoute:!1});Di.displayName="Route";var om=P.createContext(null);om.displayName="RouteError";var g1="REACT_ROUTER_ERROR",UT="REDIRECT",PT="ROUTE_ERROR_RESPONSE";function qT(r){if(r.startsWith(`${g1}:${UT}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function HT(r){if(r.startsWith(`${g1}:${PT}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new OT(e.status,e.statusText,e.data)}catch{}}function GT(r,{relative:e}={}){oe(xo(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=P.useContext(kn),{hash:o,pathname:u,search:f}=Ao(r,{relative:e}),g=u;return i!=="/"&&(g=u==="/"?i:Xi([i,u])),s.createHref({pathname:g,search:f,hash:o})}function xo(){return P.useContext(So)!=null}function ja(){return oe(xo(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(So).location}var p1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function y1(r){P.useContext(kn).static||P.useLayoutEffect(r)}function v1(){let{isDataRoute:r}=P.useContext(Di);return r?i2():FT()}function FT(){oe(xo(),"useNavigate() may be used only in the context of a <Router> component.");let r=P.useContext(qs),{basename:e,navigator:i}=P.useContext(kn),{matches:s}=P.useContext(Di),{pathname:o}=ja(),u=JSON.stringify(u1(s)),f=P.useRef(!1);return y1(()=>{f.current=!0}),P.useCallback((p,m={})=>{if(Bn(f.current,p1),!f.current)return;if(typeof p=="number"){i.go(p);return}let b=c1(p,JSON.parse(u),o,m.relative==="path");r==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:Xi([e,b.pathname])),(m.replace?i.replace:i.push)(b,m.state,m)},[e,i,u,o,r])}P.createContext(null);function um(){let{matches:r}=P.useContext(Di),e=r[r.length-1];return e?e.params:{}}function Ao(r,{relative:e}={}){let{matches:i}=P.useContext(Di),{pathname:s}=ja(),o=JSON.stringify(u1(i));return P.useMemo(()=>c1(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function QT(r,e){return _1(r,e)}function _1(r,e,i,s,o){oe(xo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=P.useContext(kn),{matches:f}=P.useContext(Di),g=f[f.length-1],p=g?g.params:{},m=g?g.pathname:"/",b=g?g.pathnameBase:"/",T=g&&g.route;{let X=T&&T.path||"";b1(m,!T||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let A=ja(),D;if(e){let X=typeof e=="string"?Oa(e):e;oe(b==="/"||X.pathname?.startsWith(b),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${X.pathname}" was given in the \`location\` prop.`),D=X}else D=A;let V=D.pathname||"/",L=V;if(b!=="/"){let X=b.replace(/^\//,"").split("/");L="/"+V.replace(/^\//,"").split("/").slice(X.length).join("/")}let k=a1(r,{pathname:L});Bn(T||k!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),Bn(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Q=ZT(k&&k.map(X=>Object.assign({},X,{params:Object.assign({},p,X.params),pathname:Xi([b,u.encodeLocation?u.encodeLocation(X.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?b:Xi([b,u.encodeLocation?u.encodeLocation(X.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathnameBase])})),f,i,s,o);return e&&Q?P.createElement(So.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},Q):Q}function YT(){let r=n2(),e=jT(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:u},"ErrorBoundary")," or"," ",P.createElement("code",{style:u},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),i?P.createElement("pre",{style:o},i):null,f)}var KT=P.createElement(YT,null),E1=class extends P.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const i=HT(r.digest);i&&(r=i)}let e=r!==void 0?P.createElement(Di.Provider,{value:this.props.routeContext},P.createElement(om.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?P.createElement(XT,{error:r},e):e}};E1.contextType=zT;var fd=new WeakMap;function XT({children:r,error:e}){let{basename:i}=P.useContext(kn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=qT(e.digest);if(s){let o=fd.get(e);if(o)throw o;let u=f1(s.location,i);if(h1&&!fd.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw fd.set(e,f),f}return P.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function $T({routeContext:r,match:e,children:i}){let s=P.useContext(qs);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(Di.Provider,{value:r},i)}function ZT(r,e=[],i=null,s=null,o=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let u=r,f=i?.errors;if(f!=null){let b=u.findIndex(T=>T.route.id&&f?.[T.route.id]!==void 0);oe(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,b+1))}let g=!1,p=-1;if(i)for(let b=0;b<u.length;b++){let T=u[b];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=b),T.route.id){let{loaderData:A,errors:D}=i,V=T.route.loader&&!A.hasOwnProperty(T.route.id)&&(!D||D[T.route.id]===void 0);if(T.route.lazy||V){g=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let m=i&&s?(b,T)=>{s(b,{location:i.location,params:i.matches?.[0]?.params??{},unstable_pattern:MT(i.matches),errorInfo:T})}:void 0;return u.reduceRight((b,T,A)=>{let D,V=!1,L=null,k=null;i&&(D=f&&T.route.id?f[T.route.id]:void 0,L=T.route.errorElement||KT,g&&(p<0&&A===0?(b1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),V=!0,k=null):p===A&&(V=!0,k=T.route.hydrateFallbackElement||null)));let Q=e.concat(u.slice(0,A+1)),X=()=>{let it;return D?it=L:V?it=k:T.route.Component?it=P.createElement(T.route.Component,null):T.route.element?it=T.route.element:it=b,P.createElement($T,{match:T,routeContext:{outlet:b,matches:Q,isDataRoute:i!=null},children:it})};return i&&(T.route.ErrorBoundary||T.route.errorElement||A===0)?P.createElement(E1,{location:i.location,revalidation:i.revalidation,component:L,error:D,children:X(),routeContext:{outlet:null,matches:Q,isDataRoute:!0},onError:m}):X()},null)}function cm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WT(r){let e=P.useContext(qs);return oe(e,cm(r)),e}function JT(r){let e=P.useContext(Bc);return oe(e,cm(r)),e}function t2(r){let e=P.useContext(Di);return oe(e,cm(r)),e}function hm(r){let e=t2(r),i=e.matches[e.matches.length-1];return oe(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function e2(){return hm("useRouteId")}function n2(){let r=P.useContext(om),e=JT("useRouteError"),i=hm("useRouteError");return r!==void 0?r:e.errors?.[i]}function i2(){let{router:r}=WT("useNavigate"),e=hm("useNavigate"),i=P.useRef(!1);return y1(()=>{i.current=!0}),P.useCallback(async(o,u={})=>{Bn(i.current,p1),i.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var I0={};function b1(r,e,i){!e&&!I0[r]&&(I0[r]=!0,Bn(!1,i))}P.memo(r2);function r2({routes:r,future:e,state:i,onError:s}){return _1(r,void 0,i,s,e)}function eo(r){oe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function a2({basename:r="/",children:e=null,location:i,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){oe(!xo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let g=r.replace(/^\/*/,"/"),p=P.useMemo(()=>({basename:g,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[g,o,u,f]);typeof i=="string"&&(i=Oa(i));let{pathname:m="/",search:b="",hash:T="",state:A=null,key:D="default"}=i,V=P.useMemo(()=>{let L=$i(m,g);return L==null?null:{location:{pathname:L,search:b,hash:T,state:A,key:D},navigationType:s}},[g,m,b,T,A,D,s]);return Bn(V!=null,`<Router basename="${g}"> is not able to match the URL "${m}${b}${T}" because it does not start with the basename, so the <Router> won't render anything.`),V==null?null:P.createElement(kn.Provider,{value:p},P.createElement(So.Provider,{children:e,value:V}))}function s2({children:r,location:e}){return QT(zd(r),e)}function zd(r,e=[]){let i=[];return P.Children.forEach(r,(s,o)=>{if(!P.isValidElement(s))return;let u=[...e,o];if(s.type===P.Fragment){i.push.apply(i,zd(s.props.children,u));return}oe(s.type===eo,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),oe(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=zd(s.props.children,u)),i.push(f)}),i}var dc="get",mc="application/x-www-form-urlencoded";function kc(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function l2(r){return kc(r)&&r.tagName.toLowerCase()==="button"}function o2(r){return kc(r)&&r.tagName.toLowerCase()==="form"}function u2(r){return kc(r)&&r.tagName.toLowerCase()==="input"}function c2(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function h2(r,e){return r.button===0&&(!e||e==="_self")&&!c2(r)}var sc=null;function f2(){if(sc===null)try{new FormData(document.createElement("form"),0),sc=!1}catch{sc=!0}return sc}var d2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function dd(r){return r!=null&&!d2.has(r)?(Bn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mc}"`),null):r}function m2(r,e){let i,s,o,u,f;if(o2(r)){let g=r.getAttribute("action");s=g?$i(g,e):null,i=r.getAttribute("method")||dc,o=dd(r.getAttribute("enctype"))||mc,u=new FormData(r)}else if(l2(r)||u2(r)&&(r.type==="submit"||r.type==="image")){let g=r.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||g.getAttribute("action");if(s=p?$i(p,e):null,i=r.getAttribute("formmethod")||g.getAttribute("method")||dc,o=dd(r.getAttribute("formenctype"))||dd(g.getAttribute("enctype"))||mc,u=new FormData(g,r),!f2()){let{name:m,type:b,value:T}=r;if(b==="image"){let A=m?`${m}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else m&&u.append(m,T)}}else{if(kc(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=dc,s=null,o=mc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:i.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function fm(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function g2(r,e,i,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return i?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&$i(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function p2(r,e){if(r.id in e)return e[r.id];try{let i=await import(r.module);return e[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function y2(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function v2(r,e,i){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await p2(u,i);return f.links?f.links():[]}return[]}));return T2(s.flat(1).filter(y2).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function V0(r,e,i,s,o,u){let f=(p,m)=>i[m]?p.route.id!==i[m].route.id:!0,g=(p,m)=>i[m].pathname!==p.pathname||i[m].route.path?.endsWith("*")&&i[m].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,m)=>f(p,m)||g(p,m)):u==="data"?e.filter((p,m)=>{let b=s.routes[p.route.id];if(!b||!b.hasLoader)return!1;if(f(p,m)||g(p,m))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function _2(r,e,{includeHydrateFallback:i}={}){return E2(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function E2(r){return[...new Set(r)]}function b2(r){let e={},i=Object.keys(r).sort();for(let s of i)e[s]=r[s];return e}function T2(r,e){let i=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(b2(o));return i.has(u)||(i.add(u),s.push({key:u,link:o})),s},[])}function T1(){let r=P.useContext(qs);return fm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function S2(){let r=P.useContext(Bc);return fm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var dm=P.createContext(void 0);dm.displayName="FrameworkContext";function S1(){let r=P.useContext(dm);return fm(r,"You must render this element inside a <HydratedRouter> element"),r}function x2(r,e){let i=P.useContext(dm),[s,o]=P.useState(!1),[u,f]=P.useState(!1),{onFocus:g,onBlur:p,onMouseEnter:m,onMouseLeave:b,onTouchStart:T}=e,A=P.useRef(null);P.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let L=Q=>{Q.forEach(X=>{f(X.isIntersecting)})},k=new IntersectionObserver(L,{threshold:.5});return A.current&&k.observe(A.current),()=>{k.disconnect()}}},[r]),P.useEffect(()=>{if(s){let L=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(L)}}},[s]);let D=()=>{o(!0)},V=()=>{o(!1),f(!1)};return i?r!=="intent"?[u,A,{}]:[u,A,{onFocus:to(g,D),onBlur:to(p,V),onMouseEnter:to(m,D),onMouseLeave:to(b,V),onTouchStart:to(T,D)}]:[!1,A,{}]}function to(r,e){return i=>{r&&r(i),i.defaultPrevented||e(i)}}function A2({page:r,...e}){let{router:i}=T1(),s=P.useMemo(()=>a1(i.routes,r,i.basename),[i.routes,r,i.basename]);return s?P.createElement(R2,{page:r,matches:s,...e}):null}function w2(r){let{manifest:e,routeModules:i}=S1(),[s,o]=P.useState([]);return P.useEffect(()=>{let u=!1;return v2(r,e,i).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,i]),s}function R2({page:r,matches:e,...i}){let s=ja(),{future:o,manifest:u,routeModules:f}=S1(),{basename:g}=T1(),{loaderData:p,matches:m}=S2(),b=P.useMemo(()=>V0(r,e,m,u,s,"data"),[r,e,m,u,s]),T=P.useMemo(()=>V0(r,e,m,u,s,"assets"),[r,e,m,u,s]),A=P.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let L=new Set,k=!1;if(e.forEach(X=>{let it=u.routes[X.route.id];!it||!it.hasLoader||(!b.some(ft=>ft.route.id===X.route.id)&&X.route.id in p&&f[X.route.id]?.shouldRevalidate||it.hasClientLoader?k=!0:L.add(X.route.id))}),L.size===0)return[];let Q=g2(r,g,o.unstable_trailingSlashAwareDataRequests,"data");return k&&L.size>0&&Q.searchParams.set("_routes",e.filter(X=>L.has(X.route.id)).map(X=>X.route.id).join(",")),[Q.pathname+Q.search]},[g,o.unstable_trailingSlashAwareDataRequests,p,s,u,b,e,r,f]),D=P.useMemo(()=>_2(T,u),[T,u]),V=w2(T);return P.createElement(P.Fragment,null,A.map(L=>P.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...i})),D.map(L=>P.createElement("link",{key:L,rel:"modulepreload",href:L,...i})),V.map(({key:L,link:k})=>P.createElement("link",{key:L,nonce:i.nonce,...k})))}function C2(...r){return e=>{r.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var D2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{D2&&(window.__reactRouterVersion="7.12.0")}catch{}function N2({basename:r,children:e,unstable_useTransitions:i,window:s}){let o=P.useRef();o.current==null&&(o.current=cT({window:s,v5Compat:!0}));let u=o.current,[f,g]=P.useState({action:u.action,location:u.location}),p=P.useCallback(m=>{i===!1?g(m):P.startTransition(()=>g(m))},[i]);return P.useLayoutEffect(()=>u.listen(p),[u,p]),P.createElement(a2,{basename:r,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:i})}var x1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,A1=P.forwardRef(function({onClick:e,discover:i="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:g,target:p,to:m,preventScrollReset:b,viewTransition:T,unstable_defaultShouldRevalidate:A,...D},V){let{basename:L,unstable_useTransitions:k}=P.useContext(kn),Q=typeof m=="string"&&x1.test(m),X=f1(m,L);m=X.to;let it=GT(m,{relative:o}),[ft,pt,vt]=x2(s,D),O=j2(m,{replace:f,state:g,target:p,preventScrollReset:b,relative:o,viewTransition:T,unstable_defaultShouldRevalidate:A,unstable_useTransitions:k});function R(S){e&&e(S),S.defaultPrevented||O(S)}let I=P.createElement("a",{...D,...vt,href:X.absoluteURL||it,onClick:X.isExternal||u?e:R,ref:C2(V,pt),target:p,"data-discover":!Q&&i==="render"?"true":void 0});return ft&&!Q?P.createElement(P.Fragment,null,I,P.createElement(A2,{page:it})):I});A1.displayName="Link";var I2=P.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:g,children:p,...m},b){let T=Ao(f,{relative:m.relative}),A=ja(),D=P.useContext(Bc),{navigator:V,basename:L}=P.useContext(kn),k=D!=null&&k2(T)&&g===!0,Q=V.encodeLocation?V.encodeLocation(T).pathname:T.pathname,X=A.pathname,it=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;i||(X=X.toLowerCase(),it=it?it.toLowerCase():null,Q=Q.toLowerCase()),it&&L&&(it=$i(it,L)||it);const ft=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let pt=X===Q||!o&&X.startsWith(Q)&&X.charAt(ft)==="/",vt=it!=null&&(it===Q||!o&&it.startsWith(Q)&&it.charAt(Q.length)==="/"),O={isActive:pt,isPending:vt,isTransitioning:k},R=pt?e:void 0,I;typeof s=="function"?I=s(O):I=[s,pt?"active":null,vt?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let S=typeof u=="function"?u(O):u;return P.createElement(A1,{...m,"aria-current":R,className:I,ref:b,style:S,to:f,viewTransition:g},typeof p=="function"?p(O):p)});I2.displayName="NavLink";var V2=P.forwardRef(({discover:r="render",fetcherKey:e,navigate:i,reloadDocument:s,replace:o,state:u,method:f=dc,action:g,onSubmit:p,relative:m,preventScrollReset:b,viewTransition:T,unstable_defaultShouldRevalidate:A,...D},V)=>{let{unstable_useTransitions:L}=P.useContext(kn),k=z2(),Q=B2(g,{relative:m}),X=f.toLowerCase()==="get"?"get":"post",it=typeof g=="string"&&x1.test(g),ft=pt=>{if(p&&p(pt),pt.defaultPrevented)return;pt.preventDefault();let vt=pt.nativeEvent.submitter,O=vt?.getAttribute("formmethod")||f,R=()=>k(vt||pt.currentTarget,{fetcherKey:e,method:O,navigate:i,replace:o,state:u,relative:m,preventScrollReset:b,viewTransition:T,unstable_defaultShouldRevalidate:A});L&&i!==!1?P.startTransition(()=>R()):R()};return P.createElement("form",{ref:V,method:X,action:Q,onSubmit:s?p:ft,...D,"data-discover":!it&&r==="render"?"true":void 0})});V2.displayName="Form";function O2(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function w1(r){let e=P.useContext(qs);return oe(e,O2(r)),e}function j2(r,{target:e,replace:i,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:g,unstable_useTransitions:p}={}){let m=v1(),b=ja(),T=Ao(r,{relative:u});return P.useCallback(A=>{if(h2(A,e)){A.preventDefault();let D=i!==void 0?i:ho(b)===ho(T),V=()=>m(r,{replace:D,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:g});p?P.startTransition(()=>V()):V()}},[b,m,T,i,s,e,r,o,u,f,g,p])}var M2=0,L2=()=>`__${String(++M2)}__`;function z2(){let{router:r}=w1("useSubmit"),{basename:e}=P.useContext(kn),i=e2(),s=r.fetch,o=r.navigate;return P.useCallback(async(u,f={})=>{let{action:g,method:p,encType:m,formData:b,body:T}=m2(u,e);if(f.navigate===!1){let A=f.fetcherKey||L2();await s(A,i,f.action||g,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:b,body:T,formMethod:f.method||p,formEncType:f.encType||m,flushSync:f.flushSync})}else await o(f.action||g,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:b,body:T,formMethod:f.method||p,formEncType:f.encType||m,replace:f.replace,state:f.state,fromRouteId:i,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,e,i])}function B2(r,{relative:e}={}){let{basename:i}=P.useContext(kn),s=P.useContext(Di);oe(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Ao(r||".",{relative:e})},f=ja();if(r==null){u.search=f.search;let g=new URLSearchParams(u.search),p=g.getAll("index");if(p.some(b=>b==="")){g.delete("index"),p.filter(T=>T).forEach(T=>g.append("index",T));let b=g.toString();u.search=b?`?${b}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:Xi([i,u.pathname])),ho(u)}function k2(r,{relative:e}={}){let i=P.useContext(m1);oe(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=w1("useViewTransitionState"),o=Ao(r,{relative:e});if(!i.isTransitioning)return!1;let u=$i(i.currentLocation.pathname,s)||i.currentLocation.pathname,f=$i(i.nextLocation.pathname,s)||i.nextLocation.pathname;return bc(o.pathname,f)!=null||bc(o.pathname,u)!=null}var U2=r1();const P2=()=>{};var O0={};const R1=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},q2=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[i++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[i++],f=r[i++],g=r[i++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[i++],f=r[i++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},C1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,g=f?r[o+1]:0,p=o+2<r.length,m=p?r[o+2]:0,b=u>>2,T=(u&3)<<4|g>>4;let A=(g&15)<<2|m>>6,D=m&63;p||(D=64,f||(A=64)),s.push(i[b],i[T],i[A],i[D])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(R1(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):q2(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const m=o<r.length?i[r.charAt(o)]:64;++o;const T=o<r.length?i[r.charAt(o)]:64;if(++o,u==null||g==null||m==null||T==null)throw new H2;const A=u<<2|g>>4;if(s.push(A),m!==64){const D=g<<4&240|m>>2;if(s.push(D),T!==64){const V=m<<6&192|T;s.push(V)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class H2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const G2=function(r){const e=R1(r);return C1.encodeByteArray(e,!0)},Tc=function(r){return G2(r).replace(/\./g,"")},F2=function(r){try{return C1.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Q2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Y2=()=>Q2().__FIREBASE_DEFAULTS__,K2=()=>{if(typeof process>"u"||typeof O0>"u")return;const r=O0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},X2=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&F2(r[1]);return e&&JSON.parse(e)},mm=()=>{try{return P2()||Y2()||K2()||X2()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},$2=r=>mm()?.emulatorHosts?.[r],Z2=r=>{const e=$2(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},D1=()=>mm()?.config;class W2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}function gm(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function J2(r){return(await fetch(r,{credentials:"include"})).ok}function tS(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Tc(JSON.stringify(i)),Tc(JSON.stringify(f)),""].join(".")}const so={};function eS(){const r={prod:[],emulator:[]};for(const e of Object.keys(so))so[e]?r.emulator.push(e):r.prod.push(e);return r}function nS(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let j0=!1;function iS(r,e){if(typeof window>"u"||typeof document>"u"||!gm(window.location.host)||so[r]===e||so[r]||j0)return;so[r]=e;function i(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=eS().prod.length>0;function f(){const A=document.getElementById(s);A&&A.remove()}function g(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,D){A.setAttribute("width","24"),A.setAttribute("id",D),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function m(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{j0=!0,f()},A}function b(A,D){A.setAttribute("id",D),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function T(){const A=nS(s),D=i("text"),V=document.getElementById(D)||document.createElement("span"),L=i("learnmore"),k=document.getElementById(L)||document.createElement("a"),Q=i("preprendIcon"),X=document.getElementById(Q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const it=A.element;g(it),b(k,L);const ft=m();p(X,Q),it.append(X,V,k,ft),document.body.appendChild(it)}u?(V.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function rS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aS(){const r=mm()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sS(){return!aS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lS(){try{return typeof indexedDB=="object"}catch{return!1}}function oS(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const uS="FirebaseError";class Hs extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=uS,Object.setPrototypeOf(this,Hs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,N1.prototype.create)}}class N1{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?cS(u,s):"Error",g=`${this.serviceName}: ${f} (${o}).`;return new Hs(o,g,s)}}function cS(r,e){return r.replace(hS,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const hS=/\{\$([^}]+)}/g;function Sc(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(M0(u)&&M0(f)){if(!Sc(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function M0(r){return r!==null&&typeof r=="object"}function Zi(r){return r&&r._delegate?r._delegate:r}class fo{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const wa="[DEFAULT]";class fS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new W2;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mS(e))try{this.getOrInitializeService({instanceIdentifier:wa})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=wa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wa){return this.instances.has(e)}getOptions(e=wa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[u,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);s===g&&f.resolve(o)}return o}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:dS(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=wa){return this.component?this.component.multipleInstances?e:wa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dS(r){return r===wa?void 0:r}function mS(r){return r.instantiationMode==="EAGER"}class gS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new fS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var kt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(kt||(kt={}));const pS={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},yS=kt.INFO,vS={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},_S=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=vS[e];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class I1{constructor(e){this.name=e,this._logLevel=yS,this._logHandler=_S,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in kt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...e),this._logHandler(this,kt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...e),this._logHandler(this,kt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...e),this._logHandler(this,kt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...e),this._logHandler(this,kt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...e),this._logHandler(this,kt.ERROR,...e)}}const ES=(r,e)=>e.some(i=>r instanceof i);let L0,z0;function bS(){return L0||(L0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TS(){return z0||(z0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const V1=new WeakMap,Bd=new WeakMap,O1=new WeakMap,md=new WeakMap,pm=new WeakMap;function SS(r){const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{i(Lr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(i=>{i instanceof IDBCursor&&V1.set(i,r)}).catch(()=>{}),pm.set(e,r),e}function xS(r){if(Bd.has(r))return;const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{i(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Bd.set(r,e)}let kd={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Bd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||O1.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Lr(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function AS(r){kd=r(kd)}function wS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(gd(this),e,...i);return O1.set(s,e.sort?e.sort():[e]),Lr(s)}:TS().includes(r)?function(...e){return r.apply(gd(this),e),Lr(V1.get(this))}:function(...e){return Lr(r.apply(gd(this),e))}}function RS(r){return typeof r=="function"?wS(r):(r instanceof IDBTransaction&&xS(r),ES(r,bS())?new Proxy(r,kd):r)}function Lr(r){if(r instanceof IDBRequest)return SS(r);if(md.has(r))return md.get(r);const e=RS(r);return e!==r&&(md.set(r,e),pm.set(e,r)),e}const gd=r=>pm.get(r);function CS(r,e,{blocked:i,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),g=Lr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Lr(f.result),p.oldVersion,p.newVersion,Lr(f.transaction),p)}),i&&f.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),g.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),g}const DS=["get","getKey","getAll","getAllKeys","count"],NS=["put","add","delete","clear"],pd=new Map;function B0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(pd.get(e))return pd.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=NS.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||DS.includes(i)))return;const u=async function(f,...g){const p=this.transaction(f,o?"readwrite":"readonly");let m=p.store;return s&&(m=m.index(g.shift())),(await Promise.all([m[i](...g),o&&p.done]))[0]};return pd.set(e,u),u}AS(r=>({...r,get:(e,i,s)=>B0(e,i)||r.get(e,i,s),has:(e,i)=>!!B0(e,i)||r.has(e,i)}));class IS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(VS(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function VS(r){return r.getComponent()?.type==="VERSION"}const Ud="@firebase/app",k0="0.14.6";const Wi=new I1("@firebase/app"),OS="@firebase/app-compat",jS="@firebase/analytics-compat",MS="@firebase/analytics",LS="@firebase/app-check-compat",zS="@firebase/app-check",BS="@firebase/auth",kS="@firebase/auth-compat",US="@firebase/database",PS="@firebase/data-connect",qS="@firebase/database-compat",HS="@firebase/functions",GS="@firebase/functions-compat",FS="@firebase/installations",QS="@firebase/installations-compat",YS="@firebase/messaging",KS="@firebase/messaging-compat",XS="@firebase/performance",$S="@firebase/performance-compat",ZS="@firebase/remote-config",WS="@firebase/remote-config-compat",JS="@firebase/storage",tx="@firebase/storage-compat",ex="@firebase/firestore",nx="@firebase/ai",ix="@firebase/firestore-compat",rx="firebase",ax="12.6.0";const Pd="[DEFAULT]",sx={[Ud]:"fire-core",[OS]:"fire-core-compat",[MS]:"fire-analytics",[jS]:"fire-analytics-compat",[zS]:"fire-app-check",[LS]:"fire-app-check-compat",[BS]:"fire-auth",[kS]:"fire-auth-compat",[US]:"fire-rtdb",[PS]:"fire-data-connect",[qS]:"fire-rtdb-compat",[HS]:"fire-fn",[GS]:"fire-fn-compat",[FS]:"fire-iid",[QS]:"fire-iid-compat",[YS]:"fire-fcm",[KS]:"fire-fcm-compat",[XS]:"fire-perf",[$S]:"fire-perf-compat",[ZS]:"fire-rc",[WS]:"fire-rc-compat",[JS]:"fire-gcs",[tx]:"fire-gcs-compat",[ex]:"fire-fst",[ix]:"fire-fst-compat",[nx]:"fire-vertex","fire-js":"fire-js",[rx]:"fire-js-all"};const xc=new Map,lx=new Map,qd=new Map;function U0(r,e){try{r.container.addComponent(e)}catch(i){Wi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function Ac(r){const e=r.name;if(qd.has(e))return Wi.debug(`There were multiple attempts to register component ${e}.`),!1;qd.set(e,r);for(const i of xc.values())U0(i,r);for(const i of lx.values())U0(i,r);return!0}function ox(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function ux(r){return r==null?!1:r.settings!==void 0}const cx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zr=new N1("app","Firebase",cx);class hx{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new fo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zr.create("app-deleted",{appName:this._name})}}const fx=ax;function j1(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s={name:Pd,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw zr.create("bad-app-name",{appName:String(o)});if(i||(i=D1()),!i)throw zr.create("no-options");const u=xc.get(o);if(u){if(Sc(i,u.options)&&Sc(s,u.config))return u;throw zr.create("duplicate-app",{appName:o})}const f=new gS(o);for(const p of qd.values())f.addComponent(p);const g=new hx(i,s,f);return xc.set(o,g),g}function dx(r=Pd){const e=xc.get(r);if(!e&&r===Pd&&D1())return j1();if(!e)throw zr.create("no-app",{appName:r});return e}function Os(r,e,i){let s=sx[r]??r;i&&(s+=`-${i}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wi.warn(f.join(" "));return}Ac(new fo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const mx="firebase-heartbeat-database",gx=1,mo="firebase-heartbeat-store";let yd=null;function M1(){return yd||(yd=CS(mx,gx,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(mo)}catch(i){console.warn(i)}}}}).catch(r=>{throw zr.create("idb-open",{originalErrorMessage:r.message})})),yd}async function px(r){try{const i=(await M1()).transaction(mo),s=await i.objectStore(mo).get(L1(r));return await i.done,s}catch(e){if(e instanceof Hs)Wi.warn(e.message);else{const i=zr.create("idb-get",{originalErrorMessage:e?.message});Wi.warn(i.message)}}}async function P0(r,e){try{const s=(await M1()).transaction(mo,"readwrite");await s.objectStore(mo).put(e,L1(r)),await s.done}catch(i){if(i instanceof Hs)Wi.warn(i.message);else{const s=zr.create("idb-set",{originalErrorMessage:i?.message});Wi.warn(s.message)}}}function L1(r){return`${r.name}!${r.options.appId}`}const yx=1024,vx=30;class _x{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new bx(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=q0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>vx){const o=Tx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Wi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=q0(),{heartbeatsToSend:i,unsentEntries:s}=Ex(this._heartbeatsCache.heartbeats),o=Tc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Wi.warn(e),""}}}function q0(){return new Date().toISOString().substring(0,10)}function Ex(r,e=yx){const i=[];let s=r.slice();for(const o of r){const u=i.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),H0(i)>e){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),H0(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class bx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lS()?oS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await px(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return P0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return P0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function H0(r){return Tc(JSON.stringify({version:2,heartbeats:r})).length}function Tx(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}function Sx(r){Ac(new fo("platform-logger",e=>new IS(e),"PRIVATE")),Ac(new fo("heartbeat",e=>new _x(e),"PRIVATE")),Os(Ud,k0,r),Os(Ud,k0,"esm2020"),Os("fire-js","")}Sx("");var xx="firebase",Ax="12.7.0";Os(xx,Ax,"app");var G0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Br,z1;(function(){var r;function e(O,R){function I(){}I.prototype=R.prototype,O.F=R.prototype,O.prototype=new I,O.prototype.constructor=O,O.D=function(S,w,j){for(var N=Array(arguments.length-2),Et=2;Et<arguments.length;Et++)N[Et-2]=arguments[Et];return R.prototype[w].apply(S,N)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,R,I){I||(I=0);const S=Array(16);if(typeof R=="string")for(var w=0;w<16;++w)S[w]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(w=0;w<16;++w)S[w]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=O.g[0],I=O.g[1],w=O.g[2];let j=O.g[3],N;N=R+(j^I&(w^j))+S[0]+3614090360&4294967295,R=I+(N<<7&4294967295|N>>>25),N=j+(w^R&(I^w))+S[1]+3905402710&4294967295,j=R+(N<<12&4294967295|N>>>20),N=w+(I^j&(R^I))+S[2]+606105819&4294967295,w=j+(N<<17&4294967295|N>>>15),N=I+(R^w&(j^R))+S[3]+3250441966&4294967295,I=w+(N<<22&4294967295|N>>>10),N=R+(j^I&(w^j))+S[4]+4118548399&4294967295,R=I+(N<<7&4294967295|N>>>25),N=j+(w^R&(I^w))+S[5]+1200080426&4294967295,j=R+(N<<12&4294967295|N>>>20),N=w+(I^j&(R^I))+S[6]+2821735955&4294967295,w=j+(N<<17&4294967295|N>>>15),N=I+(R^w&(j^R))+S[7]+4249261313&4294967295,I=w+(N<<22&4294967295|N>>>10),N=R+(j^I&(w^j))+S[8]+1770035416&4294967295,R=I+(N<<7&4294967295|N>>>25),N=j+(w^R&(I^w))+S[9]+2336552879&4294967295,j=R+(N<<12&4294967295|N>>>20),N=w+(I^j&(R^I))+S[10]+4294925233&4294967295,w=j+(N<<17&4294967295|N>>>15),N=I+(R^w&(j^R))+S[11]+2304563134&4294967295,I=w+(N<<22&4294967295|N>>>10),N=R+(j^I&(w^j))+S[12]+1804603682&4294967295,R=I+(N<<7&4294967295|N>>>25),N=j+(w^R&(I^w))+S[13]+4254626195&4294967295,j=R+(N<<12&4294967295|N>>>20),N=w+(I^j&(R^I))+S[14]+2792965006&4294967295,w=j+(N<<17&4294967295|N>>>15),N=I+(R^w&(j^R))+S[15]+1236535329&4294967295,I=w+(N<<22&4294967295|N>>>10),N=R+(w^j&(I^w))+S[1]+4129170786&4294967295,R=I+(N<<5&4294967295|N>>>27),N=j+(I^w&(R^I))+S[6]+3225465664&4294967295,j=R+(N<<9&4294967295|N>>>23),N=w+(R^I&(j^R))+S[11]+643717713&4294967295,w=j+(N<<14&4294967295|N>>>18),N=I+(j^R&(w^j))+S[0]+3921069994&4294967295,I=w+(N<<20&4294967295|N>>>12),N=R+(w^j&(I^w))+S[5]+3593408605&4294967295,R=I+(N<<5&4294967295|N>>>27),N=j+(I^w&(R^I))+S[10]+38016083&4294967295,j=R+(N<<9&4294967295|N>>>23),N=w+(R^I&(j^R))+S[15]+3634488961&4294967295,w=j+(N<<14&4294967295|N>>>18),N=I+(j^R&(w^j))+S[4]+3889429448&4294967295,I=w+(N<<20&4294967295|N>>>12),N=R+(w^j&(I^w))+S[9]+568446438&4294967295,R=I+(N<<5&4294967295|N>>>27),N=j+(I^w&(R^I))+S[14]+3275163606&4294967295,j=R+(N<<9&4294967295|N>>>23),N=w+(R^I&(j^R))+S[3]+4107603335&4294967295,w=j+(N<<14&4294967295|N>>>18),N=I+(j^R&(w^j))+S[8]+1163531501&4294967295,I=w+(N<<20&4294967295|N>>>12),N=R+(w^j&(I^w))+S[13]+2850285829&4294967295,R=I+(N<<5&4294967295|N>>>27),N=j+(I^w&(R^I))+S[2]+4243563512&4294967295,j=R+(N<<9&4294967295|N>>>23),N=w+(R^I&(j^R))+S[7]+1735328473&4294967295,w=j+(N<<14&4294967295|N>>>18),N=I+(j^R&(w^j))+S[12]+2368359562&4294967295,I=w+(N<<20&4294967295|N>>>12),N=R+(I^w^j)+S[5]+4294588738&4294967295,R=I+(N<<4&4294967295|N>>>28),N=j+(R^I^w)+S[8]+2272392833&4294967295,j=R+(N<<11&4294967295|N>>>21),N=w+(j^R^I)+S[11]+1839030562&4294967295,w=j+(N<<16&4294967295|N>>>16),N=I+(w^j^R)+S[14]+4259657740&4294967295,I=w+(N<<23&4294967295|N>>>9),N=R+(I^w^j)+S[1]+2763975236&4294967295,R=I+(N<<4&4294967295|N>>>28),N=j+(R^I^w)+S[4]+1272893353&4294967295,j=R+(N<<11&4294967295|N>>>21),N=w+(j^R^I)+S[7]+4139469664&4294967295,w=j+(N<<16&4294967295|N>>>16),N=I+(w^j^R)+S[10]+3200236656&4294967295,I=w+(N<<23&4294967295|N>>>9),N=R+(I^w^j)+S[13]+681279174&4294967295,R=I+(N<<4&4294967295|N>>>28),N=j+(R^I^w)+S[0]+3936430074&4294967295,j=R+(N<<11&4294967295|N>>>21),N=w+(j^R^I)+S[3]+3572445317&4294967295,w=j+(N<<16&4294967295|N>>>16),N=I+(w^j^R)+S[6]+76029189&4294967295,I=w+(N<<23&4294967295|N>>>9),N=R+(I^w^j)+S[9]+3654602809&4294967295,R=I+(N<<4&4294967295|N>>>28),N=j+(R^I^w)+S[12]+3873151461&4294967295,j=R+(N<<11&4294967295|N>>>21),N=w+(j^R^I)+S[15]+530742520&4294967295,w=j+(N<<16&4294967295|N>>>16),N=I+(w^j^R)+S[2]+3299628645&4294967295,I=w+(N<<23&4294967295|N>>>9),N=R+(w^(I|~j))+S[0]+4096336452&4294967295,R=I+(N<<6&4294967295|N>>>26),N=j+(I^(R|~w))+S[7]+1126891415&4294967295,j=R+(N<<10&4294967295|N>>>22),N=w+(R^(j|~I))+S[14]+2878612391&4294967295,w=j+(N<<15&4294967295|N>>>17),N=I+(j^(w|~R))+S[5]+4237533241&4294967295,I=w+(N<<21&4294967295|N>>>11),N=R+(w^(I|~j))+S[12]+1700485571&4294967295,R=I+(N<<6&4294967295|N>>>26),N=j+(I^(R|~w))+S[3]+2399980690&4294967295,j=R+(N<<10&4294967295|N>>>22),N=w+(R^(j|~I))+S[10]+4293915773&4294967295,w=j+(N<<15&4294967295|N>>>17),N=I+(j^(w|~R))+S[1]+2240044497&4294967295,I=w+(N<<21&4294967295|N>>>11),N=R+(w^(I|~j))+S[8]+1873313359&4294967295,R=I+(N<<6&4294967295|N>>>26),N=j+(I^(R|~w))+S[15]+4264355552&4294967295,j=R+(N<<10&4294967295|N>>>22),N=w+(R^(j|~I))+S[6]+2734768916&4294967295,w=j+(N<<15&4294967295|N>>>17),N=I+(j^(w|~R))+S[13]+1309151649&4294967295,I=w+(N<<21&4294967295|N>>>11),N=R+(w^(I|~j))+S[4]+4149444226&4294967295,R=I+(N<<6&4294967295|N>>>26),N=j+(I^(R|~w))+S[11]+3174756917&4294967295,j=R+(N<<10&4294967295|N>>>22),N=w+(R^(j|~I))+S[2]+718787259&4294967295,w=j+(N<<15&4294967295|N>>>17),N=I+(j^(w|~R))+S[9]+3951481745&4294967295,O.g[0]=O.g[0]+R&4294967295,O.g[1]=O.g[1]+(w+(N<<21&4294967295|N>>>11))&4294967295,O.g[2]=O.g[2]+w&4294967295,O.g[3]=O.g[3]+j&4294967295}s.prototype.v=function(O,R){R===void 0&&(R=O.length);const I=R-this.blockSize,S=this.C;let w=this.h,j=0;for(;j<R;){if(w==0)for(;j<=I;)o(this,O,j),j+=this.blockSize;if(typeof O=="string"){for(;j<R;)if(S[w++]=O.charCodeAt(j++),w==this.blockSize){o(this,S),w=0;break}}else for(;j<R;)if(S[w++]=O[j++],w==this.blockSize){o(this,S),w=0;break}}this.h=w,this.o+=R},s.prototype.A=function(){var O=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);O[0]=128;for(var R=1;R<O.length-8;++R)O[R]=0;R=this.o*8;for(var I=O.length-8;I<O.length;++I)O[I]=R&255,R/=256;for(this.v(O),O=Array(16),R=0,I=0;I<4;++I)for(let S=0;S<32;S+=8)O[R++]=this.g[I]>>>S&255;return O};function u(O,R){var I=g;return Object.prototype.hasOwnProperty.call(I,O)?I[O]:I[O]=R(O)}function f(O,R){this.h=R;const I=[];let S=!0;for(let w=O.length-1;w>=0;w--){const j=O[w]|0;S&&j==R||(I[w]=j,S=!1)}this.g=I}var g={};function p(O){return-128<=O&&O<128?u(O,function(R){return new f([R|0],R<0?-1:0)}):new f([O|0],O<0?-1:0)}function m(O){if(isNaN(O)||!isFinite(O))return T;if(O<0)return k(m(-O));const R=[];let I=1;for(let S=0;O>=I;S++)R[S]=O/I|0,I*=4294967296;return new f(R,0)}function b(O,R){if(O.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(O.charAt(0)=="-")return k(b(O.substring(1),R));if(O.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=m(Math.pow(R,8));let S=T;for(let j=0;j<O.length;j+=8){var w=Math.min(8,O.length-j);const N=parseInt(O.substring(j,j+w),R);w<8?(w=m(Math.pow(R,w)),S=S.j(w).add(m(N))):(S=S.j(I),S=S.add(m(N)))}return S}var T=p(0),A=p(1),D=p(16777216);r=f.prototype,r.m=function(){if(L(this))return-k(this).m();let O=0,R=1;for(let I=0;I<this.g.length;I++){const S=this.i(I);O+=(S>=0?S:4294967296+S)*R,R*=4294967296}return O},r.toString=function(O){if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(V(this))return"0";if(L(this))return"-"+k(this).toString(O);const R=m(Math.pow(O,6));var I=this;let S="";for(;;){const w=ft(I,R).g;I=Q(I,w.j(R));let j=((I.g.length>0?I.g[0]:I.h)>>>0).toString(O);if(I=w,V(I))return j+S;for(;j.length<6;)j="0"+j;S=j+S}},r.i=function(O){return O<0?0:O<this.g.length?this.g[O]:this.h};function V(O){if(O.h!=0)return!1;for(let R=0;R<O.g.length;R++)if(O.g[R]!=0)return!1;return!0}function L(O){return O.h==-1}r.l=function(O){return O=Q(this,O),L(O)?-1:V(O)?0:1};function k(O){const R=O.g.length,I=[];for(let S=0;S<R;S++)I[S]=~O.g[S];return new f(I,~O.h).add(A)}r.abs=function(){return L(this)?k(this):this},r.add=function(O){const R=Math.max(this.g.length,O.g.length),I=[];let S=0;for(let w=0;w<=R;w++){let j=S+(this.i(w)&65535)+(O.i(w)&65535),N=(j>>>16)+(this.i(w)>>>16)+(O.i(w)>>>16);S=N>>>16,j&=65535,N&=65535,I[w]=N<<16|j}return new f(I,I[I.length-1]&-2147483648?-1:0)};function Q(O,R){return O.add(k(R))}r.j=function(O){if(V(this)||V(O))return T;if(L(this))return L(O)?k(this).j(k(O)):k(k(this).j(O));if(L(O))return k(this.j(k(O)));if(this.l(D)<0&&O.l(D)<0)return m(this.m()*O.m());const R=this.g.length+O.g.length,I=[];for(var S=0;S<2*R;S++)I[S]=0;for(S=0;S<this.g.length;S++)for(let w=0;w<O.g.length;w++){const j=this.i(S)>>>16,N=this.i(S)&65535,Et=O.i(w)>>>16,Mt=O.i(w)&65535;I[2*S+2*w]+=N*Mt,X(I,2*S+2*w),I[2*S+2*w+1]+=j*Mt,X(I,2*S+2*w+1),I[2*S+2*w+1]+=N*Et,X(I,2*S+2*w+1),I[2*S+2*w+2]+=j*Et,X(I,2*S+2*w+2)}for(O=0;O<R;O++)I[O]=I[2*O+1]<<16|I[2*O];for(O=R;O<2*R;O++)I[O]=0;return new f(I,0)};function X(O,R){for(;(O[R]&65535)!=O[R];)O[R+1]+=O[R]>>>16,O[R]&=65535,R++}function it(O,R){this.g=O,this.h=R}function ft(O,R){if(V(R))throw Error("division by zero");if(V(O))return new it(T,T);if(L(O))return R=ft(k(O),R),new it(k(R.g),k(R.h));if(L(R))return R=ft(O,k(R)),new it(k(R.g),R.h);if(O.g.length>30){if(L(O)||L(R))throw Error("slowDivide_ only works with positive integers.");for(var I=A,S=R;S.l(O)<=0;)I=pt(I),S=pt(S);var w=vt(I,1),j=vt(S,1);for(S=vt(S,2),I=vt(I,2);!V(S);){var N=j.add(S);N.l(O)<=0&&(w=w.add(I),j=N),S=vt(S,1),I=vt(I,1)}return R=Q(O,w.j(R)),new it(w,R)}for(w=T;O.l(R)>=0;){for(I=Math.max(1,Math.floor(O.m()/R.m())),S=Math.ceil(Math.log(I)/Math.LN2),S=S<=48?1:Math.pow(2,S-48),j=m(I),N=j.j(R);L(N)||N.l(O)>0;)I-=S,j=m(I),N=j.j(R);V(j)&&(j=A),w=w.add(j),O=Q(O,N)}return new it(w,O)}r.B=function(O){return ft(this,O).h},r.and=function(O){const R=Math.max(this.g.length,O.g.length),I=[];for(let S=0;S<R;S++)I[S]=this.i(S)&O.i(S);return new f(I,this.h&O.h)},r.or=function(O){const R=Math.max(this.g.length,O.g.length),I=[];for(let S=0;S<R;S++)I[S]=this.i(S)|O.i(S);return new f(I,this.h|O.h)},r.xor=function(O){const R=Math.max(this.g.length,O.g.length),I=[];for(let S=0;S<R;S++)I[S]=this.i(S)^O.i(S);return new f(I,this.h^O.h)};function pt(O){const R=O.g.length+1,I=[];for(let S=0;S<R;S++)I[S]=O.i(S)<<1|O.i(S-1)>>>31;return new f(I,O.h)}function vt(O,R){const I=R>>5;R%=32;const S=O.g.length-I,w=[];for(let j=0;j<S;j++)w[j]=R>0?O.i(j+I)>>>R|O.i(j+I+1)<<32-R:O.i(j+I);return new f(w,O.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,z1=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=m,f.fromString=b,Br=f}).apply(typeof G0<"u"?G0:typeof self<"u"?self:typeof window<"u"?window:{});var lc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var B1,no,k1,gc,Hd,U1,P1,q1;(function(){var r,e=Object.defineProperty;function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof lc=="object"&&lc];for(var y=0;y<c.length;++y){var E=c[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=i(this);function o(c,y){if(y)t:{var E=s;c=c.split(".");for(var C=0;C<c.length-1;C++){var q=c[C];if(!(q in E))break t;E=E[q]}c=c[c.length-1],C=E[c],y=y(C),y!=C&&y!=null&&e(E,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var E=[],C;for(C in y)Object.prototype.hasOwnProperty.call(y,C)&&E.push([C,y[C]]);return E}});var u=u||{},f=this||self;function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,E){return c.call.apply(c.bind,arguments)}function m(c,y,E){return m=p,m.apply(null,arguments)}function b(c,y){var E=Array.prototype.slice.call(arguments,1);return function(){var C=E.slice();return C.push.apply(C,arguments),c.apply(this,C)}}function T(c,y){function E(){}E.prototype=y.prototype,c.Z=y.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(C,q,Y){for(var rt=Array(arguments.length-2),At=2;At<arguments.length;At++)rt[At-2]=arguments[At];return y.prototype[q].apply(C,rt)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function D(c){const y=c.length;if(y>0){const E=Array(y);for(let C=0;C<y;C++)E[C]=c[C];return E}return[]}function V(c,y){for(let C=1;C<arguments.length;C++){const q=arguments[C];var E=typeof q;if(E=E!="object"?E:q?Array.isArray(q)?"array":E:"null",E=="array"||E=="object"&&typeof q.length=="number"){E=c.length||0;const Y=q.length||0;c.length=E+Y;for(let rt=0;rt<Y;rt++)c[E+rt]=q[rt]}else c.push(q)}}class L{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function k(c){f.setTimeout(()=>{throw c},0)}function Q(){var c=O;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class X{constructor(){this.h=this.g=null}add(y,E){const C=it.get();C.set(y,E),this.h?this.h.next=C:this.g=C,this.h=C}}var it=new L(()=>new ft,c=>c.reset());class ft{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let pt,vt=!1,O=new X,R=()=>{const c=Promise.resolve(void 0);pt=()=>{c.then(I)}};function I(){for(var c;c=Q();){try{c.h.call(c.g)}catch(E){k(E)}var y=it;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}vt=!1}function S(){this.u=this.u,this.C=this.C}S.prototype.u=!1,S.prototype.dispose=function(){this.u||(this.u=!0,this.N())},S.prototype[Symbol.dispose]=function(){this.dispose()},S.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function w(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}w.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};f.addEventListener("test",E,y),f.removeEventListener("test",E,y)}catch{}return c})();function N(c){return/^[\s\xa0]*$/.test(c)}function Et(c,y){w.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T(Et,w),Et.prototype.init=function(c,y){const E=this.type=c.type,C=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(E=="mouseover"?y=c.fromElement:E=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Et.Z.h.call(this)},Et.prototype.h=function(){Et.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Mt="closure_listenable_"+(Math.random()*1e6|0),$=0;function at(c,y,E,C,q){this.listener=c,this.proxy=null,this.src=y,this.type=E,this.capture=!!C,this.ha=q,this.key=++$,this.da=this.fa=!1}function mt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ut(c,y,E){for(const C in c)y.call(E,c[C],C,c)}function Qt(c,y){for(const E in c)y.call(void 0,c[E],E,c)}function B(c){const y={};for(const E in c)y[E]=c[E];return y}const tt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function st(c,y){let E,C;for(let q=1;q<arguments.length;q++){C=arguments[q];for(E in C)c[E]=C[E];for(let Y=0;Y<tt.length;Y++)E=tt[Y],Object.prototype.hasOwnProperty.call(C,E)&&(c[E]=C[E])}}function ot(c){this.src=c,this.g={},this.h=0}ot.prototype.add=function(c,y,E,C,q){const Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);const rt=Rt(c,y,C,q);return rt>-1?(y=c[rt],E||(y.fa=!1)):(y=new at(y,this.src,Y,!!C,q),y.fa=E,c.push(y)),y};function bt(c,y){const E=y.type;if(E in c.g){var C=c.g[E],q=Array.prototype.indexOf.call(C,y,void 0),Y;(Y=q>=0)&&Array.prototype.splice.call(C,q,1),Y&&(mt(y),c.g[E].length==0&&(delete c.g[E],c.h--))}}function Rt(c,y,E,C){for(let q=0;q<c.length;++q){const Y=c[q];if(!Y.da&&Y.listener==y&&Y.capture==!!E&&Y.ha==C)return q}return-1}var zt="closure_lm_"+(Math.random()*1e6|0),Ne={};function ae(c,y,E,C,q){if(Array.isArray(y)){for(let Y=0;Y<y.length;Y++)ae(c,y[Y],E,C,q);return null}return E=$s(E),c&&c[Mt]?c.J(y,E,g(C)?!!C.capture:!1,q):Xr(c,y,E,!1,C,q)}function Xr(c,y,E,C,q,Y){if(!y)throw Error("Invalid event type");const rt=g(q)?!!q.capture:!!q;let At=$r(c);if(At||(c[zt]=At=new ot(c)),E=At.add(y,E,C,rt,Y),E.proxy)return E;if(C=Ba(),E.proxy=C,C.src=c,C.listener=E,c.addEventListener)j||(q=rt),q===void 0&&(q=!1),c.addEventListener(y.toString(),C,q);else if(c.attachEvent)c.attachEvent(Jn(y.toString()),C);else if(c.addListener&&c.removeListener)c.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ba(){function c(E){return y.call(c.src,c.listener,E)}const y=Ks;return c}function ka(c,y,E,C,q){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)ka(c,y[Y],E,C,q);else C=g(C)?!!C.capture:!!C,E=$s(E),c&&c[Mt]?(c=c.i,Y=String(y).toString(),Y in c.g&&(y=c.g[Y],E=Rt(y,E,C,q),E>-1&&(mt(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete c.g[Y],c.h--)))):c&&(c=$r(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Rt(y,E,C,q)),(E=c>-1?y[c]:null)&&Ua(E))}function Ua(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Mt])bt(y.i,c);else{var E=c.type,C=c.proxy;y.removeEventListener?y.removeEventListener(E,C,c.capture):y.detachEvent?y.detachEvent(Jn(E),C):y.addListener&&y.removeListener&&y.removeListener(C),(E=$r(y))?(bt(E,c),E.h==0&&(E.src=null,y[zt]=null)):mt(c)}}}function Jn(c){return c in Ne?Ne[c]:Ne[c]="on"+c}function Ks(c,y){if(c.da)c=!0;else{y=new Et(y,this);const E=c.listener,C=c.ha||c.src;c.fa&&Ua(c),c=E.call(C,y)}return c}function $r(c){return c=c[zt],c instanceof ot?c:null}var Xs="__closure_events_fn_"+(Math.random()*1e9>>>0);function $s(c){return typeof c=="function"?c:(c[Xs]||(c[Xs]=function(y){return c.handleEvent(y)}),c[Xs])}function ve(){S.call(this),this.i=new ot(this),this.M=this,this.G=null}T(ve,S),ve.prototype[Mt]=!0,ve.prototype.removeEventListener=function(c,y,E,C){ka(this,c,y,E,C)};function Ie(c,y){var E,C=c.G;if(C)for(E=[];C;C=C.G)E.push(C);if(c=c.M,C=y.type||y,typeof y=="string")y=new w(y,c);else if(y instanceof w)y.target=y.target||c;else{var q=y;y=new w(C,c),st(y,q)}q=!0;let Y,rt;if(E)for(rt=E.length-1;rt>=0;rt--)Y=y.g=E[rt],q=nr(Y,C,!0,y)&&q;if(Y=y.g=c,q=nr(Y,C,!0,y)&&q,q=nr(Y,C,!1,y)&&q,E)for(rt=0;rt<E.length;rt++)Y=y.g=E[rt],q=nr(Y,C,!1,y)&&q}ve.prototype.N=function(){if(ve.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const E=c.g[y];for(let C=0;C<E.length;C++)mt(E[C]);delete c.g[y],c.h--}}this.G=null},ve.prototype.J=function(c,y,E,C){return this.i.add(String(c),y,!1,E,C)},ve.prototype.K=function(c,y,E,C){return this.i.add(String(c),y,!0,E,C)};function nr(c,y,E,C){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let q=!0;for(let Y=0;Y<y.length;++Y){const rt=y[Y];if(rt&&!rt.da&&rt.capture==E){const At=rt.listener,de=rt.ha||rt.src;rt.fa&&bt(c.i,rt),q=At.call(de,C)!==!1&&q}}return q&&!C.defaultPrevented}function sh(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:f.setTimeout(c,y||0)}function Io(c){c.g=sh(()=>{c.g=null,c.i&&(c.i=!1,Io(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class We extends S{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Io(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zr(c){S.call(this),this.h=c,this.g={}}T(Zr,S);var Zs=[];function Ws(c){Ut(c.g,function(y,E){this.g.hasOwnProperty(E)&&Ua(y)},c),c.g={}}Zr.prototype.N=function(){Zr.Z.N.call(this),Ws(this)},Zr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ir=f.JSON.stringify,lh=f.JSON.parse,Vo=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Oo(){}function jo(){}var Un={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ke(){w.call(this,"d")}T(ke,w);function xn(){w.call(this,"c")}T(xn,w);var fe={},Mo=null;function Pa(){return Mo=Mo||new ve}fe.Ia="serverreachability";function Lo(c){w.call(this,fe.Ia,c)}T(Lo,w);function ti(c){const y=Pa();Ie(y,new Lo(y))}fe.STAT_EVENT="statevent";function Wr(c,y){w.call(this,fe.STAT_EVENT,c),this.stat=y}T(Wr,w);function _e(c){const y=Pa();Ie(y,new Wr(y,c))}fe.Ja="timingevent";function ei(c,y){w.call(this,fe.Ja,c),this.size=y}T(ei,w);function ni(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},y)}function Pn(){this.g=!0}Pn.prototype.ua=function(){this.g=!1};function oh(c,y,E,C,q,Y){c.info(function(){if(c.g)if(Y){var rt="",At=Y.split("&");for(let Ht=0;Ht<At.length;Ht++){var de=At[Ht].split("=");if(de.length>1){const se=de[0];de=de[1];const Cn=se.split("_");rt=Cn.length>=2&&Cn[1]=="type"?rt+(se+"="+de+"&"):rt+(se+"=redacted&")}}}else rt=null;else rt=Y;return"XMLHTTP REQ ("+C+") [attempt "+q+"]: "+y+`
`+E+`
`+rt})}function zo(c,y,E,C,q,Y,rt){c.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+q+"]: "+y+`
`+E+`
`+Y+" "+rt})}function ii(c,y,E,C){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+uh(c,E)+(C?" "+C:"")})}function Jr(c,y){c.info(function(){return"TIMEOUT: "+y})}Pn.prototype.info=function(){};function uh(c,y){if(!c.g)return y;if(!y)return null;try{const Y=JSON.parse(y);if(Y){for(c=0;c<Y.length;c++)if(Array.isArray(Y[c])){var E=Y[c];if(!(E.length<2)){var C=E[1];if(Array.isArray(C)&&!(C.length<1)){var q=C[0];if(q!="noop"&&q!="stop"&&q!="close")for(let rt=1;rt<C.length;rt++)C[rt]=""}}}}return ir(Y)}catch{return y}}var ta={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Js={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},tl;function ea(){}T(ea,Oo),ea.prototype.g=function(){return new XMLHttpRequest},tl=new ea;function Ni(c){return encodeURIComponent(String(c))}function Bo(c){var y=1;c=c.split(":");const E=[];for(;y>0&&c.length;)E.push(c.shift()),y--;return c.length&&E.push(c.join(":")),E}function qn(c,y,E,C){this.j=c,this.i=y,this.l=E,this.S=C||1,this.V=new Zr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Hn}function Hn(){this.i=null,this.g="",this.h=!1}var Ee={},Me={};function ri(c,y,E){c.M=1,c.A=na(Te(y)),c.u=E,c.R=!0,qa(c,null)}function qa(c,y){c.F=Date.now(),ai(c),c.B=Te(c.A);var E=c.B,C=c.S;Array.isArray(C)||(C=[String(C)]),Qa(E.i,"t",C),c.C=0,E=c.j.L,c.h=new Hn,c.g=Jo(c.j,E?y:null,!c.u),c.P>0&&(c.O=new We(m(c.Y,c,c.g),c.P)),y=c.V,E=c.g,C=c.ba;var q="readystatechange";Array.isArray(q)||(q&&(Zs[0]=q.toString()),q=Zs);for(let Y=0;Y<q.length;Y++){const rt=ae(E,q[Y],C||y.handleEvent,!1,y.h||y);if(!rt)break;y.g[rt.key]=rt}y=c.J?B(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),ti(),oh(c.i,c.v,c.B,c.l,c.S,c.u)}qn.prototype.ba=function(c){c=c.target;const y=this.O;y&&Qn(c)==3?y.j():this.Y(c)},qn.prototype.Y=function(c){try{if(c==this.g)t:{const At=Qn(this.g),de=this.g.ya(),Ht=this.g.ca();if(!(At<3)&&(At!=3||this.g&&(this.h.h||this.g.la()||Ue(this.g)))){this.K||At!=4||de==7||(de==8||Ht<=0?ti(3):ti(2)),si(this);var y=this.g.ca();this.X=y;var E=ch(this);if(this.o=y==200,zo(this.i,this.v,this.B,this.l,this.S,At,y),this.o){if(this.U&&!this.L){e:{if(this.g){var C,q=this.g;if((C=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(C)){var Y=C;break e}}Y=null}if(c=Y)ii(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,li(this,c);else{this.o=!1,this.m=3,_e(12),mn(this),An(this);break t}}if(this.R){c=!0;let se;for(;!this.K&&this.C<E.length;)if(se=Uo(this,E),se==Me){At==4&&(this.m=4,_e(14),c=!1),ii(this.i,this.l,null,"[Incomplete Response]");break}else if(se==Ee){this.m=4,_e(15),ii(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else ii(this.i,this.l,se,null),li(this,se);if(ko(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||E.length!=0||this.h.h||(this.m=1,_e(16),c=!1),this.o=this.o&&c,!c)ii(this.i,this.l,E,"[Invalid Chunked Response]"),mn(this),An(this);else if(E.length>0&&!this.W){this.W=!0;var rt=this.j;rt.g==this&&rt.aa&&!rt.P&&(rt.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),gl(rt),rt.P=!0,_e(11))}}else ii(this.i,this.l,E,null),li(this,E);At==4&&mn(this),this.o&&!this.K&&(At==4?Xo(this.j,this):(this.o=!1,ai(this)))}else Vi(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,_e(12)):(this.m=0,_e(13)),mn(this),An(this)}}}catch{}};function ch(c){if(!ko(c))return c.g.la();const y=Ue(c.g);if(y==="")return"";let E="";const C=y.length,q=Qn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return mn(c),An(c),"";c.h.i=new f.TextDecoder}for(let Y=0;Y<C;Y++)c.h.h=!0,E+=c.h.i.decode(y[Y],{stream:!(q&&Y==C-1)});return y.length=0,c.h.g+=E,c.C=0,c.h.g}function ko(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Uo(c,y){var E=c.C,C=y.indexOf(`
`,E);return C==-1?Me:(E=Number(y.substring(E,C)),isNaN(E)?Ee:(C+=1,C+E>y.length?Me:(y=y.slice(C,C+E),c.C=C+E,y)))}qn.prototype.cancel=function(){this.K=!0,mn(this)};function ai(c){c.T=Date.now()+c.H,Ha(c,c.H)}function Ha(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ni(m(c.aa,c),y)}function si(c){c.D&&(f.clearTimeout(c.D),c.D=null)}qn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Jr(this.i,this.B),this.M!=2&&(ti(),_e(17)),mn(this),this.m=2,An(this)):Ha(this,this.T-c)};function An(c){c.j.I==0||c.K||Xo(c.j,c)}function mn(c){si(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Ws(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function li(c,y){try{var E=c.j;if(E.I!=0&&(E.g==c||ui(E.h,c))){if(!c.L&&ui(E.h,c)&&E.I==3){try{var C=E.Ba.g.parse(y)}catch{C=null}if(Array.isArray(C)&&C.length==3){var q=C;if(q[0]==0){t:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)Za(E),hr(E);else break t;ua(E),_e(18)}}else E.xa=q[1],0<E.xa-E.K&&q[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=ni(m(E.Va,E),6e3));oi(E.h)<=1&&E.ta&&(E.ta=void 0)}else gi(E,11)}else if((c.L||E.g==c)&&Za(E),!N(y))for(q=E.Ba.g.parse(y),y=0;y<q.length;y++){let Ht=q[y];const se=Ht[0];if(!(se<=E.K))if(E.K=se,Ht=Ht[1],E.I==2)if(Ht[0]=="c"){E.M=Ht[1],E.ba=Ht[2];const Cn=Ht[3];Cn!=null&&(E.ka=Cn,E.j.info("VER="+E.ka));const pi=Ht[4];pi!=null&&(E.za=pi,E.j.info("SVER="+E.za));const Yn=Ht[5];Yn!=null&&typeof Yn=="number"&&Yn>0&&(C=1.5*Yn,E.O=C,E.j.info("backChannelRequestTimeoutMs_="+C)),C=E;const Kn=c.g;if(Kn){const ca=Kn.g?Kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ca){var Y=C.h;Y.g||ca.indexOf("spdy")==-1&&ca.indexOf("quic")==-1&&ca.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(il(Y,Y.h),Y.h=null))}if(C.G){const Wa=Kn.g?Kn.g.getResponseHeader("X-HTTP-Session-Id"):null;Wa&&(C.wa=Wa,Yt(C.J,C.G,Wa))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),C=E;var rt=c;if(C.na=Wo(C,C.L?C.ba:null,C.W),rt.L){rl(C.h,rt);var At=rt,de=C.O;de&&(At.H=de),At.D&&(si(At),ai(At)),C.g=rt}else Yo(C);E.i.length>0&&mi(E)}else Ht[0]!="stop"&&Ht[0]!="close"||gi(E,7);else E.I==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?gi(E,7):dl(E):Ht[0]!="noop"&&E.l&&E.l.qa(Ht),E.A=0)}}ti(4)}catch{}}var be=class{constructor(c,y){this.g=c,this.map=y}};function el(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function nl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function oi(c){return c.h?1:c.g?c.g.size:0}function ui(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function il(c,y){c.g?c.g.add(y):c.h=y}function rl(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}el.prototype.cancel=function(){if(this.i=al(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function al(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const E of c.g.values())y=y.concat(E.G);return y}return D(c.i)}var Po=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ga(c,y){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const C=c[E].indexOf("=");let q,Y=null;C>=0?(q=c[E].substring(0,C),Y=c[E].substring(C+1)):q=c[E],y(q,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function gn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof gn?(this.l=c.l,Le(this,c.j),this.o=c.o,this.g=c.g,rr(this,c.u),this.h=c.h,sl(this,Fo(c.i)),this.m=c.m):c&&(y=String(c).match(Po))?(this.l=!1,Le(this,y[1]||"",!0),this.o=ci(y[2]||""),this.g=ci(y[3]||"",!0),rr(this,y[4]),this.h=ci(y[5]||"",!0),sl(this,y[6]||"",!0),this.m=ci(y[7]||"")):(this.l=!1,this.i=new sr(null,this.l))}gn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(ia(y,Fa,!0),":");var E=this.g;return(E||y=="file")&&(c.push("//"),(y=this.o)&&c.push(ia(y,Fa,!0),"@"),c.push(Ni(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(ia(E,E.charAt(0)=="/"?ll:qo,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",ia(E,Ho)),c.join("")},gn.prototype.resolve=function(c){const y=Te(this);let E=!!c.j;E?Le(y,c.j):E=!!c.o,E?y.o=c.o:E=!!c.g,E?y.g=c.g:E=c.u!=null;var C=c.h;if(E)rr(y,c.u);else if(E=!!c.h){if(C.charAt(0)!="/")if(this.g&&!this.h)C="/"+C;else{var q=y.h.lastIndexOf("/");q!=-1&&(C=y.h.slice(0,q+1)+C)}if(q=C,q==".."||q==".")C="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){C=q.lastIndexOf("/",0)==0,q=q.split("/");const Y=[];for(let rt=0;rt<q.length;){const At=q[rt++];At=="."?C&&rt==q.length&&Y.push(""):At==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),C&&rt==q.length&&Y.push("")):(Y.push(At),C=!0)}C=Y.join("/")}else C=q}return E?y.h=C:E=c.i.toString()!=="",E?sl(y,Fo(c.i)):E=!!c.m,E&&(y.m=c.m),y};function Te(c){return new gn(c)}function Le(c,y,E){c.j=E?ci(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function rr(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function sl(c,y,E){y instanceof sr?(c.i=y,Ya(c.i,c.l)):(E||(y=ia(y,ar)),c.i=new sr(y,c.l))}function Yt(c,y,E){c.i.set(y,E)}function na(c){return Yt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function ci(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ia(c,y,E){return typeof c=="string"?(c=encodeURI(c).replace(y,rn),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function rn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Fa=/[#\/\?@]/g,qo=/[#\?:]/g,ll=/[#\?]/g,ar=/[#\?@]/g,Ho=/#/g;function sr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function an(c){c.g||(c.g=new Map,c.h=0,c.i&&Ga(c.i,function(y,E){c.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}r=sr.prototype,r.add=function(c,y){an(this),this.i=null,c=lr(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(y),this.h+=1,this};function Go(c,y){an(c),y=lr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function ol(c,y){return an(c),y=lr(c,y),c.g.has(y)}r.forEach=function(c,y){an(this),this.g.forEach(function(E,C){E.forEach(function(q){c.call(y,q,C,this)},this)},this)};function ul(c,y){an(c);let E=[];if(typeof y=="string")ol(c,y)&&(E=E.concat(c.g.get(lr(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)E=E.concat(c[y]);return E}r.set=function(c,y){return an(this),this.i=null,c=lr(this,c),ol(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=ul(this,c),c.length>0?String(c[0]):y):y};function Qa(c,y,E){Go(c,y),E.length>0&&(c.i=null,c.g.set(lr(c,y),D(E)),c.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let C=0;C<y.length;C++){var E=y[C];const q=Ni(E);E=ul(this,E);for(let Y=0;Y<E.length;Y++){let rt=q;E[Y]!==""&&(rt+="="+Ni(E[Y])),c.push(rt)}}return this.i=c.join("&")};function Fo(c){const y=new sr;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function lr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Ya(c,y){y&&!c.j&&(an(c),c.i=null,c.g.forEach(function(E,C){const q=C.toLowerCase();C!=q&&(Go(this,C),Qa(this,q,E))},c)),c.j=y}function Gn(c,y){const E=new Pn;if(f.Image){const C=new Image;C.onload=b(wn,E,"TestLoadImage: loaded",!0,y,C),C.onerror=b(wn,E,"TestLoadImage: error",!1,y,C),C.onabort=b(wn,E,"TestLoadImage: abort",!1,y,C),C.ontimeout=b(wn,E,"TestLoadImage: timeout",!1,y,C),f.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=c}else y(!1)}function cl(c,y){const E=new Pn,C=new AbortController,q=setTimeout(()=>{C.abort(),wn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:C.signal}).then(Y=>{clearTimeout(q),Y.ok?wn(E,"TestPingServer: ok",!0,y):wn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),wn(E,"TestPingServer: error",!1,y)})}function wn(c,y,E,C,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),C(E)}catch{}}function or(){this.g=new Vo}function hi(c){this.i=c.Sb||null,this.h=c.ab||!1}T(hi,Oo),hi.prototype.g=function(){return new ra(this.i,this.h)};function ra(c,y){ve.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(ra,ve),r=ra.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Fn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||f).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ur(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ka(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ka(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ur(this):Fn(this),this.readyState==3&&Ka(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,ur(this))},r.Na=function(c){this.g&&(this.response=c,ur(this))},r.ga=function(){this.g&&ur(this)};function ur(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Fn(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=y.next();return c.join(`\r
`)};function Fn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ra.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Rn(c){let y="";return Ut(c,function(E,C){y+=C,y+=":",y+=E,y+=`\r
`}),y}function aa(c,y,E){t:{for(C in E){var C=!1;break t}C=!0}C||(E=Rn(E),typeof c=="string"?E!=null&&Ni(E):Yt(c,y,E))}function $t(c){ve.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T($t,ve);var fi=/^https?$/i,hl=["POST","PUT"];r=$t.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,E,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():tl.g(),this.g.onreadystatechange=A(m(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Y){sa(this,Y);return}if(c=E||"",E=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var q in C)E.set(q,C[q]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const Y of C.keys())E.set(Y,C.get(Y));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(E.keys()).find(Y=>Y.toLowerCase()=="content-type"),q=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(hl,y,void 0)>=0)||C||q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,rt]of E)this.g.setRequestHeader(Y,rt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(Y){sa(this,Y)}};function sa(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,fl(c),Ii(c)}function fl(c){c.A||(c.A=!0,Ie(c,"complete"),Ie(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ie(this,"complete"),Ie(this,"abort"),Ii(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ii(this,!0)),$t.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?la(this):this.Xa())},r.Xa=function(){la(this)};function la(c){if(c.h&&typeof u<"u"){if(c.v&&Qn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ie(c,"readystatechange"),Qn(c)==4){c.h=!1;try{const Y=c.ca();t:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var E;if(!(E=y)){var C;if(C=Y===0){let rt=String(c.D).match(Po)[1]||null;!rt&&f.self&&f.self.location&&(rt=f.self.location.protocol.slice(0,-1)),C=!fi.test(rt?rt.toLowerCase():"")}E=C}if(E)Ie(c,"complete"),Ie(c,"success");else{c.o=6;try{var q=Qn(c)>2?c.g.statusText:""}catch{q=""}c.l=q+" ["+c.ca()+"]",fl(c)}}finally{Ii(c)}}}}function Ii(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,y||Ie(c,"ready");try{E.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Qn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Qn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),lh(y)}};function Ue(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Vi(c){const y={};c=(c.g&&Qn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<c.length;C++){if(N(c[C]))continue;var E=Bo(c[C]);const q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Y=y[q]||[];y[q]=Y,Y.push(E)}Qt(y,function(C){return C.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function di(c,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||y}function cr(c){this.za=0,this.i=[],this.j=new Pn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=di("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=di("baseRetryDelayMs",5e3,c),this.Za=di("retryDelaySeedMs",1e4,c),this.Ta=di("forwardChannelMaxRetries",2,c),this.va=di("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new el(c&&c.concurrentRequestLimit),this.Ba=new or,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=cr.prototype,r.ka=8,r.I=1,r.connect=function(c,y,E,C){_e(0),this.W=c,this.H=y||{},E&&C!==void 0&&(this.H.OSID=E,this.H.OAID=C),this.F=this.X,this.J=Wo(this,null,this.W),mi(this)};function dl(c){if(Xa(c),c.I==3){var y=c.V++,E=Te(c.J);if(Yt(E,"SID",c.M),Yt(E,"RID",y),Yt(E,"TYPE","terminate"),oa(c,E),y=new qn(c,c.j,y),y.M=2,y.A=na(Te(E)),E=!1,f.navigator&&f.navigator.sendBeacon)try{E=f.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&f.Image&&(new Image().src=y.A,E=!0),E||(y.g=Jo(y.j,null),y.g.ea(y.A)),y.F=Date.now(),ai(y)}Zo(c)}function hr(c){c.g&&(gl(c),c.g.cancel(),c.g=null)}function Xa(c){hr(c),c.v&&(f.clearTimeout(c.v),c.v=null),Za(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function mi(c){if(!nl(c.h)&&!c.m){c.m=!0;var y=c.Ea;pt||R(),vt||(pt(),vt=!0),O.add(y,c),c.D=0}}function $a(c,y){return oi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ni(m(c.Ea,c,y),$o(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const q=new qn(this,this.j,c);let Y=this.o;if(this.U&&(Y?(Y=B(Y),st(Y,this.U)):Y=this.U),this.u!==null||this.R||(q.J=Y,Y=null),this.S)t:{for(var y=0,E=0;E<this.i.length;E++){e:{var C=this.i[E];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break e}C=void 0}if(C===void 0)break;if(y+=C,y>4096){y=E;break t}if(y===4096||E===this.i.length-1){y=E+1;break t}}y=1e3}else y=1e3;y=Qo(this,q,y),E=Te(this.J),Yt(E,"RID",c),Yt(E,"CVER",22),this.G&&Yt(E,"X-HTTP-Session-Id",this.G),oa(this,E),Y&&(this.R?y="headers="+Ni(Rn(Y))+"&"+y:this.u&&aa(E,this.u,Y)),il(this.h,q),this.Ra&&Yt(E,"TYPE","init"),this.S?(Yt(E,"$req",y),Yt(E,"SID","null"),q.U=!0,ri(q,E,null)):ri(q,E,y),this.I=2}}else this.I==3&&(c?ml(this,c):this.i.length==0||nl(this.h)||ml(this))};function ml(c,y){var E;y?E=y.l:E=c.V++;const C=Te(c.J);Yt(C,"SID",c.M),Yt(C,"RID",E),Yt(C,"AID",c.K),oa(c,C),c.u&&c.o&&aa(C,c.u,c.o),E=new qn(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Qo(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),il(c.h,E),ri(E,C,y)}function oa(c,y){c.H&&Ut(c.H,function(E,C){Yt(y,C,E)}),c.l&&Ut({},function(E,C){Yt(y,C,E)})}function Qo(c,y,E){E=Math.min(c.i.length,E);const C=c.l?m(c.l.Ka,c.l,c):null;t:{var q=c.i;let At=-1;for(;;){const de=["count="+E];At==-1?E>0?(At=q[0].g,de.push("ofs="+At)):At=0:de.push("ofs="+At);let Ht=!0;for(let se=0;se<E;se++){var Y=q[se].g;const Cn=q[se].map;if(Y-=At,Y<0)At=Math.max(0,q[se].g-100),Ht=!1;else try{Y="req"+Y+"_"||"";try{var rt=Cn instanceof Map?Cn:Object.entries(Cn);for(const[pi,Yn]of rt){let Kn=Yn;g(Yn)&&(Kn=ir(Yn)),de.push(Y+pi+"="+encodeURIComponent(Kn))}}catch(pi){throw de.push(Y+"type="+encodeURIComponent("_badmap")),pi}}catch{C&&C(Cn)}}if(Ht){rt=de.join("&");break t}}rt=void 0}return c=c.i.splice(0,E),y.G=c,rt}function Yo(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;pt||R(),vt||(pt(),vt=!0),O.add(y,c),c.A=0}}function ua(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ni(m(c.Da,c),$o(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Ko(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ni(m(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_e(10),hr(this),Ko(this))};function gl(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Ko(c){c.g=new qn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=Te(c.na);Yt(y,"RID","rpc"),Yt(y,"SID",c.M),Yt(y,"AID",c.K),Yt(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Yt(y,"TO",c.ia),Yt(y,"TYPE","xmlhttp"),oa(c,y),c.u&&c.o&&aa(y,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=na(Te(y)),E.u=null,E.R=!0,qa(E,c)}r.Va=function(){this.C!=null&&(this.C=null,hr(this),ua(this),_e(19))};function Za(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Xo(c,y){var E=null;if(c.g==y){Za(c),gl(c),c.g=null;var C=2}else if(ui(c.h,y))E=y.G,rl(c.h,y),C=1;else return;if(c.I!=0){if(y.o)if(C==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var q=c.D;C=Pa(),Ie(C,new ei(C,E)),mi(c)}else Yo(c);else if(q=y.m,q==3||q==0&&y.X>0||!(C==1&&$a(c,y)||C==2&&ua(c)))switch(E&&E.length>0&&(y=c.h,y.i=y.i.concat(E)),q){case 1:gi(c,5);break;case 4:gi(c,10);break;case 3:gi(c,6);break;default:gi(c,2)}}}function $o(c,y){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*y}function gi(c,y){if(c.j.info("Error code "+y),y==2){var E=m(c.bb,c),C=c.Ua;const q=!C;C=new gn(C||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Le(C,"https"),na(C),q?Gn(C.toString(),E):cl(C.toString(),E)}else _e(2);c.I=0,c.l&&c.l.pa(y),Zo(c),Xa(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))};function Zo(c){if(c.I=0,c.ja=[],c.l){const y=al(c.h);(y.length!=0||c.i.length!=0)&&(V(c.ja,y),V(c.ja,c.i),c.h.i.length=0,D(c.i),c.i.length=0),c.l.oa()}}function Wo(c,y,E){var C=E instanceof gn?Te(E):new gn(E);if(C.g!="")y&&(C.g=y+"."+C.g),rr(C,C.u);else{var q=f.location;C=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;const Y=new gn(null);C&&Le(Y,C),y&&(Y.g=y),q&&rr(Y,q),E&&(Y.h=E),C=Y}return E=c.G,y=c.wa,E&&y&&Yt(C,E,y),Yt(C,"VER",c.ka),oa(c,C),C}function Jo(c,y,E){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new $t(new hi({ab:E})):new $t(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function tu(){}r=tu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function fr(){}fr.prototype.g=function(c,y){return new Je(c,y)};function Je(c,y){ve.call(this),this.g=new cr(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!N(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!N(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Oi(this)}T(Je,ve),Je.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){dl(this.g)},Je.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=ir(c),c=E);y.i.push(new be(y.Ya++,c)),y.I==3&&mi(y)},Je.prototype.N=function(){this.g.l=null,delete this.j,dl(this.g),delete this.g,Je.Z.N.call(this)};function eu(c){ke.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const E in y){c=E;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T(eu,ke);function nu(){xn.call(this),this.status=1}T(nu,xn);function Oi(c){this.g=c}T(Oi,tu),Oi.prototype.ra=function(){Ie(this.g,"a")},Oi.prototype.qa=function(c){Ie(this.g,new eu(c))},Oi.prototype.pa=function(c){Ie(this.g,new nu)},Oi.prototype.oa=function(){Ie(this.g,"b")},fr.prototype.createWebChannel=fr.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,q1=function(){return new fr},P1=function(){return Pa()},U1=fe,Hd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ta.NO_ERROR=0,ta.TIMEOUT=8,ta.HTTP_ERROR=6,gc=ta,Js.COMPLETE="complete",k1=Js,jo.EventType=Un,Un.OPEN="a",Un.CLOSE="b",Un.ERROR="c",Un.MESSAGE="d",ve.prototype.listen=ve.prototype.J,no=jo,$t.prototype.listenOnce=$t.prototype.K,$t.prototype.getLastError=$t.prototype.Ha,$t.prototype.getLastErrorCode=$t.prototype.ya,$t.prototype.getStatus=$t.prototype.ca,$t.prototype.getResponseJson=$t.prototype.La,$t.prototype.getResponseText=$t.prototype.la,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Fa,B1=$t}).apply(typeof lc<"u"?lc:typeof self<"u"?self:typeof window<"u"?window:{});const F0="@firebase/firestore",Q0="4.9.3";class $e{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");let Gs="12.7.0";const Na=new I1("@firebase/firestore");function Ds(){return Na.logLevel}function lt(r,...e){if(Na.logLevel<=kt.DEBUG){const i=e.map(ym);Na.debug(`Firestore (${Gs}): ${r}`,...i)}}function Ji(r,...e){if(Na.logLevel<=kt.ERROR){const i=e.map(ym);Na.error(`Firestore (${Gs}): ${r}`,...i)}}function Ls(r,...e){if(Na.logLevel<=kt.WARN){const i=e.map(ym);Na.warn(`Firestore (${Gs}): ${r}`,...i)}}function ym(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function _t(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,H1(r,s,i)}function H1(r,e,i){let s=`FIRESTORE (${Gs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Ji(s),new Error(s)}function Ft(r,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,r||H1(e,o,s)}function xt(r,e){return r}const nt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends Hs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class kr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class G1{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i($e.UNAUTHENTICATED)))}shutdown(){}}class Rx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Cx{constructor(e){this.t=e,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ft(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,i(p)):Promise.resolve();let u=new kr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new kr,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},g=p=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>g(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new kr)}}),0),f()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ft(typeof s.accessToken=="string",31837,{l:s}),new G1(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ft(e===null||typeof e=="string",2055,{h:e}),new $e(e)}}class Dx{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Nx{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new Dx(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i($e.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Y0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ix{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ux(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Ft(this.o===void 0,3512);const s=u=>{u.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,lt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?i(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Y0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Ft(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Y0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Vx(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}class vm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Vx(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<i&&(s+=e.charAt(o[u]%62))}return s}}function Ot(r,e){return r<e?-1:r>e?1:0}function Gd(r,e){const i=Math.min(r.length,e.length);for(let s=0;s<i;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return vd(o)===vd(u)?Ot(o,u):vd(o)?1:-1}return Ot(r.length,e.length)}const Ox=55296,jx=57343;function vd(r){const e=r.charCodeAt(0);return e>=Ox&&e<=jx}function zs(r,e,i){return r.length===e.length&&r.every(((s,o)=>i(s,e[o])))}const K0="__name__";class bi{constructor(e,i,s){i===void 0?i=0:i>e.length&&_t(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&_t(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return bi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof bi?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const u=bi.compareSegments(e.get(o),i.get(o));if(u!==0)return u}return Ot(e.length,i.length)}static compareSegments(e,i){const s=bi.isNumericId(e),o=bi.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?bi.extractNumericId(e).compare(bi.extractNumericId(i)):Gd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Br.fromString(e.substring(4,e.length-2))}}class ie extends bi{construct(e,i,s){return new ie(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new ht(nt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((o=>o.length>0)))}return new ie(i)}static emptyPath(){return new ie([])}}const Mx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends bi{construct(e,i,s){return new Qe(e,i,s)}static isValidIdentifier(e){return Mx.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===K0}static keyField(){return new Qe([K0])}static fromServerFormat(e){const i=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ht(nt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let f=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new ht(nt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ht(nt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else g==="`"?(f=!f,o++):g!=="."||f?(s+=g,o++):(u(),o++)}if(u(),f)throw new ht(nt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qe(i)}static emptyPath(){return new Qe([])}}class gt{constructor(e){this.path=e}static fromPath(e){return new gt(ie.fromString(e))}static fromName(e){return new gt(ie.fromString(e).popFirst(5))}static empty(){return new gt(ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ie.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ie.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gt(new ie(e.slice()))}}function F1(r,e,i){if(!i)throw new ht(nt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Lx(r,e,i,s){if(e===!0&&s===!0)throw new ht(nt.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function X0(r){if(!gt.isDocumentKey(r))throw new ht(nt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function $0(r){if(gt.isDocumentKey(r))throw new ht(nt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Q1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function _m(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":_t(12329,{type:typeof r})}function Ti(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ht(nt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=_m(r);throw new ht(nt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function Ce(r,e){const i={typeString:r};return e&&(i.value=e),i}function wo(r,e){if(!Q1(r))throw new ht(nt.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){i=`Expected '${s}' field to equal '${u.value}'`;break}}if(i)throw new ht(nt.INVALID_ARGUMENT,i);return!0}const Z0=-62135596800,W0=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(e){return re.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*W0);return new re(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ht(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ht(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Z0)throw new ht(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ht(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/W0}_compareTo(e){return this.seconds===e.seconds?Ot(this.nanoseconds,e.nanoseconds):Ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(wo(e,re._jsonSchema))return new re(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Z0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:Ce("string",re._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};class Tt{static fromTimestamp(e){return new Tt(e)}static min(){return new Tt(new re(0,0))}static max(){return new Tt(new re(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const go=-1;function zx(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Tt.fromTimestamp(s===1e9?new re(i+1,0):new re(i,s));return new Pr(o,gt.empty(),e)}function Bx(r){return new Pr(r.readTime,r.key,go)}class Pr{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Pr(Tt.min(),gt.empty(),go)}static max(){return new Pr(Tt.max(),gt.empty(),go)}}function kx(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=gt.comparator(r.documentKey,e.documentKey),i!==0?i:Ot(r.largestBatchId,e.largestBatchId))}const Ux="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Px{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Fs(r){if(r.code!==nt.FAILED_PRECONDITION||r.message!==Ux)throw r;lt("LocalStore","Unexpectedly lost primary lease")}class et{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new et(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(i,u).next(s,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof et?i:et.resolve(i)}catch(i){return et.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):et.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):et.reject(i)}static resolve(e){return new et(((i,s)=>{i(e)}))}static reject(e){return new et(((i,s)=>{s(e)}))}static waitFor(e){return new et(((i,s)=>{let o=0,u=0,f=!1;e.forEach((g=>{++o,g.next((()=>{++u,f&&u===o&&i()}),(p=>s(p)))})),f=!0,u===o&&i()}))}static or(e){let i=et.resolve(!1);for(const s of e)i=i.next((o=>o?et.resolve(o):s()));return i}static forEach(e,i){const s=[];return e.forEach(((o,u)=>{s.push(i.call(this,o,u))})),this.waitFor(s)}static mapArray(e,i){return new et(((s,o)=>{const u=e.length,f=new Array(u);let g=0;for(let p=0;p<u;p++){const m=p;i(e[m]).next((b=>{f[m]=b,++g,g===u&&s(f)}),(b=>o(b)))}}))}static doWhile(e,i){return new et(((s,o)=>{const u=()=>{e()===!0?i().next((()=>{u()}),o):s()};u()}))}}function qx(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Qs(r){return r.name==="IndexedDbTransactionError"}class Uc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Uc.ce=-1;const Em=-1;function Pc(r){return r==null}function wc(r){return r===0&&1/r==-1/0}function Hx(r){return typeof r=="number"&&Number.isInteger(r)&&!wc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const Y1="";function Gx(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=J0(e)),e=Fx(r.get(i),e);return J0(e)}function Fx(r,e){let i=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":i+="";break;case Y1:i+="";break;default:i+=u}}return i}function J0(r){return r+Y1+""}function tv(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Yr(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function K1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ue{constructor(e,i){this.comparator=e,this.root=i||Fe.EMPTY}insert(e,i){return new ue(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Fe.BLACK,null,null))}remove(e){return new ue(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fe.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oc(this.root,e,this.comparator,!1)}getReverseIterator(){return new oc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oc(this.root,e,this.comparator,!0)}}class oc{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=i?s(e.key,i):1,i&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Fe{constructor(e,i,s,o,u){this.key=e,this.value=i,this.color=s??Fe.RED,this.left=o??Fe.EMPTY,this.right=u??Fe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,u){return new Fe(e??this.key,i??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,i,s),null):u===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Fe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Fe.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _t(27949);return e+(this.isRed()?0:1)}}Fe.EMPTY=null,Fe.RED=!0,Fe.BLACK=!1;Fe.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(e,i,s,o,u){return this}insert(e,i,s){return new Fe(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class je{constructor(e){this.comparator=e,this.data=new ue(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new ev(this.data.getIterator())}getIteratorFrom(e){return new ev(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof je)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new je(this.comparator);return i.data=e,i}}class ev{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Sn{constructor(e){this.fields=e,e.sort(Qe.comparator)}static empty(){return new Sn([])}unionWith(e){let i=new je(Qe.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new Sn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return zs(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}class X1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ye{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new X1("Invalid base64 string: "+u):u}})(e);return new Ye(i)}static fromUint8Array(e){const i=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Ye(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ye.EMPTY_BYTE_STRING=new Ye("");const Qx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qr(r){if(Ft(!!r,39018),typeof r=="string"){let e=0;const i=Qx.exec(r);if(Ft(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ye(r.seconds),nanos:ye(r.nanos)}}function ye(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Hr(r){return typeof r=="string"?Ye.fromBase64String(r):Ye.fromUint8Array(r)}const $1="server_timestamp",Z1="__type__",W1="__previous_value__",J1="__local_write_time__";function bm(r){return(r?.mapValue?.fields||{})[Z1]?.stringValue===$1}function qc(r){const e=r.mapValue.fields[W1];return bm(e)?qc(e):e}function po(r){const e=qr(r.mapValue.fields[J1].timestampValue);return new re(e.seconds,e.nanos)}class Yx{constructor(e,i,s,o,u,f,g,p,m,b){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=m,this.isUsingEmulator=b}}const Rc="(default)";class yo{constructor(e,i){this.projectId=e,this.database=i||Rc}static empty(){return new yo("","")}get isDefaultDatabase(){return this.database===Rc}isEqual(e){return e instanceof yo&&e.projectId===this.projectId&&e.database===this.database}}const t_="__type__",Kx="__max__",uc={mapValue:{}},e_="__vector__",Cc="value";function Gr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?bm(r)?4:$x(r)?9007199254740991:Xx(r)?10:11:_t(28295,{value:r})}function Ri(r,e){if(r===e)return!0;const i=Gr(r);if(i!==Gr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return po(r).isEqual(po(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=qr(o.timestampValue),g=qr(u.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return Hr(o.bytesValue).isEqual(Hr(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return ye(o.geoPointValue.latitude)===ye(u.geoPointValue.latitude)&&ye(o.geoPointValue.longitude)===ye(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return ye(o.integerValue)===ye(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=ye(o.doubleValue),g=ye(u.doubleValue);return f===g?wc(f)===wc(g):isNaN(f)&&isNaN(g)}return!1})(r,e);case 9:return zs(r.arrayValue.values||[],e.arrayValue.values||[],Ri);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},g=u.mapValue.fields||{};if(tv(f)!==tv(g))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(g[p]===void 0||!Ri(f[p],g[p])))return!1;return!0})(r,e);default:return _t(52216,{left:r})}}function vo(r,e){return(r.values||[]).find((i=>Ri(i,e)))!==void 0}function Bs(r,e){if(r===e)return 0;const i=Gr(r),s=Gr(e);if(i!==s)return Ot(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ot(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const g=ye(u.integerValue||u.doubleValue),p=ye(f.integerValue||f.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1})(r,e);case 3:return nv(r.timestampValue,e.timestampValue);case 4:return nv(po(r),po(e));case 5:return Gd(r.stringValue,e.stringValue);case 6:return(function(u,f){const g=Hr(u),p=Hr(f);return g.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const g=u.split("/"),p=f.split("/");for(let m=0;m<g.length&&m<p.length;m++){const b=Ot(g[m],p[m]);if(b!==0)return b}return Ot(g.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const g=Ot(ye(u.latitude),ye(f.latitude));return g!==0?g:Ot(ye(u.longitude),ye(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return iv(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const g=u.fields||{},p=f.fields||{},m=g[Cc]?.arrayValue,b=p[Cc]?.arrayValue,T=Ot(m?.values?.length||0,b?.values?.length||0);return T!==0?T:iv(m,b)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===uc.mapValue&&f===uc.mapValue)return 0;if(u===uc.mapValue)return 1;if(f===uc.mapValue)return-1;const g=u.fields||{},p=Object.keys(g),m=f.fields||{},b=Object.keys(m);p.sort(),b.sort();for(let T=0;T<p.length&&T<b.length;++T){const A=Gd(p[T],b[T]);if(A!==0)return A;const D=Bs(g[p[T]],m[b[T]]);if(D!==0)return D}return Ot(p.length,b.length)})(r.mapValue,e.mapValue);default:throw _t(23264,{he:i})}}function nv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ot(r,e);const i=qr(r),s=qr(e),o=Ot(i.seconds,s.seconds);return o!==0?o:Ot(i.nanos,s.nanos)}function iv(r,e){const i=r.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const u=Bs(i[o],s[o]);if(u)return u}return Ot(i.length,s.length)}function ks(r){return Fd(r)}function Fd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=qr(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Hr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return gt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",o=!0;for(const u of i.values||[])o?o=!1:s+=",",s+=Fd(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Fd(i.fields[f])}`;return o+"}"})(r.mapValue):_t(61005,{value:r})}function pc(r){switch(Gr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=qc(r);return e?16+pc(e):16;case 5:return 2*r.stringValue.length;case 6:return Hr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+pc(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Yr(s.fields,((u,f)=>{o+=u.length+pc(f)})),o})(r.mapValue);default:throw _t(13486,{value:r})}}function Qd(r){return!!r&&"integerValue"in r}function Tm(r){return!!r&&"arrayValue"in r}function rv(r){return!!r&&"nullValue"in r}function av(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function yc(r){return!!r&&"mapValue"in r}function Xx(r){return(r?.mapValue?.fields||{})[t_]?.stringValue===e_}function lo(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Yr(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=lo(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=lo(r.arrayValue.values[i]);return e}return{...r}}function $x(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Kx}class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!yc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=lo(i)}setAll(e){let i=Qe.emptyPath(),s={},o=[];e.forEach(((f,g)=>{if(!i.isImmediateParentOf(g)){const p=this.getFieldsMap(i);this.applyChanges(p,s,o),s={},o=[],i=g.popLast()}f?s[g.lastSegment()]=lo(f):o.push(g.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,s,o)}delete(e){const i=this.field(e.popLast());yc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ri(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];yc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){Yr(i,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new dn(lo(this.value))}}function n_(r){const e=[];return Yr(r.fields,((i,s)=>{const o=new Qe([i]);if(yc(s)){const u=n_(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new Sn(e)}class Ze{constructor(e,i,s,o,u,f,g){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=g}static newInvalidDocument(e){return new Ze(e,0,Tt.min(),Tt.min(),Tt.min(),dn.empty(),0)}static newFoundDocument(e,i,s,o){return new Ze(e,1,i,Tt.min(),s,o,0)}static newNoDocument(e,i){return new Ze(e,2,i,Tt.min(),Tt.min(),dn.empty(),0)}static newUnknownDocument(e,i){return new Ze(e,3,i,Tt.min(),Tt.min(),dn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ze&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Dc{constructor(e,i){this.position=e,this.inclusive=i}}function sv(r,e,i){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=gt.comparator(gt.fromName(f.referenceValue),i.key):s=Bs(f,i.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function lv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ri(r.position[i],e.position[i]))return!1;return!0}class Nc{constructor(e,i="asc"){this.field=e,this.dir=i}}function Zx(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class i_{}class Oe extends i_{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new Jx(e,i,s):i==="array-contains"?new nA(e,s):i==="in"?new iA(e,s):i==="not-in"?new rA(e,s):i==="array-contains-any"?new aA(e,s):new Oe(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new tA(e,s):new eA(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Bs(i,this.value)):i!==null&&Gr(this.value)===Gr(i)&&this.matchesComparison(Bs(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ci extends i_{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Ci(e,i)}matches(e){return r_(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function r_(r){return r.op==="and"}function a_(r){return Wx(r)&&r_(r)}function Wx(r){for(const e of r.filters)if(e instanceof Ci)return!1;return!0}function Yd(r){if(r instanceof Oe)return r.field.canonicalString()+r.op.toString()+ks(r.value);if(a_(r))return r.filters.map((e=>Yd(e))).join(",");{const e=r.filters.map((i=>Yd(i))).join(",");return`${r.op}(${e})`}}function s_(r,e){return r instanceof Oe?(function(s,o){return o instanceof Oe&&s.op===o.op&&s.field.isEqual(o.field)&&Ri(s.value,o.value)})(r,e):r instanceof Ci?(function(s,o){return o instanceof Ci&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,g)=>u&&s_(f,o.filters[g])),!0):!1})(r,e):void _t(19439)}function l_(r){return r instanceof Oe?(function(i){return`${i.field.canonicalString()} ${i.op} ${ks(i.value)}`})(r):r instanceof Ci?(function(i){return i.op.toString()+" {"+i.getFilters().map(l_).join(" ,")+"}"})(r):"Filter"}class Jx extends Oe{constructor(e,i,s){super(e,i,s),this.key=gt.fromName(s.referenceValue)}matches(e){const i=gt.comparator(e.key,this.key);return this.matchesComparison(i)}}class tA extends Oe{constructor(e,i){super(e,"in",i),this.keys=o_("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class eA extends Oe{constructor(e,i){super(e,"not-in",i),this.keys=o_("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function o_(r,e){return(e.arrayValue?.values||[]).map((i=>gt.fromName(i.referenceValue)))}class nA extends Oe{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Tm(i)&&vo(i.arrayValue,this.value)}}class iA extends Oe{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&vo(this.value.arrayValue,i)}}class rA extends Oe{constructor(e,i){super(e,"not-in",i)}matches(e){if(vo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!vo(this.value.arrayValue,i)}}class aA extends Oe{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Tm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>vo(this.value.arrayValue,s)))}}class sA{constructor(e,i=null,s=[],o=[],u=null,f=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=g,this.Te=null}}function ov(r,e=null,i=[],s=[],o=null,u=null,f=null){return new sA(r,e,i,s,o,u,f)}function Sm(r){const e=xt(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>Yd(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Pc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>ks(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>ks(s))).join(",")),e.Te=i}return e.Te}function xm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!Zx(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!s_(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!lv(r.startAt,e.startAt)&&lv(r.endAt,e.endAt)}function Kd(r){return gt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Hc{constructor(e,i=null,s=[],o=[],u=null,f="F",g=null,p=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=g,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function lA(r,e,i,s,o,u,f,g){return new Hc(r,e,i,s,o,u,f,g)}function Gc(r){return new Hc(r)}function uv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function oA(r){return r.collectionGroup!==null}function oo(r){const e=xt(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),i.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new je(Qe.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((m=>{m.isInequality()&&(g=g.add(m.field))}))})),g})(e).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Nc(u,s))})),i.has(Qe.keyField().canonicalString())||e.Ie.push(new Nc(Qe.keyField(),s))}return e.Ie}function Si(r){const e=xt(r);return e.Ee||(e.Ee=uA(e,oo(r))),e.Ee}function uA(r,e){if(r.limitType==="F")return ov(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Nc(o.field,u)}));const i=r.endAt?new Dc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Dc(r.startAt.position,r.startAt.inclusive):null;return ov(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function Xd(r,e,i){return new Hc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function Fc(r,e){return xm(Si(r),Si(e))&&r.limitType===e.limitType}function u_(r){return`${Sm(Si(r))}|lt:${r.limitType}`}function Ns(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((o=>l_(o))).join(", ")}]`),Pc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((o=>ks(o))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((o=>ks(o))).join(",")),`Target(${s})`})(Si(r))}; limitType=${r.limitType})`}function Qc(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):gt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of oo(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,g,p){const m=sv(f,g,p);return f.inclusive?m<=0:m<0})(s.startAt,oo(s),o)||s.endAt&&!(function(f,g,p){const m=sv(f,g,p);return f.inclusive?m>=0:m>0})(s.endAt,oo(s),o))})(r,e)}function cA(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function c_(r){return(e,i)=>{let s=!1;for(const o of oo(r)){const u=hA(o,e,i);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function hA(r,e,i){const s=r.field.isKeyField()?gt.comparator(e.key,i.key):(function(u,f,g){const p=f.data.field(u),m=g.data.field(u);return p!==null&&m!==null?Bs(p,m):_t(42886)})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return _t(19790,{direction:r.dir})}}class Ma{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Yr(this.inner,((i,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return K1(this.inner)}size(){return this.innerSize}}const fA=new ue(gt.comparator);function tr(){return fA}const h_=new ue(gt.comparator);function io(...r){let e=h_;for(const i of r)e=e.insert(i.key,i);return e}function f_(r){let e=h_;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function Ca(){return uo()}function d_(){return uo()}function uo(){return new Ma((r=>r.toString()),((r,e)=>r.isEqual(e)))}const dA=new ue(gt.comparator),mA=new je(gt.comparator);function jt(...r){let e=mA;for(const i of r)e=e.add(i);return e}const gA=new je(Ot);function pA(){return gA}function Am(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wc(e)?"-0":e}}function m_(r){return{integerValue:""+r}}function yA(r,e){return Hx(e)?m_(e):Am(r,e)}class Yc{constructor(){this._=void 0}}function vA(r,e,i){return r instanceof Ic?(function(o,u){const f={fields:{[Z1]:{stringValue:$1},[J1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&bm(u)&&(u=qc(u)),u&&(f.fields[W1]=u),{mapValue:f}})(i,e):r instanceof _o?p_(r,e):r instanceof Eo?y_(r,e):(function(o,u){const f=g_(o,u),g=cv(f)+cv(o.Ae);return Qd(f)&&Qd(o.Ae)?m_(g):Am(o.serializer,g)})(r,e)}function _A(r,e,i){return r instanceof _o?p_(r,e):r instanceof Eo?y_(r,e):i}function g_(r,e){return r instanceof Vc?(function(s){return Qd(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Ic extends Yc{}class _o extends Yc{constructor(e){super(),this.elements=e}}function p_(r,e){const i=v_(e);for(const s of r.elements)i.some((o=>Ri(o,s)))||i.push(s);return{arrayValue:{values:i}}}class Eo extends Yc{constructor(e){super(),this.elements=e}}function y_(r,e){let i=v_(e);for(const s of r.elements)i=i.filter((o=>!Ri(o,s)));return{arrayValue:{values:i}}}class Vc extends Yc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function cv(r){return ye(r.integerValue||r.doubleValue)}function v_(r){return Tm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function EA(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof _o&&o instanceof _o||s instanceof Eo&&o instanceof Eo?zs(s.elements,o.elements,Ri):s instanceof Vc&&o instanceof Vc?Ri(s.Ae,o.Ae):s instanceof Ic&&o instanceof Ic})(r.transform,e.transform)}class bA{constructor(e,i){this.version=e,this.transformResults=i}}class Wn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Wn}static exists(e){return new Wn(void 0,e)}static updateTime(e){return new Wn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Kc{}function __(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new wm(r.key,Wn.none()):new Ro(r.key,r.data,Wn.none());{const i=r.data,s=dn.empty();let o=new je(Qe.comparator);for(let u of e.fields)if(!o.has(u)){let f=i.field(u);f===null&&u.length>1&&(u=u.popLast(),f=i.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Kr(r.key,s,new Sn(o.toArray()),Wn.none())}}function TA(r,e,i){r instanceof Ro?(function(o,u,f){const g=o.value.clone(),p=fv(o.fieldTransforms,u,f.transformResults);g.setAll(p),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,e,i):r instanceof Kr?(function(o,u,f){if(!vc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const g=fv(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(E_(o)),p.setAll(g),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,i):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,i)}function co(r,e,i,s){return r instanceof Ro?(function(u,f,g,p){if(!vc(u.precondition,f))return g;const m=u.value.clone(),b=dv(u.fieldTransforms,p,f);return m.setAll(b),f.convertToFoundDocument(f.version,m).setHasLocalMutations(),null})(r,e,i,s):r instanceof Kr?(function(u,f,g,p){if(!vc(u.precondition,f))return g;const m=dv(u.fieldTransforms,p,f),b=f.data;return b.setAll(E_(u)),b.setAll(m),f.convertToFoundDocument(f.version,b).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,e,i,s):(function(u,f,g){return vc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g})(r,e,i)}function SA(r,e){let i=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=g_(s.transform,o||null);u!=null&&(i===null&&(i=dn.empty()),i.set(s.field,u))}return i||null}function hv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&zs(s,o,((u,f)=>EA(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Ro extends Kc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Kr extends Kc{constructor(e,i,s,o,u=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function E_(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function fv(r,e,i){const s=new Map;Ft(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const u=r[o],f=u.transform,g=e.data.field(u.field);s.set(u.field,_A(f,g,i[o]))}return s}function dv(r,e,i){const s=new Map;for(const o of r){const u=o.transform,f=i.data.field(o.field);s.set(o.field,vA(u,f,e))}return s}class wm extends Kc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xA extends Kc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class AA{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&TA(u,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=co(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=co(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=d_();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let g=this.applyToLocalView(f,u.mutatedFields);g=i.has(o.key)?null:g;const p=__(f,g);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Tt.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),jt())}isEqual(e){return this.batchId===e.batchId&&zs(this.mutations,e.mutations,((i,s)=>hv(i,s)))&&zs(this.baseMutations,e.baseMutations,((i,s)=>hv(i,s)))}}class Rm{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Ft(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return dA})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Rm(e,i,s,o)}}class wA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class RA{constructor(e,i){this.count=e,this.unchangedNames=i}}var Re,Bt;function CA(r){switch(r){case nt.OK:return _t(64938);case nt.CANCELLED:case nt.UNKNOWN:case nt.DEADLINE_EXCEEDED:case nt.RESOURCE_EXHAUSTED:case nt.INTERNAL:case nt.UNAVAILABLE:case nt.UNAUTHENTICATED:return!1;case nt.INVALID_ARGUMENT:case nt.NOT_FOUND:case nt.ALREADY_EXISTS:case nt.PERMISSION_DENIED:case nt.FAILED_PRECONDITION:case nt.ABORTED:case nt.OUT_OF_RANGE:case nt.UNIMPLEMENTED:case nt.DATA_LOSS:return!0;default:return _t(15467,{code:r})}}function b_(r){if(r===void 0)return Ji("GRPC error has no .code"),nt.UNKNOWN;switch(r){case Re.OK:return nt.OK;case Re.CANCELLED:return nt.CANCELLED;case Re.UNKNOWN:return nt.UNKNOWN;case Re.DEADLINE_EXCEEDED:return nt.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return nt.RESOURCE_EXHAUSTED;case Re.INTERNAL:return nt.INTERNAL;case Re.UNAVAILABLE:return nt.UNAVAILABLE;case Re.UNAUTHENTICATED:return nt.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return nt.INVALID_ARGUMENT;case Re.NOT_FOUND:return nt.NOT_FOUND;case Re.ALREADY_EXISTS:return nt.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return nt.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return nt.FAILED_PRECONDITION;case Re.ABORTED:return nt.ABORTED;case Re.OUT_OF_RANGE:return nt.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return nt.UNIMPLEMENTED;case Re.DATA_LOSS:return nt.DATA_LOSS;default:return _t(39323,{code:r})}}(Bt=Re||(Re={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";function DA(){return new TextEncoder}const NA=new Br([4294967295,4294967295],0);function mv(r){const e=DA().encode(r),i=new z1;return i.update(e),new Uint8Array(i.digest())}function gv(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Br([i,s],0),new Br([o,u],0)]}class Cm{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new ro(`Invalid padding: ${i}`);if(s<0)throw new ro(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ro(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new ro(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Br.fromNumber(this.ge)}ye(e,i,s){let o=e.add(i.multiply(Br.fromNumber(s)));return o.compare(NA)===1&&(o=new Br([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=mv(e),[s,o]=gv(i);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Cm(u,o,i);return s.forEach((g=>f.insert(g))),f}insert(e){if(this.ge===0)return;const i=mv(e),[s,o]=gv(i);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class ro extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Xc{constructor(e,i,s,o,u){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,Co.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Xc(Tt.min(),o,new ue(Ot),tr(),jt())}}class Co{constructor(e,i,s,o,u){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new Co(s,i,jt(),jt(),jt())}}class _c{constructor(e,i,s,o){this.be=e,this.removedTargetIds=i,this.key=s,this.De=o}}class T_{constructor(e,i){this.targetId=e,this.Ce=i}}class S_{constructor(e,i,s=Ye.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class pv{constructor(){this.ve=0,this.Fe=yv(),this.Me=Ye.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=jt(),i=jt(),s=jt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:_t(38017,{changeType:u})}})),new Co(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=yv()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class IA{constructor(e){this.Ge=e,this.ze=new Map,this.je=tr(),this.Je=cc(),this.He=cc(),this.Ye=new ue(Ot)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:_t(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,s=e.Ce.count,o=this.ot(i);if(o){const u=o.target;if(Kd(u))if(s===0){const f=new gt(u.path);this.et(i,f,Ze.newNoDocument(f,Tt.min()))}else Ft(s===1,20013,{expectedCount:s});else{const f=this._t(i);if(f!==s){const g=this.ut(e),p=g?this.ct(g,e,f):1;if(p!==0){this.it(i);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,m)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=i;let f,g;try{f=Hr(s).toUint8Array()}catch(p){if(p instanceof X1)return Ls("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new Cm(f,o,u)}catch(p){return Ls(p instanceof ro?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.ge===0?null:g}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),g=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(g)||(this.et(i,u,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((u,f)=>{const g=this.ot(f);if(g){if(u.current&&Kd(g.target)){const p=new gt(g.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,Ze.newNoDocument(p,e))}u.Be&&(i.set(f,u.ke()),u.qe())}}));let s=jt();this.He.forEach(((u,f)=>{let g=!0;f.forEachWhile((p=>{const m=this.ot(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new Xc(e,i,this.Ye,this.je,s);return this.je=tr(),this.Je=cc(),this.He=cc(),this.Ye=new ue(Ot),o}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new pv,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new je(Ot),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new je(Ot),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||lt("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new pv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function cc(){return new ue(gt.comparator)}function yv(){return new ue(gt.comparator)}const VA={asc:"ASCENDING",desc:"DESCENDING"},OA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jA={and:"AND",or:"OR"};class MA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function $d(r,e){return r.useProto3Json||Pc(e)?e:{value:e}}function Oc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function x_(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function LA(r,e){return Oc(r,e.toTimestamp())}function xi(r){return Ft(!!r,49232),Tt.fromTimestamp((function(i){const s=qr(i);return new re(s.seconds,s.nanos)})(r))}function Dm(r,e){return Zd(r,e).canonicalString()}function Zd(r,e){const i=(function(o){return new ie(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?i:i.child(e)}function A_(r){const e=ie.fromString(r);return Ft(N_(e),10190,{key:e.toString()}),e}function Wd(r,e){return Dm(r.databaseId,e.path)}function _d(r,e){const i=A_(e);if(i.get(1)!==r.databaseId.projectId)throw new ht(nt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ht(nt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new gt(R_(i))}function w_(r,e){return Dm(r.databaseId,e)}function zA(r){const e=A_(r);return e.length===4?ie.emptyPath():R_(e)}function Jd(r){return new ie(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function R_(r){return Ft(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function vv(r,e,i){return{name:Wd(r,e),fields:i.value.mapValue.fields}}function BA(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:_t(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(m,b){return m.useProto3Json?(Ft(b===void 0||typeof b=="string",58123),Ye.fromBase64String(b||"")):(Ft(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Ye.fromUint8Array(b||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,g=f&&(function(m){const b=m.code===void 0?nt.UNKNOWN:b_(m.code);return new ht(b,m.message||"")})(f);i=new S_(s,o,u,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=_d(r,s.document.name),u=xi(s.document.updateTime),f=s.document.createTime?xi(s.document.createTime):Tt.min(),g=new dn({mapValue:{fields:s.document.fields}}),p=Ze.newFoundDocument(o,u,f,g),m=s.targetIds||[],b=s.removedTargetIds||[];i=new _c(m,b,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=_d(r,s.document),u=s.readTime?xi(s.readTime):Tt.min(),f=Ze.newNoDocument(o,u),g=s.removedTargetIds||[];i=new _c([],g,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=_d(r,s.document),u=s.removedTargetIds||[];i=new _c([],u,o,null)}else{if(!("filter"in e))return _t(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new RA(o,u),g=s.targetId;i=new T_(g,f)}}return i}function kA(r,e){let i;if(e instanceof Ro)i={update:vv(r,e.key,e.value)};else if(e instanceof wm)i={delete:Wd(r,e.key)};else if(e instanceof Kr)i={update:vv(r,e.key,e.data),updateMask:KA(e.fieldMask)};else{if(!(e instanceof xA))return _t(16599,{Vt:e.type});i={verify:Wd(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const g=f.transform;if(g instanceof Ic)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof _o)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Eo)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Vc)return{fieldPath:f.field.canonicalString(),increment:g.Ae};throw _t(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:LA(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:_t(27497)})(r,e.precondition)),i}function UA(r,e){return r&&r.length>0?(Ft(e!==void 0,14353),r.map((i=>(function(o,u){let f=o.updateTime?xi(o.updateTime):xi(u);return f.isEqual(Tt.min())&&(f=xi(u)),new bA(f,o.transformResults||[])})(i,e)))):[]}function PA(r,e){return{documents:[w_(r,e.path)]}}function qA(r,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=w_(r,o);const u=(function(m){if(m.length!==0)return D_(Ci.create(m,"and"))})(e.filters);u&&(i.structuredQuery.where=u);const f=(function(m){if(m.length!==0)return m.map((b=>(function(A){return{field:Is(A.field),direction:FA(A.dir)}})(b)))})(e.orderBy);f&&(i.structuredQuery.orderBy=f);const g=$d(r,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:i,parent:o}}function HA(r){let e=zA(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Ft(s===1,65062);const b=i.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let u=[];i.where&&(u=(function(T){const A=C_(T);return A instanceof Ci&&a_(A)?A.getFilters():[A]})(i.where));let f=[];i.orderBy&&(f=(function(T){return T.map((A=>(function(V){return new Nc(Vs(V.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(V.direction))})(A)))})(i.orderBy));let g=null;i.limit&&(g=(function(T){let A;return A=typeof T=="object"?T.value:T,Pc(A)?null:A})(i.limit));let p=null;i.startAt&&(p=(function(T){const A=!!T.before,D=T.values||[];return new Dc(D,A)})(i.startAt));let m=null;return i.endAt&&(m=(function(T){const A=!T.before,D=T.values||[];return new Dc(D,A)})(i.endAt)),lA(e,o,f,u,g,"F",p,m)}function GA(r,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function C_(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Vs(i.unaryFilter.field);return Oe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Vs(i.unaryFilter.field);return Oe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Vs(i.unaryFilter.field);return Oe.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Vs(i.unaryFilter.field);return Oe.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Oe.create(Vs(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Ci.create(i.compositeFilter.filters.map((s=>C_(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _t(1026)}})(i.compositeFilter.op))})(r):_t(30097,{filter:r})}function FA(r){return VA[r]}function QA(r){return OA[r]}function YA(r){return jA[r]}function Is(r){return{fieldPath:r.canonicalString()}}function Vs(r){return Qe.fromServerFormat(r.fieldPath)}function D_(r){return r instanceof Oe?(function(i){if(i.op==="=="){if(av(i.value))return{unaryFilter:{field:Is(i.field),op:"IS_NAN"}};if(rv(i.value))return{unaryFilter:{field:Is(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(av(i.value))return{unaryFilter:{field:Is(i.field),op:"IS_NOT_NAN"}};if(rv(i.value))return{unaryFilter:{field:Is(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Is(i.field),op:QA(i.op),value:i.value}}})(r):r instanceof Ci?(function(i){const s=i.getFilters().map((o=>D_(o)));return s.length===1?s[0]:{compositeFilter:{op:YA(i.op),filters:s}}})(r):_t(54877,{filter:r})}function KA(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function N_(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Mr{constructor(e,i,s,o,u=Tt.min(),f=Tt.min(),g=Ye.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(e){return new Mr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Mr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class XA{constructor(e){this.yt=e}}function $A(r){const e=HA({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Xd(e,e.limit,"L"):e}class ZA{constructor(){this.Cn=new WA}addToCollectionParentIndex(e,i){return this.Cn.add(i),et.resolve()}getCollectionParents(e,i){return et.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return et.resolve()}deleteFieldIndex(e,i){return et.resolve()}deleteAllFieldIndexes(e){return et.resolve()}createTargetIndexes(e,i){return et.resolve()}getDocumentsMatchingTarget(e,i){return et.resolve(null)}getIndexType(e,i){return et.resolve(0)}getFieldIndexes(e,i){return et.resolve([])}getNextCollectionGroupToUpdate(e){return et.resolve(null)}getMinOffset(e,i){return et.resolve(Pr.min())}getMinOffsetFromCollectionGroup(e,i){return et.resolve(Pr.min())}updateCollectionGroup(e,i,s){return et.resolve()}updateIndexEntries(e,i){return et.resolve()}}class WA{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new je(ie.comparator),u=!o.has(s);return this.index[i]=o.add(s),u}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new je(ie.comparator)).toArray()}}const _v={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},I_=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(I_,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class Us{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Us(0)}static cr(){return new Us(-1)}}const Ev="LruGarbageCollector",JA=1048576;function bv([r,e],[i,s]){const o=Ot(r,i);return o===0?Ot(e,s):o}class tw{constructor(e){this.Ir=e,this.buffer=new je(bv),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();bv(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class ew{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){lt(Ev,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Qs(i)?lt(Ev,"Ignoring IndexedDB error during garbage collection: ",i):await Fs(i)}await this.Vr(3e5)}))}}class nw{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return et.resolve(Uc.ce);const s=new tw(i);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(_v)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_v):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,o,u,f,g,p,m;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,g=Date.now(),this.removeTargets(e,s,i)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(m=Date.now(),Ds()<=kt.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-b}ms
	Determined least recently used ${o} in `+(g-f)+`ms
	Removed ${u} targets in `+(p-g)+`ms
	Removed ${T} documents in `+(m-p)+`ms
Total Duration: ${m-b}ms`),et.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function iw(r,e){return new nw(r,e)}class rw{constructor(){this.changes=new Ma((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ze.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?et.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class aw{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class sw{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(s!==null&&co(s.mutation,o,Sn.empty(),re.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,jt()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=jt()){const o=Ca();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,s).next((u=>{let f=io();return u.forEach(((g,p)=>{f=f.insert(g,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,i){const s=Ca();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,jt())))}populateOverlays(e,i,s){const o=[];return s.forEach((u=>{i.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,g)=>{i.set(f,g)}))}))}computeViews(e,i,s,o){let u=tr();const f=uo(),g=(function(){return uo()})();return i.forEach(((p,m)=>{const b=s.get(m.key);o.has(m.key)&&(b===void 0||b.mutation instanceof Kr)?u=u.insert(m.key,m):b!==void 0?(f.set(m.key,b.mutation.getFieldMask()),co(b.mutation,m,b.mutation.getFieldMask(),re.now())):f.set(m.key,Sn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((m,b)=>f.set(m,b))),i.forEach(((m,b)=>g.set(m,new aw(b,f.get(m)??null)))),g)))}recalculateAndSaveOverlays(e,i){const s=uo();let o=new ue(((f,g)=>f-g)),u=jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((f=>{for(const g of f)g.keys().forEach((p=>{const m=i.get(p);if(m===null)return;let b=s.get(p)||Sn.empty();b=g.applyToLocalView(m,b),s.set(p,b);const T=(o.get(g.batchId)||jt()).add(p);o=o.insert(g.batchId,T)}))})).next((()=>{const f=[],g=o.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),m=p.key,b=p.value,T=d_();b.forEach((A=>{if(!u.has(A)){const D=__(i.get(A),s.get(A));D!==null&&T.set(A,D),u=u.add(A)}})),f.push(this.documentOverlayCache.saveOverlays(e,m,T))}return et.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,o){return(function(f){return gt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):oA(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-u.size):et.resolve(Ca());let g=go,p=u;return f.next((m=>et.forEach(m,((b,T)=>(g<T.largestBatchId&&(g=T.largestBatchId),u.get(b)?et.resolve():this.remoteDocumentCache.getEntry(e,b).next((A=>{p=p.insert(b,A)}))))).next((()=>this.populateOverlays(e,m,u))).next((()=>this.computeViews(e,p,m,jt()))).next((b=>({batchId:g,changes:f_(b)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new gt(i)).next((s=>{let o=io();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const u=i.collectionGroup;let f=io();return this.indexManager.getCollectionParents(e,u).next((g=>et.forEach(g,(p=>{const m=(function(T,A){return new Hc(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(i,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,m,s,o).next((b=>{b.forEach(((T,A)=>{f=f.insert(T,A)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,i,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,u,o)))).next((f=>{u.forEach(((p,m)=>{const b=m.getKey();f.get(b)===null&&(f=f.insert(b,Ze.newInvalidDocument(b)))}));let g=io();return f.forEach(((p,m)=>{const b=u.get(p);b!==void 0&&co(b.mutation,m,Sn.empty(),re.now()),Qc(i,m)&&(g=g.insert(p,m))})),g}))}}class lw{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return et.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:xi(o.createTime)}})(i)),et.resolve()}getNamedQuery(e,i){return et.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:$A(o.bundledQuery),readTime:xi(o.readTime)}})(i)),et.resolve()}}class ow{constructor(){this.overlays=new ue(gt.comparator),this.qr=new Map}getOverlay(e,i){return et.resolve(this.overlays.get(i))}getOverlays(e,i){const s=Ca();return et.forEach(i,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((o,u)=>{this.St(e,i,u)})),et.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),et.resolve()}getOverlaysForCollection(e,i,s){const o=Ca(),u=i.length+1,f=new gt(i.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const p=g.getNext().value,m=p.getKey();if(!i.isPrefixOf(m.path))break;m.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return et.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let u=new ue(((m,b)=>m-b));const f=this.overlays.getIterator();for(;f.hasNext();){const m=f.getNext().value;if(m.getKey().getCollectionGroup()===i&&m.largestBatchId>s){let b=u.get(m.largestBatchId);b===null&&(b=Ca(),u=u.insert(m.largestBatchId,b)),b.set(m.getKey(),m)}}const g=Ca(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((m,b)=>g.set(m,b))),!(g.size()>=o)););return et.resolve(g)}St(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new wA(i,s));let u=this.qr.get(i);u===void 0&&(u=jt(),this.qr.set(i,u)),this.qr.set(i,u.add(s.key))}}class uw{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(e){return et.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,et.resolve()}}class Nm{constructor(){this.Qr=new je(Be.$r),this.Ur=new je(Be.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new Be(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Gr(new Be(e,i))}zr(e,i){e.forEach((s=>this.removeReference(s,i)))}jr(e){const i=new gt(new ie([])),s=new Be(i,e),o=new Be(i,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new gt(new ie([])),s=new Be(i,e),o=new Be(i,e+1);let u=jt();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const i=new Be(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Be{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return gt.comparator(e.key,i.key)||Ot(e.Yr,i.Yr)}static Kr(e,i){return Ot(e.Yr,i.Yr)||gt.comparator(e.key,i.key)}}class cw{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new je(Be.$r)}checkEmpty(e){return et.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new AA(u,i,s,o);this.mutationQueue.push(f);for(const g of o)this.Zr=this.Zr.add(new Be(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return et.resolve(f)}lookupMutationBatch(e,i){return et.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.ei(s),u=o<0?0:o;return et.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(this.mutationQueue.length===0?Em:this.tr-1)}getAllMutationBatches(e){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Be(i,0),o=new Be(i,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const g=this.Xr(f.Yr);u.push(g)})),et.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new je(Ot);return i.forEach((o=>{const u=new Be(o,0),f=new Be(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(g=>{s=s.add(g.Yr)}))})),et.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let u=s;gt.isDocumentKey(u)||(u=u.child(""));const f=new Be(new gt(u),0);let g=new je(Ot);return this.Zr.forEachWhile((p=>{const m=p.key.path;return!!s.isPrefixOf(m)&&(m.length===o&&(g=g.add(p.Yr)),!0)}),f),et.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Ft(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return et.forEach(i.mutations,(o=>{const u=new Be(o.key,i.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,i){const s=new Be(i,0),o=this.Zr.firstAfterOrEqual(s);return et.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,et.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class hw{constructor(e){this.ri=e,this.docs=(function(){return new ue(gt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return et.resolve(s?s.document.mutableCopy():Ze.newInvalidDocument(i))}getEntries(e,i){let s=tr();return i.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Ze.newInvalidDocument(o))})),et.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let u=tr();const f=i.path,g=new gt(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:m,value:{document:b}}=p.getNext();if(!f.isPrefixOf(m.path))break;m.path.length>f.length+1||kx(Bx(b),s)<=0||(o.has(b.key)||Qc(i,b))&&(u=u.insert(b.key,b.mutableCopy()))}return et.resolve(u)}getAllFromCollectionGroup(e,i,s,o){_t(9500)}ii(e,i){return et.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new fw(this)}getSize(e){return et.resolve(this.size)}}class fw extends rw{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),et.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class dw{constructor(e){this.persistence=e,this.si=new Ma((i=>Sm(i)),xm),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.oi=0,this._i=new Nm,this.targetCount=0,this.ai=Us.ur()}forEachTarget(e,i){return this.si.forEach(((s,o)=>i(o))),et.resolve()}getLastRemoteSnapshotVersion(e){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return et.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),et.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Us(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,et.resolve()}updateTargetData(e,i){return this.Pr(i),et.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,et.resolve()}removeTargets(e,i,s){let o=0;const u=[];return this.si.forEach(((f,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),et.waitFor(u).next((()=>o))}getTargetCount(e){return et.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return et.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),et.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const o=this.persistence.referenceDelegate,u=[];return o&&i.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),et.waitFor(u)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),et.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return et.resolve(s)}containsKey(e,i){return et.resolve(this._i.containsKey(i))}}class V_{constructor(e,i){this.ui={},this.overlays={},this.ci=new Uc(0),this.li=!1,this.li=!0,this.hi=new uw,this.referenceDelegate=e(this),this.Pi=new dw(this),this.indexManager=new ZA,this.remoteDocumentCache=(function(o){return new hw(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new XA(i),this.Ii=new lw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new ow,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new cw(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){lt("MemoryPersistence","Starting transaction:",e);const o=new mw(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,i){return et.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,i))))}}class mw extends Px{constructor(e){super(),this.currentSequenceNumber=e}}class Im{constructor(e){this.persistence=e,this.Ri=new Nm,this.Vi=null}static mi(e){return new Im(e)}get fi(){if(this.Vi)return this.Vi;throw _t(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),et.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),et.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),et.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.fi,(s=>{const o=gt.fromPath(s);return this.gi(e,o).next((u=>{u||i.removeEntry(o,Tt.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return et.or([()=>et.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class jc{constructor(e,i){this.persistence=e,this.pi=new Ma((s=>Gx(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=iw(this,i)}static mi(e,i){return new jc(e,i)}Ei(){}di(e){return et.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((o=>s+o))))}wr(e){let i=0;return this.pr(e,(s=>{i++})).next((()=>i))}pr(e,i){return et.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?et.resolve():i(o)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,i).next((g=>{g||(s++,u.removeEntry(f,Tt.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),et.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),et.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),et.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),et.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=pc(e.data.value)),i}br(e,i,s){return et.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return et.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Vm{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=o}static As(e,i){let s=jt(),o=jt();for(const u of i.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Vm(e,i.fromCache,s,o)}}class gw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class pw{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return sS()?8:qx(rS())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,o){const u={result:null};return this.ys(e,i).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,i,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new gw;return this.Ss(e,i,f).next((g=>{if(u.result=g,this.Vs)return this.bs(e,i,f,g.size)}))})).next((()=>u.result))}bs(e,i,s,o){return s.documentReadCount<this.fs?(Ds()<=kt.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",Ns(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),et.resolve()):(Ds()<=kt.DEBUG&&lt("QueryEngine","Query:",Ns(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Ds()<=kt.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",Ns(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Si(i))):et.resolve())}ys(e,i){if(uv(i))return et.resolve(null);let s=Si(i);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Xd(i,null,"F"),s=Si(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=jt(...u);return this.ps.getDocuments(e,f).next((g=>this.indexManager.getMinOffset(e,s).next((p=>{const m=this.Ds(i,g);return this.Cs(i,m,f,p.readTime)?this.ys(e,Xd(i,null,"F")):this.vs(e,m,i,p)}))))})))))}ws(e,i,s,o){return uv(i)||o.isEqual(Tt.min())?et.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(i,u);return this.Cs(i,f,s,o)?et.resolve(null):(Ds()<=kt.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ns(i)),this.vs(e,f,i,zx(o,go)).next((g=>g)))}))}Ds(e,i){let s=new je(c_(e));return i.forEach(((o,u)=>{Qc(e,u)&&(s=s.add(u))})),s}Cs(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const u=e.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,i,s){return Ds()<=kt.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",Ns(i)),this.ps.getDocumentsMatchingQuery(e,i,Pr.min(),s)}vs(e,i,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(i.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Om="LocalStore",yw=3e8;class vw{constructor(e,i,s,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new ue(Ot),this.xs=new Ma((u=>Sm(u)),xm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sw(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function _w(r,e,i,s){return new vw(r,e,i,s)}async function O_(r,e){const i=xt(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,i.Bs(e),i.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],g=[];let p=jt();for(const m of o){f.push(m.batchId);for(const b of m.mutations)p=p.add(b.key)}for(const m of u){g.push(m.batchId);for(const b of m.mutations)p=p.add(b.key)}return i.localDocuments.getDocuments(s,p).next((m=>({Ls:m,removedBatchIds:f,addedBatchIds:g})))}))}))}function Ew(r,e){const i=xt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,p,m,b){const T=m.batch,A=T.keys();let D=et.resolve();return A.forEach((V=>{D=D.next((()=>b.getEntry(p,V))).next((L=>{const k=m.docVersions.get(V);Ft(k!==null,48541),L.version.compareTo(k)<0&&(T.applyToRemoteDocument(L,m),L.isValidDocument()&&(L.setReadTime(m.commitVersion),b.addEntry(L)))}))})),D.next((()=>g.mutationQueue.removeMutationBatch(p,T)))})(i,s,e,u).next((()=>u.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let p=jt();for(let m=0;m<g.mutationResults.length;++m)g.mutationResults[m].transformResults.length>0&&(p=p.add(g.batch.mutations[m].key));return p})(e)))).next((()=>i.localDocuments.getDocuments(s,o)))}))}function j_(r){const e=xt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function bw(r,e){const i=xt(r),s=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];e.targetChanges.forEach(((b,T)=>{const A=o.get(T);if(!A)return;g.push(i.Pi.removeMatchingKeys(u,b.removedDocuments,T).next((()=>i.Pi.addMatchingKeys(u,b.addedDocuments,T))));let D=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?D=D.withResumeToken(Ye.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):b.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(b.resumeToken,s)),o=o.insert(T,D),(function(L,k,Q){return L.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=yw?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0})(A,D,b)&&g.push(i.Pi.updateTargetData(u,D))}));let p=tr(),m=jt();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(u,b))})),g.push(Tw(u,f,e.documentUpdates).next((b=>{p=b.ks,m=b.qs}))),!s.isEqual(Tt.min())){const b=i.Pi.getLastRemoteSnapshotVersion(u).next((T=>i.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));g.push(b)}return et.waitFor(g).next((()=>f.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,p,m))).next((()=>p))})).then((u=>(i.Ms=o,u)))}function Tw(r,e,i){let s=jt(),o=jt();return i.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=tr();return i.forEach(((g,p)=>{const m=u.get(g);p.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(g)),p.isNoDocument()&&p.version.isEqual(Tt.min())?(e.removeEntry(g,p.readTime),f=f.insert(g,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(p),f=f.insert(g,p)):lt(Om,"Ignoring outdated watch update for ",g,". Current version:",m.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function Sw(r,e){const i=xt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Em),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function xw(r,e){const i=xt(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return i.Pi.getTargetData(s,e).next((u=>u?(o=u,et.resolve(o)):i.Pi.allocateTargetId(s).next((f=>(o=new Mr(e,f,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=i.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s}))}async function tm(r,e,i){const s=xt(r),o=s.Ms.get(e),u=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Qs(f))throw f;lt(Om,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function Tv(r,e,i){const s=xt(r);let o=Tt.min(),u=jt();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,m,b){const T=xt(p),A=T.xs.get(b);return A!==void 0?et.resolve(T.Ms.get(A)):T.Pi.getTargetData(m,b)})(s,f,Si(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,g.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,i?o:Tt.min(),i?u:jt()))).next((g=>(Aw(s,cA(e),g),{documents:g,Qs:u})))))}function Aw(r,e,i){let s=r.Os.get(e)||Tt.min();i.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class Sv{constructor(){this.activeTargetIds=pA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ww{constructor(){this.Mo=new Sv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Sv,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Rw{Oo(e){}shutdown(){}}const xv="ConnectivityMonitor";class Av{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){lt(xv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){lt(xv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let hc=null;function em(){return hc===null?hc=(function(){return 268435456+Math.round(2147483648*Math.random())})():hc++,"0x"+hc.toString(16)}const Ed="RestConnection",Cw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Dw{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Rc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,i,s,o,u){const f=em(),g=this.zo(e,i.toUriEncodedString());lt(Ed,`Sending RPC '${e}' ${f}:`,g,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:m}=new URL(g),b=gm(m);return this.Jo(e,g,p,s,b).then((T=>(lt(Ed,`Received RPC '${e}' ${f}: `,T),T)),(T=>{throw Ls(Ed,`RPC '${e}' ${f} failed with error: `,T,"url: ",g,"request:",s),T}))}Ho(e,i,s,o,u,f){return this.Go(e,i,s,o,u)}jo(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Gs})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,i){const s=Cw[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}class Nw{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Xe="WebChannelConnection";class Iw extends Dw{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,o,u){const f=em();return new Promise(((g,p)=>{const m=new B1;m.setWithCredentials(!0),m.listenOnce(k1.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case gc.NO_ERROR:const T=m.getResponseJson();lt(Xe,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(T)),g(T);break;case gc.TIMEOUT:lt(Xe,`RPC '${e}' ${f} timed out`),p(new ht(nt.DEADLINE_EXCEEDED,"Request time out"));break;case gc.HTTP_ERROR:const A=m.getStatus();if(lt(Xe,`RPC '${e}' ${f} failed with status:`,A,"response text:",m.getResponseText()),A>0){let D=m.getResponseJson();Array.isArray(D)&&(D=D[0]);const V=D?.error;if(V&&V.status&&V.message){const L=(function(Q){const X=Q.toLowerCase().replace(/_/g,"-");return Object.values(nt).indexOf(X)>=0?X:nt.UNKNOWN})(V.status);p(new ht(L,V.message))}else p(new ht(nt.UNKNOWN,"Server responded with status "+m.getStatus()))}else p(new ht(nt.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:e,streamId:f,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{lt(Xe,`RPC '${e}' ${f} completed.`)}}));const b=JSON.stringify(o);lt(Xe,`RPC '${e}' ${f} sending request:`,o),m.send(i,"POST",b,s,15)}))}T_(e,i,s){const o=em(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=q1(),g=P1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const b=u.join("");lt(Xe,`Creating RPC '${e}' stream ${o}: ${b}`,p);const T=f.createWebChannel(b,p);this.I_(T);let A=!1,D=!1;const V=new Nw({Yo:k=>{D?lt(Xe,`Not sending because RPC '${e}' stream ${o} is closed:`,k):(A||(lt(Xe,`Opening RPC '${e}' stream ${o} transport.`),T.open(),A=!0),lt(Xe,`RPC '${e}' stream ${o} sending:`,k),T.send(k))},Zo:()=>T.close()}),L=(k,Q,X)=>{k.listen(Q,(it=>{try{X(it)}catch(ft){setTimeout((()=>{throw ft}),0)}}))};return L(T,no.EventType.OPEN,(()=>{D||(lt(Xe,`RPC '${e}' stream ${o} transport opened.`),V.o_())})),L(T,no.EventType.CLOSE,(()=>{D||(D=!0,lt(Xe,`RPC '${e}' stream ${o} transport closed`),V.a_(),this.E_(T))})),L(T,no.EventType.ERROR,(k=>{D||(D=!0,Ls(Xe,`RPC '${e}' stream ${o} transport errored. Name:`,k.name,"Message:",k.message),V.a_(new ht(nt.UNAVAILABLE,"The operation could not be completed")))})),L(T,no.EventType.MESSAGE,(k=>{if(!D){const Q=k.data[0];Ft(!!Q,16349);const X=Q,it=X?.error||X[0]?.error;if(it){lt(Xe,`RPC '${e}' stream ${o} received error:`,it);const ft=it.status;let pt=(function(R){const I=Re[R];if(I!==void 0)return b_(I)})(ft),vt=it.message;pt===void 0&&(pt=nt.INTERNAL,vt="Unknown error status: "+ft+" with message "+it.message),D=!0,V.a_(new ht(pt,vt)),T.close()}else lt(Xe,`RPC '${e}' stream ${o} received:`,Q),V.u_(Q)}})),L(g,U1.STAT_EVENT,(k=>{k.stat===Hd.PROXY?lt(Xe,`RPC '${e}' stream ${o} detected buffering proxy`):k.stat===Hd.NOPROXY&&lt(Xe,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{V.__()}),0),V}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function bd(){return typeof document<"u"?document:null}function $c(r){return new MA(r,!0)}class M_{constructor(e,i,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-s);o>0&&lt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const wv="PersistentStream";class L_{constructor(e,i,s,o,u,f,g,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new M_(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===nt.RESOURCE_EXHAUSTED?(Ji(i.toString()),Ji("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===nt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===i&&this.G_(s,o)}),(s=>{e((()=>{const o=new ht(nt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return lt(wv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(lt(wv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Vw extends L_{constructor(e,i,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,f),this.serializer=u}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=BA(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Tt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Tt.min():f.readTime?xi(f.readTime):Tt.min()})(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=Jd(this.serializer),i.addTarget=(function(u,f){let g;const p=f.target;if(g=Kd(p)?{documents:PA(u,p)}:{query:qA(u,p).ft},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=x_(u,f.resumeToken);const m=$d(u,f.expectedCount);m!==null&&(g.expectedCount=m)}else if(f.snapshotVersion.compareTo(Tt.min())>0){g.readTime=Oc(u,f.snapshotVersion.toTimestamp());const m=$d(u,f.expectedCount);m!==null&&(g.expectedCount=m)}return g})(this.serializer,e);const s=GA(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=Jd(this.serializer),i.removeTarget=e,this.q_(i)}}class Ow extends L_{constructor(e,i,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Ft(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ft(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ft(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=UA(e.writeResults,e.commitTime),s=xi(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=Jd(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>kA(this.serializer,s)))};this.q_(i)}}class jw{}class Mw extends jw{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ht(nt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Zd(i,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ht(nt.UNKNOWN,u.toString())}))}Ho(e,i,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,g])=>this.connection.Ho(e,Zd(i,s),o,f,g,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ht(nt.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Lw{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ji(i),this.aa=!1):lt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ia="RemoteStore";class zw{constructor(e,i,s,o,u){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{La(this)&&(lt(Ia,"Restarting streams for network reachability change."),await(async function(p){const m=xt(p);m.Ea.add(4),await Do(m),m.Ra.set("Unknown"),m.Ea.delete(4),await Zc(m)})(this))}))})),this.Ra=new Lw(s,o)}}async function Zc(r){if(La(r))for(const e of r.da)await e(!0)}async function Do(r){for(const e of r.da)await e(!1)}function z_(r,e){const i=xt(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),zm(i)?Lm(i):Ys(i).O_()&&Mm(i,e))}function jm(r,e){const i=xt(r),s=Ys(i);i.Ia.delete(e),s.O_()&&B_(i,e),i.Ia.size===0&&(s.O_()?s.L_():La(i)&&i.Ra.set("Unknown"))}function Mm(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Tt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ys(r).Y_(e)}function B_(r,e){r.Va.Ue(e),Ys(r).Z_(e)}function Lm(r){r.Va=new IA({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Ys(r).start(),r.Ra.ua()}function zm(r){return La(r)&&!Ys(r).x_()&&r.Ia.size>0}function La(r){return xt(r).Ea.size===0}function k_(r){r.Va=void 0}async function Bw(r){r.Ra.set("Online")}async function kw(r){r.Ia.forEach(((e,i)=>{Mm(r,e)}))}async function Uw(r,e){k_(r),zm(r)?(r.Ra.ha(e),Lm(r)):r.Ra.set("Unknown")}async function Pw(r,e,i){if(r.Ra.set("Online"),e instanceof S_&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const g of u.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,f),o.Ia.delete(g),o.Va.removeTarget(g))})(r,e)}catch(s){lt(Ia,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Mc(r,s)}else if(e instanceof _c?r.Va.Ze(e):e instanceof T_?r.Va.st(e):r.Va.tt(e),!i.isEqual(Tt.min()))try{const s=await j_(r.localStore);i.compareTo(s)>=0&&await(function(u,f){const g=u.Va.Tt(f);return g.targetChanges.forEach(((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const b=u.Ia.get(m);b&&u.Ia.set(m,b.withResumeToken(p.resumeToken,f))}})),g.targetMismatches.forEach(((p,m)=>{const b=u.Ia.get(p);if(!b)return;u.Ia.set(p,b.withResumeToken(Ye.EMPTY_BYTE_STRING,b.snapshotVersion)),B_(u,p);const T=new Mr(b.target,p,m,b.sequenceNumber);Mm(u,T)})),u.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(s){lt(Ia,"Failed to raise snapshot:",s),await Mc(r,s)}}async function Mc(r,e,i){if(!Qs(e))throw e;r.Ea.add(1),await Do(r),r.Ra.set("Offline"),i||(i=()=>j_(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{lt(Ia,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Zc(r)}))}function U_(r,e){return e().catch((i=>Mc(r,i,e)))}async function Wc(r){const e=xt(r),i=Fr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Em;for(;qw(e);)try{const o=await Sw(e.localStore,s);if(o===null){e.Ta.length===0&&i.L_();break}s=o.batchId,Hw(e,o)}catch(o){await Mc(e,o)}P_(e)&&q_(e)}function qw(r){return La(r)&&r.Ta.length<10}function Hw(r,e){r.Ta.push(e);const i=Fr(r);i.O_()&&i.X_&&i.ea(e.mutations)}function P_(r){return La(r)&&!Fr(r).x_()&&r.Ta.length>0}function q_(r){Fr(r).start()}async function Gw(r){Fr(r).ra()}async function Fw(r){const e=Fr(r);for(const i of r.Ta)e.ea(i.mutations)}async function Qw(r,e,i){const s=r.Ta.shift(),o=Rm.from(s,e,i);await U_(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Wc(r)}async function Yw(r,e){e&&Fr(r).X_&&await(async function(s,o){if((function(f){return CA(f)&&f!==nt.ABORTED})(o.code)){const u=s.Ta.shift();Fr(s).B_(),await U_(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Wc(s)}})(r,e),P_(r)&&q_(r)}async function Rv(r,e){const i=xt(r);i.asyncQueue.verifyOperationInProgress(),lt(Ia,"RemoteStore received new credentials");const s=La(i);i.Ea.add(3),await Do(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Zc(i)}async function Kw(r,e){const i=xt(r);e?(i.Ea.delete(2),await Zc(i)):e||(i.Ea.add(2),await Do(i),i.Ra.set("Unknown"))}function Ys(r){return r.ma||(r.ma=(function(i,s,o){const u=xt(i);return u.sa(),new Vw(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:Bw.bind(null,r),t_:kw.bind(null,r),r_:Uw.bind(null,r),H_:Pw.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),zm(r)?Lm(r):r.Ra.set("Unknown")):(await r.ma.stop(),k_(r))}))),r.ma}function Fr(r){return r.fa||(r.fa=(function(i,s,o){const u=xt(i);return u.sa(),new Ow(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:Gw.bind(null,r),r_:Yw.bind(null,r),ta:Fw.bind(null,r),na:Qw.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Wc(r)):(await r.fa.stop(),r.Ta.length>0&&(lt(Ia,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Bm{constructor(e,i,s,o,u){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,u){const f=Date.now()+s,g=new Bm(e,i,f,o,u);return g.start(s),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht(nt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function km(r,e){if(Ji("AsyncQueue",`${e}: ${r}`),Qs(r))return new ht(nt.UNAVAILABLE,`${e}: ${r}`);throw r}class js{static emptySet(e){return new js(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||gt.comparator(i.key,s.key):(i,s)=>gt.comparator(i.key,s.key),this.keyedMap=io(),this.sortedSet=new ue(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof js)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new js;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}class Cv{constructor(){this.ga=new ue(gt.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):_t(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class Ps{constructor(e,i,s,o,u,f,g,p,m){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(e,i,s,o,u){const f=[];return i.forEach((g=>{f.push({type:0,doc:g})})),new Ps(e,i,js.emptySet(i),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}class Xw{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class $w{constructor(){this.queries=Dv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const o=xt(i),u=o.queries;o.queries=Dv(),u.forEach(((f,g)=>{for(const p of g.Sa)p.onError(s)}))})(this,new ht(nt.ABORTED,"Firestore shutting down"))}}function Dv(){return new Ma((r=>u_(r)),Fc)}async function H_(r,e){const i=xt(r);let s=3;const o=e.query;let u=i.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new Xw,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await i.onListen(o,!0);break;case 1:u.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(f){const g=km(f,`Initialization of query '${Ns(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,u),u.Sa.push(e),e.va(i.onlineState),u.wa&&e.Fa(u.wa)&&Um(i)}async function G_(r,e){const i=xt(r),s=e.query;let o=3;const u=i.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function Zw(r,e){const i=xt(r);let s=!1;for(const o of e){const u=o.query,f=i.queries.get(u);if(f){for(const g of f.Sa)g.Fa(o)&&(s=!0);f.wa=o}}s&&Um(i)}function Ww(r,e,i){const s=xt(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(i);s.queries.delete(e)}function Um(r){r.Ca.forEach((e=>{e.next()}))}var nm,Nv;(Nv=nm||(nm={})).Ma="default",Nv.Cache="cache";class F_{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ps(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Ps.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==nm.Cache}}class Q_{constructor(e){this.key=e}}class Y_{constructor(e){this.key=e}}class Jw{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=jt(),this.mutatedKeys=jt(),this.eu=c_(e),this.tu=new js(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new Cv,o=i?i.tu:this.tu;let u=i?i.mutatedKeys:this.mutatedKeys,f=o,g=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((b,T)=>{const A=o.get(b),D=Qc(this.query,T)?T:null,V=!!A&&this.mutatedKeys.has(A.key),L=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let k=!1;A&&D?A.data.isEqual(D.data)?V!==L&&(s.track({type:3,doc:D}),k=!0):this.su(A,D)||(s.track({type:2,doc:D}),k=!0,(p&&this.eu(D,p)>0||m&&this.eu(D,m)<0)&&(g=!0)):!A&&D?(s.track({type:0,doc:D}),k=!0):A&&!D&&(s.track({type:1,doc:A}),k=!0,(p||m)&&(g=!0)),k&&(D?(f=f.add(D),u=L?u.add(b):u.delete(b)):(f=f.delete(b),u=u.delete(b)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const b=this.query.limitType==="F"?f.last():f.first();f=f.delete(b.key),u=u.delete(b.key),s.track({type:1,doc:b})}return{tu:f,iu:s,Cs:g,mutatedKeys:u}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((b,T)=>(function(D,V){const L=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Rt:k})}};return L(D)-L(V)})(b.type,T.type)||this.eu(b.doc,T.doc))),this.ou(s),o=o??!1;const g=i&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,m=p!==this.Za;return this.Za=p,f.length!==0||m?{snapshot:new Ps(this.query,e.tu,u,f,e.mutatedKeys,p===0,m,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Cv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=jt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return e.forEach((s=>{this.Xa.has(s)||i.push(new Y_(s))})),this.Xa.forEach((s=>{e.has(s)||i.push(new Q_(s))})),i}cu(e){this.Ya=e.Qs,this.Xa=jt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Ps.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Pm="SyncEngine";class tR{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class eR{constructor(e){this.key=e,this.hu=!1}}class nR{constructor(e,i,s,o,u,f){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Ma((g=>u_(g)),Fc),this.Iu=new Map,this.Eu=new Set,this.du=new ue(gt.comparator),this.Au=new Map,this.Ru=new Nm,this.Vu={},this.mu=new Map,this.fu=Us.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function iR(r,e,i=!0){const s=J_(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await K_(s,e,i,!0),o}async function rR(r,e){const i=J_(r);await K_(i,e,!0,!1)}async function K_(r,e,i,s){const o=await xw(r.localStore,Si(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,i);let g;return s&&(g=await aR(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&i&&z_(r.remoteStore,o),g}async function aR(r,e,i,s,o){r.pu=(T,A,D)=>(async function(L,k,Q,X){let it=k.view.ru(Q);it.Cs&&(it=await Tv(L.localStore,k.query,!1).then((({documents:O})=>k.view.ru(O,it))));const ft=X&&X.targetChanges.get(k.targetId),pt=X&&X.targetMismatches.get(k.targetId)!=null,vt=k.view.applyChanges(it,L.isPrimaryClient,ft,pt);return Vv(L,k.targetId,vt.au),vt.snapshot})(r,T,A,D);const u=await Tv(r.localStore,e,!0),f=new Jw(e,u.Qs),g=f.ru(u.documents),p=Co.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),m=f.applyChanges(g,r.isPrimaryClient,p);Vv(r,i,m.au);const b=new tR(e,i,f);return r.Tu.set(e,b),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),m.snapshot}async function sR(r,e,i){const s=xt(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Fc(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await tm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),i&&jm(s.remoteStore,o.targetId),im(s,o.targetId)})).catch(Fs)):(im(s,o.targetId),await tm(s.localStore,o.targetId,!0))}async function lR(r,e){const i=xt(r),s=i.Tu.get(e),o=i.Iu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),jm(i.remoteStore,s.targetId))}async function oR(r,e,i){const s=gR(r);try{const o=await(function(f,g){const p=xt(f),m=re.now(),b=g.reduce(((D,V)=>D.add(V.key)),jt());let T,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(D=>{let V=tr(),L=jt();return p.Ns.getEntries(D,b).next((k=>{V=k,V.forEach(((Q,X)=>{X.isValidDocument()||(L=L.add(Q))}))})).next((()=>p.localDocuments.getOverlayedDocuments(D,V))).next((k=>{T=k;const Q=[];for(const X of g){const it=SA(X,T.get(X.key).overlayedDocument);it!=null&&Q.push(new Kr(X.key,it,n_(it.value.mapValue),Wn.exists(!0)))}return p.mutationQueue.addMutationBatch(D,m,Q,g)})).next((k=>{A=k;const Q=k.applyToLocalDocumentSet(T,L);return p.documentOverlayCache.saveOverlays(D,k.batchId,Q)}))})).then((()=>({batchId:A.batchId,changes:f_(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,g,p){let m=f.Vu[f.currentUser.toKey()];m||(m=new ue(Ot)),m=m.insert(g,p),f.Vu[f.currentUser.toKey()]=m})(s,o.batchId,i),await No(s,o.changes),await Wc(s.remoteStore)}catch(o){const u=km(o,"Failed to persist write");i.reject(u)}}async function X_(r,e){const i=xt(r);try{const s=await bw(i.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=i.Au.get(u);f&&(Ft(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ft(f.hu,14607):o.removedDocuments.size>0&&(Ft(f.hu,42227),f.hu=!1))})),await No(i,s,e)}catch(s){await Fs(s)}}function Iv(r,e,i){const s=xt(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Tu.forEach(((u,f)=>{const g=f.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(f,g){const p=xt(f);p.onlineState=g;let m=!1;p.queries.forEach(((b,T)=>{for(const A of T.Sa)A.va(g)&&(m=!0)})),m&&Um(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function uR(r,e,i){const s=xt(r);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new ue(gt.comparator);f=f.insert(u,Ze.newNoDocument(u,Tt.min()));const g=jt().add(u),p=new Xc(Tt.min(),new Map,new ue(Ot),f,g);await X_(s,p),s.du=s.du.remove(u),s.Au.delete(e),qm(s)}else await tm(s.localStore,e,!1).then((()=>im(s,e,i))).catch(Fs)}async function cR(r,e){const i=xt(r),s=e.batch.batchId;try{const o=await Ew(i.localStore,e);Z_(i,s,null),$_(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await No(i,o)}catch(o){await Fs(o)}}async function hR(r,e,i){const s=xt(r);try{const o=await(function(f,g){const p=xt(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let b;return p.mutationQueue.lookupMutationBatch(m,g).next((T=>(Ft(T!==null,37113),b=T.keys(),p.mutationQueue.removeMutationBatch(m,T)))).next((()=>p.mutationQueue.performConsistencyCheck(m))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(m,b,g))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,b))).next((()=>p.localDocuments.getDocuments(m,b)))}))})(s.localStore,e);Z_(s,e,i),$_(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await No(s,o)}catch(o){await Fs(o)}}function $_(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function Z_(r,e,i){const s=xt(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(i?u.reject(i):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function im(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||W_(r,s)}))}function W_(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(jm(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),qm(r))}function Vv(r,e,i){for(const s of i)s instanceof Q_?(r.Ru.addReference(s.key,e),fR(r,s)):s instanceof Y_?(lt(Pm,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||W_(r,s.key)):_t(19791,{wu:s})}function fR(r,e){const i=e.key,s=i.path.canonicalString();r.du.get(i)||r.Eu.has(s)||(lt(Pm,"New document in limbo: "+i),r.Eu.add(s),qm(r))}function qm(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new gt(ie.fromString(e)),s=r.fu.next();r.Au.set(s,new eR(i)),r.du=r.du.insert(i,s),z_(r.remoteStore,new Mr(Si(Gc(i.path)),s,"TargetPurposeLimboResolution",Uc.ce))}}async function No(r,e,i){const s=xt(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,p)=>{f.push(s.pu(p,e,i).then((m=>{if((m||i)&&s.isPrimaryClient){const b=m?!m.fromCache:i?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(m){o.push(m);const b=Vm.As(p.targetId,m);u.push(b)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(p,m){const b=xt(p);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>et.forEach(m,(A=>et.forEach(A.Es,(D=>b.persistence.referenceDelegate.addReference(T,A.targetId,D))).next((()=>et.forEach(A.ds,(D=>b.persistence.referenceDelegate.removeReference(T,A.targetId,D)))))))))}catch(T){if(!Qs(T))throw T;lt(Om,"Failed to update sequence numbers: "+T)}for(const T of m){const A=T.targetId;if(!T.fromCache){const D=b.Ms.get(A),V=D.snapshotVersion,L=D.withLastLimboFreeSnapshotVersion(V);b.Ms=b.Ms.insert(A,L)}}})(s.localStore,u))}async function dR(r,e){const i=xt(r);if(!i.currentUser.isEqual(e)){lt(Pm,"User change. New user:",e.toKey());const s=await O_(i.localStore,e);i.currentUser=e,(function(u,f){u.mu.forEach((g=>{g.forEach((p=>{p.reject(new ht(nt.CANCELLED,f))}))})),u.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await No(i,s.Ls)}}function mR(r,e){const i=xt(r),s=i.Au.get(e);if(s&&s.hu)return jt().add(s.key);{let o=jt();const u=i.Iu.get(e);if(!u)return o;for(const f of u){const g=i.Tu.get(f);o=o.unionWith(g.view.nu)}return o}}function J_(r){const e=xt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=X_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uR.bind(null,e),e.Pu.H_=Zw.bind(null,e.eventManager),e.Pu.yu=Ww.bind(null,e.eventManager),e}function gR(r){const e=xt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hR.bind(null,e),e}class Lc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=$c(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return _w(this.persistence,new pw,e.initialUser,this.serializer)}Cu(e){return new V_(Im.mi,this.serializer)}Du(e){return new ww}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lc.provider={build:()=>new Lc};class pR extends Lc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Ft(this.persistence.referenceDelegate instanceof jc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new ew(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new V_((s=>jc.mi(s,i)),this.serializer)}}class rm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Iv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=dR.bind(null,this.syncEngine),await Kw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new $w})()}createDatastore(e){const i=$c(e.databaseInfo.databaseId),s=(function(u){return new Iw(u)})(e.databaseInfo);return(function(u,f,g,p){return new Mw(u,f,g,p)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,o,u,f,g){return new zw(s,o,u,f,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>Iv(this.syncEngine,i,0)),(function(){return Av.v()?new Av:new Rw})())}createSyncEngine(e,i){return(function(o,u,f,g,p,m,b){const T=new nR(o,u,f,g,p,m);return b&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=xt(i);lt(Ia,"RemoteStore shutting down."),s.Ea.add(5),await Do(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}rm.provider={build:()=>new rm};class tE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ji("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Qr="FirestoreClient";class yR{constructor(e,i,s,o,u){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=$e.UNAUTHENTICATED,this.clientId=vm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{lt(Qr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(lt(Qr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=km(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Td(r,e){r.asyncQueue.verifyOperationInProgress(),lt(Qr,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await O_(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function Ov(r,e){r.asyncQueue.verifyOperationInProgress();const i=await vR(r);lt(Qr,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>Rv(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>Rv(e.remoteStore,o))),r._onlineComponents=e}async function vR(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){lt(Qr,"Using user provided OfflineComponentProvider");try{await Td(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===nt.FAILED_PRECONDITION||o.code===nt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Ls("Error using user provided cache. Falling back to memory cache: "+i),await Td(r,new Lc)}}else lt(Qr,"Using default OfflineComponentProvider"),await Td(r,new pR(void 0));return r._offlineComponents}async function eE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(lt(Qr,"Using user provided OnlineComponentProvider"),await Ov(r,r._uninitializedComponentsProvider._online)):(lt(Qr,"Using default OnlineComponentProvider"),await Ov(r,new rm))),r._onlineComponents}function _R(r){return eE(r).then((e=>e.syncEngine))}async function am(r){const e=await eE(r),i=e.eventManager;return i.onListen=iR.bind(null,e.syncEngine),i.onUnlisten=sR.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=rR.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=lR.bind(null,e.syncEngine),i}function ER(r,e,i={}){const s=new kr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,g,p,m){const b=new tE({next:A=>{b.Nu(),f.enqueueAndForget((()=>G_(u,T)));const D=A.docs.has(g);!D&&A.fromCache?m.reject(new ht(nt.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&A.fromCache&&p&&p.source==="server"?m.reject(new ht(nt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(A)},error:A=>m.reject(A)}),T=new F_(Gc(g.path),b,{includeMetadataChanges:!0,qa:!0});return H_(u,T)})(await am(r),r.asyncQueue,e,i,s))),s.promise}function nE(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const jv=new Map;const iE="firestore.googleapis.com",Mv=!0;class Lv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ht(nt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=iE,this.ssl=Mv}else this.host=e.host,this.ssl=e.ssl??Mv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=I_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<JA)throw new ht(nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Lx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nE(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ht(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ht(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ht(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht(nt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ht(nt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new wx;switch(s.type){case"firstParty":return new Nx(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ht(nt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=jv.get(i);s&&(lt("ComponentProvider","Removing Datastore"),jv.delete(i),s.terminate())})(this),Promise.resolve()}}function bR(r,e,i,s={}){r=Ti(r,Jc);const o=gm(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},g=`${e}:${i}`;o&&(J2(`https://${g}`),iS("Firestore",!0)),u.host!==iE&&u.host!==g&&Ls("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:g,ssl:o,emulatorOptions:s};if(!Sc(p,f)&&(r._setSettings(p),s.mockUserToken)){let m,b;if(typeof s.mockUserToken=="string")m=s.mockUserToken,b=$e.MOCK_USER;else{m=tS(s.mockUserToken,r._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new ht(nt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new $e(T)}r._authCredentials=new Rx(new G1(m,b))}}class th{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new th(this.firestore,e,this._query)}}class De{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ur(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new De(this.firestore,e,this._key)}toJSON(){return{type:De._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(wo(i,De._jsonSchema))return new De(e,s||null,new gt(ie.fromString(i.referencePath)))}}De._jsonSchemaVersion="firestore/documentReference/1.0",De._jsonSchema={type:Ce("string",De._jsonSchemaVersion),referencePath:Ce("string")};class Ur extends th{constructor(e,i,s){super(e,i,Gc(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new De(this.firestore,null,new gt(e))}withConverter(e){return new Ur(this.firestore,e,this._path)}}function za(r,e,...i){if(r=Zi(r),F1("collection","path",e),r instanceof Jc){const s=ie.fromString(e,...i);return $0(s),new Ur(r,null,s)}{if(!(r instanceof De||r instanceof Ur))throw new ht(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ie.fromString(e,...i));return $0(s),new Ur(r.firestore,null,s)}}function er(r,e,...i){if(r=Zi(r),arguments.length===1&&(e=vm.newId()),F1("doc","path",e),r instanceof Jc){const s=ie.fromString(e,...i);return X0(s),new De(r,null,new gt(s))}{if(!(r instanceof De||r instanceof Ur))throw new ht(nt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ie.fromString(e,...i));return X0(s),new De(r.firestore,r instanceof Ur?r.converter:null,new gt(s))}}const zv="AsyncQueue";class Bv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new M_(this,"async_queue_retry"),this._c=()=>{const s=bd();s&&lt(zv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=bd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=bd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new kr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Qs(e))throw e;lt(zv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ji("INTERNAL UNHANDLED ERROR: ",kv(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Bm.createAndSchedule(this,e,i,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&_t(47125,{Pc:kv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function kv(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function Uv(r){return(function(i,s){if(typeof i!="object"||i===null)return!1;const o=i;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class Va extends Jc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new Bv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Bv(e),this._firestoreClient=void 0,await e}}}function TR(r,e){const i=typeof r=="object"?r:dx(),s=typeof r=="string"?r:Rc,o=ox(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Z2("firestore");u&&bR(o,...u)}return o}function Hm(r){if(r._terminated)throw new ht(nt.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||SR(r),r._firestoreClient}function SR(r){const e=r._freezeSettings(),i=(function(o,u,f,g){return new Yx(o,u,f,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,nE(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new yR(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zn(Ye.fromBase64String(e))}catch(i){throw new ht(nt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new zn(Ye.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(wo(e,zn._jsonSchema))return zn.fromBase64String(e.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:Ce("string",zn._jsonSchemaVersion),bytes:Ce("string")};class eh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ht(nt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Gm{constructor(e){this._methodName=e}}class Ai{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ht(nt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ht(nt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ot(this._lat,e._lat)||Ot(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ai._jsonSchemaVersion}}static fromJSON(e){if(wo(e,Ai._jsonSchema))return new Ai(e.latitude,e.longitude)}}Ai._jsonSchemaVersion="firestore/geoPoint/1.0",Ai._jsonSchema={type:Ce("string",Ai._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};class wi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:wi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(wo(e,wi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new wi(e.vectorValues);throw new ht(nt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wi._jsonSchemaVersion="firestore/vectorValue/1.0",wi._jsonSchema={type:Ce("string",wi._jsonSchemaVersion),vectorValues:Ce("object")};const xR=/^__.*__$/;class AR{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Kr(e,this.data,this.fieldMask,i,this.fieldTransforms):new Ro(e,this.data,i,this.fieldTransforms)}}class rE{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new Kr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function aE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{Ac:r})}}class Fm{constructor(e,i,s,o,u,f){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Fm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return zc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(aE(this.Ac)&&xR.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class wR{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||$c(e)}Cc(e,i,s,o=!1){return new Fm({Ac:e,methodName:i,Dc:s,path:Qe.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sE(r){const e=r._freezeSettings(),i=$c(r._databaseId);return new wR(r._databaseId,!!e.ignoreUndefinedProperties,i)}function RR(r,e,i,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,i,o);Qm("Data must be an object, but it was:",f,s);const g=lE(s,f);let p,m;if(u.merge)p=new Sn(f.fieldMask),m=f.fieldTransforms;else if(u.mergeFields){const b=[];for(const T of u.mergeFields){const A=sm(e,T,i);if(!f.contains(A))throw new ht(nt.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);uE(b,A)||b.push(A)}p=new Sn(b),m=f.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,m=f.fieldTransforms;return new AR(new dn(g),p,m)}class nh extends Gm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nh}}function CR(r,e,i,s){const o=r.Cc(1,e,i);Qm("Data must be an object, but it was:",o,s);const u=[],f=dn.empty();Yr(s,((p,m)=>{const b=Ym(e,p,i);m=Zi(m);const T=o.yc(b);if(m instanceof nh)u.push(b);else{const A=ih(m,T);A!=null&&(u.push(b),f.set(b,A))}}));const g=new Sn(u);return new rE(f,g,o.fieldTransforms)}function DR(r,e,i,s,o,u){const f=r.Cc(1,e,i),g=[sm(e,s,i)],p=[o];if(u.length%2!=0)throw new ht(nt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)g.push(sm(e,u[A])),p.push(u[A+1]);const m=[],b=dn.empty();for(let A=g.length-1;A>=0;--A)if(!uE(m,g[A])){const D=g[A];let V=p[A];V=Zi(V);const L=f.yc(D);if(V instanceof nh)m.push(D);else{const k=ih(V,L);k!=null&&(m.push(D),b.set(D,k))}}const T=new Sn(m);return new rE(b,T,f.fieldTransforms)}function ih(r,e){if(oE(r=Zi(r)))return Qm("Unsupported field value:",e,r),lE(r,e);if(r instanceof Gm)return(function(s,o){if(!aE(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const g of s){let p=ih(g,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=Zi(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return yA(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=re.fromDate(s);return{timestampValue:Oc(o.serializer,u)}}if(s instanceof re){const u=new re(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Oc(o.serializer,u)}}if(s instanceof Ai)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof zn)return{bytesValue:x_(o.serializer,s._byteString)};if(s instanceof De){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Dm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof wi)return(function(f,g){return{mapValue:{fields:{[t_]:{stringValue:e_},[Cc]:{arrayValue:{values:f.toArray().map((m=>{if(typeof m!="number")throw g.Sc("VectorValues must only contain numeric values.");return Am(g.serializer,m)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${_m(s)}`)})(r,e)}function lE(r,e){const i={};return K1(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yr(r,((s,o)=>{const u=ih(o,e.mc(s));u!=null&&(i[s]=u)})),{mapValue:{fields:i}}}function oE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof re||r instanceof Ai||r instanceof zn||r instanceof De||r instanceof Gm||r instanceof wi)}function Qm(r,e,i){if(!oE(i)||!Q1(i)){const s=_m(i);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function sm(r,e,i){if((e=Zi(e))instanceof eh)return e._internalPath;if(typeof e=="string")return Ym(r,e);throw zc("Field path arguments must be of type string or ",r,!1,void 0,i)}const NR=new RegExp("[~\\*/\\[\\]]");function Ym(r,e,i){if(e.search(NR)>=0)throw zc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new eh(...e.split("."))._internalPath}catch{throw zc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function zc(r,e,i,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ht(nt.INVALID_ARGUMENT,g+r+p)}function uE(r,e){return r.some((i=>i.isEqual(e)))}class cE{constructor(e,i,s,o,u){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new De(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new IR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(hE("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class IR extends cE{data(){return super.data()}}function hE(r,e){return typeof e=="string"?Ym(r,e):e instanceof eh?e._internalPath:e._delegate._internalPath}function VR(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ht(nt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class OR{convertValue(e,i="none"){switch(Gr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ye(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Hr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw _t(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Yr(e,((o,u)=>{s[o]=this.convertValue(u,i)})),s}convertVectorValue(e){const i=e.fields?.[Cc].arrayValue?.values?.map((s=>ye(s.doubleValue)));return new wi(i)}convertGeoPoint(e){return new Ai(ye(e.latitude),ye(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=qc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(po(e));default:return null}}convertTimestamp(e){const i=qr(e);return new re(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=ie.fromString(e);Ft(N_(s),9688,{name:e});const o=new yo(s.get(1),s.get(3)),u=new gt(s.popFirst(5));return o.isEqual(i)||Ji(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}function jR(r,e,i){let s;return s=r?r.toFirestore(e):e,s}class ao{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Da extends cE{constructor(e,i,s,o,u,f){super(e,i,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Ec(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(hE("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(nt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Da._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Da._jsonSchemaVersion="firestore/documentSnapshot/1.0",Da._jsonSchema={type:Ce("string",Da._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class Ec extends Da{data(e={}){return super.data(e)}}class Ms{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new ao(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new Ec(this._firestore,this._userDataWriter,s.key,s,new ao(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ht(nt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((g=>{const p=new Ec(o._firestore,o._userDataWriter,g.doc.key,g.doc,new ao(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const p=new Ec(o._firestore,o._userDataWriter,g.doc.key,g.doc,new ao(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,b=-1;return g.type!==0&&(m=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),b=f.indexOf(g.doc.key)),{type:MR(g.type),doc:p,oldIndex:m,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(nt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ms._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=vm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(i.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function MR(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:r})}}function fE(r){r=Ti(r,De);const e=Ti(r.firestore,Va);return ER(Hm(e),r._key).then((i=>mE(e,r,i)))}Ms._jsonSchemaVersion="firestore/querySnapshot/1.0",Ms._jsonSchema={type:Ce("string",Ms._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class dE extends OR{constructor(e){super(),this.firestore=e}convertBytes(e){return new zn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new De(this.firestore,null,i)}}function Km(r,e,i,...s){r=Ti(r,De);const o=Ti(r.firestore,Va),u=sE(o);let f;return f=typeof(e=Zi(e))=="string"||e instanceof eh?DR(u,"updateDoc",r._key,e,i,s):CR(u,"updateDoc",r._key,e),$m(o,[f.toMutation(r._key,Wn.exists(!0))])}function Xm(r){return $m(Ti(r.firestore,Va),[new wm(r._key,Wn.none())])}function rh(r,e){const i=Ti(r.firestore,Va),s=er(r),o=jR(r.converter,e);return $m(i,[RR(sE(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Wn.exists(!1))]).then((()=>s))}function ah(r,...e){r=Zi(r);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Uv(e[s])||(i=e[s++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Uv(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,f,g;if(r instanceof De)f=Ti(r.firestore,Va),g=Gc(r._key.path),u={next:p=>{e[s]&&e[s](mE(f,r,p))},error:e[s+1],complete:e[s+2]};else{const p=Ti(r,th);f=Ti(p.firestore,Va),g=p._query;const m=new dE(f);u={next:b=>{e[s]&&e[s](new Ms(f,m,p,b))},error:e[s+1],complete:e[s+2]},VR(r._query)}return(function(m,b,T,A){const D=new tE(A),V=new F_(b,D,T);return m.asyncQueue.enqueueAndForget((async()=>H_(await am(m),V))),()=>{D.Nu(),m.asyncQueue.enqueueAndForget((async()=>G_(await am(m),V)))}})(Hm(f),g,o,u)}function $m(r,e){return(function(s,o){const u=new kr;return s.asyncQueue.enqueueAndForget((async()=>oR(await _R(s),o,u))),u.promise})(Hm(r),e)}function mE(r,e,i){const s=i.docs.get(e._key),o=new dE(r);return new Da(r,o,e._key,s,new ao(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){Gs=o})(fx),Ac(new fo("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),g=new Va(new Cx(s.getProvider("auth-internal")),new Ix(f,s.getProvider("app-check-internal")),(function(m,b){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new ht(nt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yo(m.options.projectId,b)})(f,o),f);return u={useFetchStreams:i,...u},g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),Os(F0,Q0,e),Os(F0,Q0,"esm2020")})();const LR={apiKey:"AIzaSyCkYnLrNvxrZTwkDuFHodOXsgkfsidhySA",authDomain:"dprintshare-31rs6.firebaseapp.com",projectId:"dprintshare-31rs6",storageBucket:"dprintshare-31rs6.firebasestorage.app",messagingSenderId:"306284169624",appId:"1:306284169624:web:df2d98a07a98a3bc6b03ed"},zR=j1(LR),en=TR(zR),nn="events",BR=async(r,e)=>{const i=za(en,nn,r,"bets");return(await rh(i,{...e,timestamp:Date.now()})).id},kR=async(r,e)=>{const i=er(en,nn,r,"bets",e);await Xm(i)},gE=(r,e)=>{const i=za(en,nn,r,"bets");return ah(i,s=>{const o=[];s.forEach(u=>o.push({id:u.id,...u.data()})),e(o)})},UR=async(r,e)=>{const i=za(en,nn,r,"feedback");await rh(i,{...e,timestamp:Date.now()})},PR=(r,e)=>{const i=za(en,nn,r,"feedback");return ah(i,s=>{const o=[];s.forEach(u=>o.push({id:u.id,...u.data()})),e(o)})},qR=async r=>{try{return(await rh(za(en,nn),{...r,expenses:r.expenses||[],maxGuests:r.maxGuests||0,isRecurring:r.isRecurring||!1,adminShare:r.adminShare??100,budgetLimit:r.budgetLimit||0,createdAt:Date.now(),guests:[]})).id}catch(e){throw console.error("Error adding document: ",e),e}},HR=async r=>{const e=er(en,nn,r);await Xm(e)},pE=(r,e)=>{const i=za(en,nn,r,"participants");return ah(i,s=>{const o=[];s.forEach(u=>o.push({id:u.id,...u.data()})),e(o)})},Pv=async(r,e,i=null)=>{const s=za(en,nn,r,"participants");await rh(s,{name:e,image:i,round1:[null,null,null,null,null],round2:[null,null,null,null,null],stats:{Gewehr:50,Bogen:50,Durst:50,Hunger:50},timestamp:Date.now()})},qv=async(r,e,i)=>{const s=er(en,nn,r,"participants",e);await Km(s,i)},GR=async(r,e)=>{const i=er(en,nn,r,"participants",e);await Xm(i)},bo=async r=>{const e=er(en,nn,r),i=await fE(e);if(i.exists())return{id:i.id,...i.data()};throw new Error("Event not found")},FR=(r,e)=>{const i=er(en,nn,r);return ah(i,s=>{s.exists()?e({id:s.id,...s.data()}):e(null)})},QR=async(r,e)=>{const i=er(en,nn,r);try{const s=await fE(i);if(!s.exists())throw new Error("Event not found");let o=s.data().guests||[];o=o.filter(u=>u.name!==e.name),o.push({...e,hasPaid:!1,contribution:0}),await Km(i,{guests:o})}catch(s){throw console.error("RSVP Error",s),s}},pe=async(r,e)=>{const i=er(en,nn,r);await Km(i,e)},lm=(r,e)=>{const i={},s={winner:0,loser:0,maxScore:0},o={winner:{},loser:{},maxScore:{yes:0,no:0}};return e.forEach(u=>{o.winner[u.name]=0,o.loser[u.name]=0}),r.forEach(u=>{s[u.type]||(s[u.type]=0),s[u.type]+=u.amount,u.type==="winner"||u.type==="loser"?(o[u.type][u.target]||(o[u.type][u.target]=0),o[u.type][u.target]+=u.amount):u.type}),Object.keys(o.winner).forEach(u=>{const f=o.winner[u];f===0?i[`winner_${u}`]=1:i[`winner_${u}`]=s.winner/f}),Object.keys(o.loser).forEach(u=>{const f=o.loser[u];f===0?i[`loser_${u}`]=1:i[`loser_${u}`]=s.loser/f}),i},yE=(r,e,i)=>{const s=[],o={winner:0,loser:0};r.forEach(f=>{o[f.type]!==void 0&&(o[f.type]+=f.amount)});const u=(f,g)=>r.filter(p=>p.type===f&&p.target===g).reduce((p,m)=>p+m.amount,0);return r.forEach(f=>{let g=!1,p=1;if(f.type==="winner"&&f.target===e.winner){g=!0;const m=u("winner",e.winner);p=m>0?o.winner/m:1}else if(f.type==="loser"&&f.target===e.loser){g=!0;const m=u("loser",e.loser);p=m>0?o.loser/m:1}g&&s.push({user:f.user,amount:f.amount*p,profit:f.amount*p-f.amount,type:f.type,target:f.target})}),s},hn=r=>new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR"}).format(r),YR=(r=[])=>r.reduce((e,i)=>e+(parseFloat(i.amount)||0),0),Ra=r=>{const{expenses:e=[],guests:i=[],hostMarkup:s=0,budgetLimit:o=0}=r,u=YR(e),g=i.filter(k=>k.status==="accepted").length,p=u*(s/100),b=u+p,T=-p,A=g>0?b/g:0,D=i.reduce((k,Q)=>k+(Q.hasPaid?Q.contribution||A:0),0),V=o>0&&u>o,L=A>25;return{totalExpenses:u,confirmedCount:g,adminAbsorbedCost:T,remainingCost:b,costPerGuest:A,collectedRevenue:D,isOverBudget:V,isHighCost:L,budgetLimit:o}},vE=async r=>{const e=`Vector Logo for a party named "${r}", glowing neon colors, deep black background, esports style, high contrast, minimalistic, 8k resolution, centered`,s=`https://image.pollinations.ai/prompt/${encodeURIComponent(e)}?width=512&height=512&model=flux&nologo=true`;try{const o=await fetch(s);if(!o.ok)throw new Error("Generation failed");const u=await o.blob();return new Promise((f,g)=>{const p=new FileReader;p.onloadend=()=>f(p.result),p.onerror=g,p.readAsDataURL(u)})}catch(o){throw console.error("AI Generation Error:",o),o}};function Hv({title:r,items:e=[],onItemAdd:i,onItemToggle:s,onItemDelete:o,placeholder:u="Neuer Eintrag..."}){const[f,g]=P.useState(""),p=m=>{m.preventDefault(),f.trim()&&(i(f),g(""))};return v.jsxs("div",{style:{marginBottom:"2rem",padding:"1rem",background:"rgba(255,255,255,0.03)",borderRadius:"12px"},children:[v.jsx("h3",{style:{fontSize:"1.1rem",borderBottom:"1px solid var(--glass-border)",paddingBottom:"0.5rem",marginBottom:"1rem"},children:r}),v.jsxs("ul",{style:{listStyle:"none",padding:0,marginBottom:"1rem"},children:[e.map((m,b)=>v.jsxs("li",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[v.jsx("input",{type:"checkbox",checked:m.done,onChange:()=>s(b),style:{cursor:"pointer"}}),v.jsx("span",{style:{flex:1,textDecoration:m.done?"line-through":"none",opacity:m.done?.5:1},children:m.text}),v.jsx("button",{onClick:()=>o(b),style:{background:"none",border:"none",cursor:"pointer",opacity:.5,fontSize:"0.8rem"},children:""})]},b)),e.length===0&&v.jsx("li",{style:{opacity:.4,fontSize:"0.9rem"},children:"Liste ist leer."})]}),v.jsxs("form",{onSubmit:p,style:{display:"flex",gap:"0.5rem"},children:[v.jsx("input",{value:f,onChange:m=>g(m.target.value),placeholder:u,className:"input-field",style:{marginBottom:0,fontSize:"0.9rem",padding:"8px"}}),v.jsx("button",{type:"submit",className:"btn-primary",style:{padding:"8px 12px",fontSize:"1.2rem"},children:"+"})]})]})}var Cs={},Sd={exports:{}},xd,Gv;function KR(){if(Gv)return xd;Gv=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return xd=r,xd}var Ad,Fv;function XR(){if(Fv)return Ad;Fv=1;var r=KR();function e(){}function i(){}return i.resetWarningCache=e,Ad=function(){function s(f,g,p,m,b,T){if(T!==r){var A=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw A.name="Invariant Violation",A}}s.isRequired=s;function o(){return s}var u={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:o,element:s,elementType:s,instanceOf:o,node:s,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:i,resetWarningCache:e};return u.PropTypes=u,u},Ad}var Qv;function _E(){return Qv||(Qv=1,Sd.exports=XR()()),Sd.exports}var wd,Yv;function EE(){return Yv||(Yv=1,wd={L:1,M:0,Q:3,H:2}),wd}var Rd,Kv;function bE(){return Kv||(Kv=1,Rd={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),Rd}var Cd,Xv;function $R(){if(Xv)return Cd;Xv=1;var r=bE();function e(i){this.mode=r.MODE_8BIT_BYTE,this.data=i}return e.prototype={getLength:function(i){return this.data.length},write:function(i){for(var s=0;s<this.data.length;s++)i.put(this.data.charCodeAt(s),8)}},Cd=e,Cd}var Dd,$v;function ZR(){if($v)return Dd;$v=1;var r=EE();function e(i,s){this.totalCount=i,this.dataCount=s}return e.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e.getRSBlocks=function(i,s){var o=e.getRsBlockTable(i,s);if(o==null)throw new Error("bad rs block @ typeNumber:"+i+"/errorCorrectLevel:"+s);for(var u=o.length/3,f=new Array,g=0;g<u;g++)for(var p=o[g*3+0],m=o[g*3+1],b=o[g*3+2],T=0;T<p;T++)f.push(new e(m,b));return f},e.getRsBlockTable=function(i,s){switch(s){case r.L:return e.RS_BLOCK_TABLE[(i-1)*4+0];case r.M:return e.RS_BLOCK_TABLE[(i-1)*4+1];case r.Q:return e.RS_BLOCK_TABLE[(i-1)*4+2];case r.H:return e.RS_BLOCK_TABLE[(i-1)*4+3];default:return}},Dd=e,Dd}var Nd,Zv;function WR(){if(Zv)return Nd;Zv=1;function r(){this.buffer=new Array,this.length=0}return r.prototype={get:function(e){var i=Math.floor(e/8);return(this.buffer[i]>>>7-e%8&1)==1},put:function(e,i){for(var s=0;s<i;s++)this.putBit((e>>>i-s-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var i=Math.floor(this.length/8);this.buffer.length<=i&&this.buffer.push(0),e&&(this.buffer[i]|=128>>>this.length%8),this.length++}},Nd=r,Nd}var Id,Wv;function TE(){if(Wv)return Id;Wv=1;for(var r={glog:function(i){if(i<1)throw new Error("glog("+i+")");return r.LOG_TABLE[i]},gexp:function(i){for(;i<0;)i+=255;for(;i>=256;)i-=255;return r.EXP_TABLE[i]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},e=0;e<8;e++)r.EXP_TABLE[e]=1<<e;for(var e=8;e<256;e++)r.EXP_TABLE[e]=r.EXP_TABLE[e-4]^r.EXP_TABLE[e-5]^r.EXP_TABLE[e-6]^r.EXP_TABLE[e-8];for(var e=0;e<255;e++)r.LOG_TABLE[r.EXP_TABLE[e]]=e;return Id=r,Id}var Vd,Jv;function SE(){if(Jv)return Vd;Jv=1;var r=TE();function e(i,s){if(i.length==null)throw new Error(i.length+"/"+s);for(var o=0;o<i.length&&i[o]==0;)o++;this.num=new Array(i.length-o+s);for(var u=0;u<i.length-o;u++)this.num[u]=i[u+o]}return e.prototype={get:function(i){return this.num[i]},getLength:function(){return this.num.length},multiply:function(i){for(var s=new Array(this.getLength()+i.getLength()-1),o=0;o<this.getLength();o++)for(var u=0;u<i.getLength();u++)s[o+u]^=r.gexp(r.glog(this.get(o))+r.glog(i.get(u)));return new e(s,0)},mod:function(i){if(this.getLength()-i.getLength()<0)return this;for(var s=r.glog(this.get(0))-r.glog(i.get(0)),o=new Array(this.getLength()),u=0;u<this.getLength();u++)o[u]=this.get(u);for(var u=0;u<i.getLength();u++)o[u]^=r.gexp(r.glog(i.get(u))+s);return new e(o,0).mod(i)}},Vd=e,Vd}var Od,t1;function JR(){if(t1)return Od;t1=1;var r=bE(),e=SE(),i=TE(),s={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},o={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(u){for(var f=u<<10;o.getBCHDigit(f)-o.getBCHDigit(o.G15)>=0;)f^=o.G15<<o.getBCHDigit(f)-o.getBCHDigit(o.G15);return(u<<10|f)^o.G15_MASK},getBCHTypeNumber:function(u){for(var f=u<<12;o.getBCHDigit(f)-o.getBCHDigit(o.G18)>=0;)f^=o.G18<<o.getBCHDigit(f)-o.getBCHDigit(o.G18);return u<<12|f},getBCHDigit:function(u){for(var f=0;u!=0;)f++,u>>>=1;return f},getPatternPosition:function(u){return o.PATTERN_POSITION_TABLE[u-1]},getMask:function(u,f,g){switch(u){case s.PATTERN000:return(f+g)%2==0;case s.PATTERN001:return f%2==0;case s.PATTERN010:return g%3==0;case s.PATTERN011:return(f+g)%3==0;case s.PATTERN100:return(Math.floor(f/2)+Math.floor(g/3))%2==0;case s.PATTERN101:return f*g%2+f*g%3==0;case s.PATTERN110:return(f*g%2+f*g%3)%2==0;case s.PATTERN111:return(f*g%3+(f+g)%2)%2==0;default:throw new Error("bad maskPattern:"+u)}},getErrorCorrectPolynomial:function(u){for(var f=new e([1],0),g=0;g<u;g++)f=f.multiply(new e([1,i.gexp(g)],0));return f},getLengthInBits:function(u,f){if(1<=f&&f<10)switch(u){case r.MODE_NUMBER:return 10;case r.MODE_ALPHA_NUM:return 9;case r.MODE_8BIT_BYTE:return 8;case r.MODE_KANJI:return 8;default:throw new Error("mode:"+u)}else if(f<27)switch(u){case r.MODE_NUMBER:return 12;case r.MODE_ALPHA_NUM:return 11;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 10;default:throw new Error("mode:"+u)}else if(f<41)switch(u){case r.MODE_NUMBER:return 14;case r.MODE_ALPHA_NUM:return 13;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 12;default:throw new Error("mode:"+u)}else throw new Error("type:"+f)},getLostPoint:function(u){for(var f=u.getModuleCount(),g=0,p=0;p<f;p++)for(var m=0;m<f;m++){for(var b=0,T=u.isDark(p,m),A=-1;A<=1;A++)if(!(p+A<0||f<=p+A))for(var D=-1;D<=1;D++)m+D<0||f<=m+D||A==0&&D==0||T==u.isDark(p+A,m+D)&&b++;b>5&&(g+=3+b-5)}for(var p=0;p<f-1;p++)for(var m=0;m<f-1;m++){var V=0;u.isDark(p,m)&&V++,u.isDark(p+1,m)&&V++,u.isDark(p,m+1)&&V++,u.isDark(p+1,m+1)&&V++,(V==0||V==4)&&(g+=3)}for(var p=0;p<f;p++)for(var m=0;m<f-6;m++)u.isDark(p,m)&&!u.isDark(p,m+1)&&u.isDark(p,m+2)&&u.isDark(p,m+3)&&u.isDark(p,m+4)&&!u.isDark(p,m+5)&&u.isDark(p,m+6)&&(g+=40);for(var m=0;m<f;m++)for(var p=0;p<f-6;p++)u.isDark(p,m)&&!u.isDark(p+1,m)&&u.isDark(p+2,m)&&u.isDark(p+3,m)&&u.isDark(p+4,m)&&!u.isDark(p+5,m)&&u.isDark(p+6,m)&&(g+=40);for(var L=0,m=0;m<f;m++)for(var p=0;p<f;p++)u.isDark(p,m)&&L++;var k=Math.abs(100*L/f/f-50)/5;return g+=k*10,g}};return Od=o,Od}var jd,e1;function t4(){if(e1)return jd;e1=1;var r=$R(),e=ZR(),i=WR(),s=JR(),o=SE();function u(g,p){this.typeNumber=g,this.errorCorrectLevel=p,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var f=u.prototype;return f.addData=function(g){var p=new r(g);this.dataList.push(p),this.dataCache=null},f.isDark=function(g,p){if(g<0||this.moduleCount<=g||p<0||this.moduleCount<=p)throw new Error(g+","+p);return this.modules[g][p]},f.getModuleCount=function(){return this.moduleCount},f.make=function(){if(this.typeNumber<1){var g=1;for(g=1;g<40;g++){for(var p=e.getRSBlocks(g,this.errorCorrectLevel),m=new i,b=0,T=0;T<p.length;T++)b+=p[T].dataCount;for(var T=0;T<this.dataList.length;T++){var A=this.dataList[T];m.put(A.mode,4),m.put(A.getLength(),s.getLengthInBits(A.mode,g)),A.write(m)}if(m.getLengthInBits()<=b*8)break}this.typeNumber=g}this.makeImpl(!1,this.getBestMaskPattern())},f.makeImpl=function(g,p){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var m=0;m<this.moduleCount;m++){this.modules[m]=new Array(this.moduleCount);for(var b=0;b<this.moduleCount;b++)this.modules[m][b]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(g,p),this.typeNumber>=7&&this.setupTypeNumber(g),this.dataCache==null&&(this.dataCache=u.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,p)},f.setupPositionProbePattern=function(g,p){for(var m=-1;m<=7;m++)if(!(g+m<=-1||this.moduleCount<=g+m))for(var b=-1;b<=7;b++)p+b<=-1||this.moduleCount<=p+b||(0<=m&&m<=6&&(b==0||b==6)||0<=b&&b<=6&&(m==0||m==6)||2<=m&&m<=4&&2<=b&&b<=4?this.modules[g+m][p+b]=!0:this.modules[g+m][p+b]=!1)},f.getBestMaskPattern=function(){for(var g=0,p=0,m=0;m<8;m++){this.makeImpl(!0,m);var b=s.getLostPoint(this);(m==0||g>b)&&(g=b,p=m)}return p},f.createMovieClip=function(g,p,m){var b=g.createEmptyMovieClip(p,m),T=1;this.make();for(var A=0;A<this.modules.length;A++)for(var D=A*T,V=0;V<this.modules[A].length;V++){var L=V*T,k=this.modules[A][V];k&&(b.beginFill(0,100),b.moveTo(L,D),b.lineTo(L+T,D),b.lineTo(L+T,D+T),b.lineTo(L,D+T),b.endFill())}return b},f.setupTimingPattern=function(){for(var g=8;g<this.moduleCount-8;g++)this.modules[g][6]==null&&(this.modules[g][6]=g%2==0);for(var p=8;p<this.moduleCount-8;p++)this.modules[6][p]==null&&(this.modules[6][p]=p%2==0)},f.setupPositionAdjustPattern=function(){for(var g=s.getPatternPosition(this.typeNumber),p=0;p<g.length;p++)for(var m=0;m<g.length;m++){var b=g[p],T=g[m];if(this.modules[b][T]==null)for(var A=-2;A<=2;A++)for(var D=-2;D<=2;D++)A==-2||A==2||D==-2||D==2||A==0&&D==0?this.modules[b+A][T+D]=!0:this.modules[b+A][T+D]=!1}},f.setupTypeNumber=function(g){for(var p=s.getBCHTypeNumber(this.typeNumber),m=0;m<18;m++){var b=!g&&(p>>m&1)==1;this.modules[Math.floor(m/3)][m%3+this.moduleCount-8-3]=b}for(var m=0;m<18;m++){var b=!g&&(p>>m&1)==1;this.modules[m%3+this.moduleCount-8-3][Math.floor(m/3)]=b}},f.setupTypeInfo=function(g,p){for(var m=this.errorCorrectLevel<<3|p,b=s.getBCHTypeInfo(m),T=0;T<15;T++){var A=!g&&(b>>T&1)==1;T<6?this.modules[T][8]=A:T<8?this.modules[T+1][8]=A:this.modules[this.moduleCount-15+T][8]=A}for(var T=0;T<15;T++){var A=!g&&(b>>T&1)==1;T<8?this.modules[8][this.moduleCount-T-1]=A:T<9?this.modules[8][15-T-1+1]=A:this.modules[8][15-T-1]=A}this.modules[this.moduleCount-8][8]=!g},f.mapData=function(g,p){for(var m=-1,b=this.moduleCount-1,T=7,A=0,D=this.moduleCount-1;D>0;D-=2)for(D==6&&D--;;){for(var V=0;V<2;V++)if(this.modules[b][D-V]==null){var L=!1;A<g.length&&(L=(g[A]>>>T&1)==1);var k=s.getMask(p,b,D-V);k&&(L=!L),this.modules[b][D-V]=L,T--,T==-1&&(A++,T=7)}if(b+=m,b<0||this.moduleCount<=b){b-=m,m=-m;break}}},u.PAD0=236,u.PAD1=17,u.createData=function(g,p,m){for(var b=e.getRSBlocks(g,p),T=new i,A=0;A<m.length;A++){var D=m[A];T.put(D.mode,4),T.put(D.getLength(),s.getLengthInBits(D.mode,g)),D.write(T)}for(var V=0,A=0;A<b.length;A++)V+=b[A].dataCount;if(T.getLengthInBits()>V*8)throw new Error("code length overflow. ("+T.getLengthInBits()+">"+V*8+")");for(T.getLengthInBits()+4<=V*8&&T.put(0,4);T.getLengthInBits()%8!=0;)T.putBit(!1);for(;!(T.getLengthInBits()>=V*8||(T.put(u.PAD0,8),T.getLengthInBits()>=V*8));)T.put(u.PAD1,8);return u.createBytes(T,b)},u.createBytes=function(g,p){for(var m=0,b=0,T=0,A=new Array(p.length),D=new Array(p.length),V=0;V<p.length;V++){var L=p[V].dataCount,k=p[V].totalCount-L;b=Math.max(b,L),T=Math.max(T,k),A[V]=new Array(L);for(var Q=0;Q<A[V].length;Q++)A[V][Q]=255&g.buffer[Q+m];m+=L;var X=s.getErrorCorrectPolynomial(k),it=new o(A[V],X.getLength()-1),ft=it.mod(X);D[V]=new Array(X.getLength()-1);for(var Q=0;Q<D[V].length;Q++){var pt=Q+ft.getLength()-D[V].length;D[V][Q]=pt>=0?ft.get(pt):0}}for(var vt=0,Q=0;Q<p.length;Q++)vt+=p[Q].totalCount;for(var O=new Array(vt),R=0,Q=0;Q<b;Q++)for(var V=0;V<p.length;V++)Q<A[V].length&&(O[R++]=A[V][Q]);for(var Q=0;Q<T;Q++)for(var V=0;V<p.length;V++)Q<D[V].length&&(O[R++]=D[V][Q]);return O},jd=u,jd}var fc={},n1;function e4(){if(n1)return fc;n1=1,Object.defineProperty(fc,"__esModule",{value:!0});var r=Object.assign||function(m){for(var b=1;b<arguments.length;b++){var T=arguments[b];for(var A in T)Object.prototype.hasOwnProperty.call(T,A)&&(m[A]=T[A])}return m},e=_E(),i=u(e),s=To(),o=u(s);function u(m){return m&&m.__esModule?m:{default:m}}function f(m,b){var T={};for(var A in m)b.indexOf(A)>=0||Object.prototype.hasOwnProperty.call(m,A)&&(T[A]=m[A]);return T}var g={bgColor:i.default.oneOfType([i.default.object,i.default.string]).isRequired,bgD:i.default.string.isRequired,fgColor:i.default.oneOfType([i.default.object,i.default.string]).isRequired,fgD:i.default.string.isRequired,size:i.default.number.isRequired,title:i.default.string,viewBoxSize:i.default.number.isRequired,xmlns:i.default.string},p=(0,s.forwardRef)(function(m,b){var T=m.bgColor,A=m.bgD,D=m.fgD,V=m.fgColor,L=m.size,k=m.title,Q=m.viewBoxSize,X=m.xmlns,it=X===void 0?"http://www.w3.org/2000/svg":X,ft=f(m,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return o.default.createElement("svg",r({},ft,{height:L,ref:b,viewBox:"0 0 "+Q+" "+Q,width:L,xmlns:it}),k?o.default.createElement("title",null,k):null,o.default.createElement("path",{d:A,fill:T}),o.default.createElement("path",{d:D,fill:V}))});return p.displayName="QRCodeSvg",p.propTypes=g,fc.default=p,fc}var i1;function n4(){if(i1)return Cs;i1=1,Object.defineProperty(Cs,"__esModule",{value:!0}),Cs.QRCode=void 0;var r=Object.assign||function(L){for(var k=1;k<arguments.length;k++){var Q=arguments[k];for(var X in Q)Object.prototype.hasOwnProperty.call(Q,X)&&(L[X]=Q[X])}return L},e=_E(),i=T(e),s=EE(),o=T(s),u=t4(),f=T(u),g=To(),p=T(g),m=e4(),b=T(m);function T(L){return L&&L.__esModule?L:{default:L}}function A(L,k){var Q={};for(var X in L)k.indexOf(X)>=0||Object.prototype.hasOwnProperty.call(L,X)&&(Q[X]=L[X]);return Q}var D={bgColor:i.default.oneOfType([i.default.object,i.default.string]),fgColor:i.default.oneOfType([i.default.object,i.default.string]),level:i.default.string,size:i.default.number,value:i.default.string.isRequired},V=(0,g.forwardRef)(function(L,k){var Q=L.bgColor,X=Q===void 0?"#FFFFFF":Q,it=L.fgColor,ft=it===void 0?"#000000":it,pt=L.level,vt=pt===void 0?"L":pt,O=L.size,R=O===void 0?256:O,I=L.value,S=A(L,["bgColor","fgColor","level","size","value"]),w=new f.default(-1,o.default[vt]);w.addData(I),w.make();var j=w.modules;return p.default.createElement(b.default,r({},S,{bgColor:X,bgD:j.map(function(N,Et){return N.map(function(Mt,$){return Mt?"":"M "+$+" "+Et+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:ft,fgD:j.map(function(N,Et){return N.map(function(Mt,$){return Mt?"M "+$+" "+Et+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:k,size:R,viewBoxSize:j.length}))});return Cs.QRCode=V,V.displayName="QRCode",V.propTypes=D,Cs.default=V,Cs}var i4=n4();const r4=tT(i4);function a4({event:r,onBack:e,onUpdate:i}){const[s,o]=P.useState("overview"),[u,f]=P.useState(r),[g,p]=P.useState(Ra(r)),[m,b]=P.useState(!1),[T,A]=P.useState([]),[D,V]=P.useState({}),[L,k]=P.useState([]),[Q,X]=P.useState([]);P.useEffect(()=>{const S=pE(r.id,w=>{X(w)});return()=>S()},[r.id]),P.useEffect(()=>{const S=PR(r.id,w=>{k(w)});return()=>S()},[r.id]);const[it,ft]=P.useState(!1),[pt,vt]=P.useState(null),[O,R]=P.useState([]);P.useEffect(()=>{const S=gE(r.id,w=>{A(w),r.guests&&V(lm(w,r.guests))});return()=>S()},[r.id,r.guests]),P.useEffect(()=>{f(r),p(Ra(r))},[r]);const I=async S=>{S.preventDefault();const w=new FormData(S.target),j={id:Date.now().toString(),item:w.get("item"),amount:parseFloat(w.get("amount"))},N=[...u.expenses||[],j],Et={...u,expenses:N};f(Et),p(Ra(Et)),S.target.reset(),await pe(u.id,{expenses:N}),i&&i()};return u?v.jsxs("div",{className:"content-container animate-fade-in",style:{paddingBottom:"4rem"},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[v.jsx("button",{onClick:e,className:"btn-ghost",children:" Zurck"}),v.jsx("button",{onClick:async()=>{window.confirm(" Event wirklich unwiderruflich lschen?")&&(await HR(u.id),i&&i(),e())},style:{background:"rgba(239, 68, 68, 0.2)",color:"#ef4444",border:"1px solid rgba(239, 68, 68, 0.5)",padding:"8px 16px",borderRadius:"8px",cursor:"pointer",fontWeight:"bold"},children:" Event lschen"})]}),v.jsxs("div",{className:"glass card",children:[v.jsxs("h2",{style:{borderBottom:"1px solid var(--glass-border)",paddingBottom:"1rem",marginBottom:"1rem"},children:[u.title," ",v.jsxs("span",{style:{fontSize:"0.8rem",opacity:.6},children:["(",s.toUpperCase(),")"]})]}),v.jsx("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"2rem",flexWrap:"wrap"},children:["overview","finances","guests","betting","feedback","shooting","broadcast"].map(S=>{let w=S;return S==="overview"&&(w="bersicht"),S==="finances"&&(w="Finanzen"),S==="guests"&&(w="Gste"),S==="betting"&&(w="Wettbro"),S==="feedback"&&(w="Feedback"),S==="shooting"&&(w="Schiestand"),S==="broadcast"&&(w=" TV-Broadcast"),v.jsx("button",{onClick:()=>o(S),style:{background:s===S?"var(--accent-primary)":"rgba(255,255,255,0.05)",border:"none",padding:"8px 16px",borderRadius:"8px",color:"white",cursor:"pointer",flex:"1 0 auto"},children:w},S)})}),s==="overview"&&v.jsxs("div",{children:[v.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"2rem",alignItems:"flex-start",flexWrap:"wrap"},children:[v.jsxs("div",{style:{flex:1,minWidth:"250px"},children:[u.image?v.jsx("div",{style:{height:"150px",borderRadius:"12px",marginBottom:"0.5rem",backgroundImage:`url(${u.image})`,backgroundSize:"cover",backgroundPosition:"center"}}):v.jsx("div",{style:{height:"150px",borderRadius:"12px",marginBottom:"0.5rem",background:"rgba(255,255,255,0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:"Kein Bild"}),v.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.5rem"},children:[v.jsxs("label",{className:"btn-primary",style:{flex:1,textAlign:"center",fontSize:"0.8rem",padding:"6px",cursor:"pointer"},children:[" Upload",v.jsx("input",{type:"file",hidden:!0,accept:"image/*",onChange:S=>{const w=S.target.files[0];if(w){if(w.size>5e5){alert("Max 500KB!");return}const j=new FileReader;j.onloadend=async()=>{const N={...u,image:j.result};f(N),await pe(u.id,{image:j.result})},j.readAsDataURL(w)}}})]}),v.jsx("button",{className:"btn-primary",style:{flex:1,fontSize:"0.8rem",padding:"6px",background:"linear-gradient(135deg, #a855f7, #ec4899)"},onClick:async S=>{const w=S.target,j=w.innerText;w.innerText="...",w.disabled=!0;try{const N=await vE(u.title),Et={...u,image:N};f(Et),await pe(u.id,{image:N})}catch{alert("KI Fehler. Nochmal probieren.")}w.innerText=j,w.disabled=!1},children:" KI Logo"})]})]}),v.jsxs("div",{style:{flex:2,display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem"},children:[v.jsxs("div",{className:"glass",style:{padding:"0.8rem",fontSize:"0.9rem"},children:[v.jsx("strong",{children:" Datum:"}),v.jsx("br",{}),u.date?u.date.split("-").reverse().join("."):""," @ ",u.time]}),v.jsxs("div",{className:"glass",style:{padding:"0.8rem",fontSize:"0.9rem"},children:[v.jsx("strong",{children:" Ort:"}),v.jsx("br",{}),u.location]}),v.jsxs("div",{className:"glass",style:{padding:"0.8rem",fontSize:"0.9rem"},children:[v.jsx("strong",{children:" Thema:"}),v.jsx("br",{}),u.theme||"-"]}),v.jsxs("div",{className:"glass",style:{padding:"0.8rem",fontSize:"0.9rem"},children:[v.jsx("strong",{children:" Infos:"}),v.jsx("br",{}),u.description]}),v.jsxs("div",{className:"glass",style:{padding:"0.8rem",fontSize:"0.9rem",gridColumn:"1 / -1",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[v.jsxs("div",{children:[v.jsx("strong",{children:" Admin PIN:"}),v.jsx("div",{style:{fontSize:"1.2rem",fontFamily:"monospace",letterSpacing:"2px",color:"var(--accent-primary)"},children:u.adminPin||v.jsx("span",{style:{opacity:.5,fontStyle:"italic",fontSize:"0.9rem"},children:"Nicht gesetzt"})})]}),v.jsx("button",{className:"btn-primary",style:{fontSize:"0.8rem",padding:"6px 12px"},onClick:async()=>{const S=prompt("Neuen Admin-PIN eingeben (fr Admin-Login auf anderen Gerten):",u.adminPin||"");S!==null&&(await pe(u.id,{adminPin:S}),f({...u,adminPin:S}))},children:" ndern"})]})]})]}),v.jsx("h2",{style:{marginBottom:"1rem",borderBottom:"1px solid var(--glass-border)"},children:"Planung & Orga"}),v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"1rem"},children:[v.jsx(Hv,{title:" To-Do Liste",items:u.todoList||[],onItemAdd:async S=>{const w=[...u.todoList||[],{text:S,done:!1}];f({...u,todoList:w}),await pe(u.id,{todoList:w})},onItemToggle:async S=>{const w=[...u.todoList];w[S].done=!w[S].done,f({...u,todoList:w}),await pe(u.id,{todoList:w})},onItemDelete:async S=>{const w=u.todoList.filter((j,N)=>N!==S);f({...u,todoList:w}),await pe(u.id,{todoList:w})}}),v.jsx(Hv,{title:" Einkaufsliste",items:u.shoppingList||[],placeholder:"Was einkaufen?",onItemAdd:async S=>{const w=[...u.shoppingList||[],{text:S,done:!1}];f({...u,shoppingList:w}),await pe(u.id,{shoppingList:w})},onItemToggle:async S=>{const w=[...u.shoppingList];w[S].done=!w[S].done,f({...u,shoppingList:w}),await pe(u.id,{shoppingList:w})},onItemDelete:async S=>{const w=u.shoppingList.filter((j,N)=>N!==S);f({...u,shoppingList:w}),await pe(u.id,{shoppingList:w})}})]}),v.jsxs("div",{style:{marginTop:"1rem",padding:"1rem",background:"rgba(255,255,255,0.03)",borderRadius:"12px"},children:[v.jsx("h3",{style:{fontSize:"1.1rem",borderBottom:"1px solid var(--glass-border)",paddingBottom:"0.5rem",marginBottom:"1rem"},children:" Mitbring-Liste (Wer bringt was?)"}),v.jsxs("ul",{style:{listStyle:"none",padding:0,marginBottom:"1rem"},children:[(u.bringList||[]).map((S,w)=>v.jsxs("li",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.5rem",background:"rgba(0,0,0,0.2)",padding:"8px",borderRadius:"8px"},children:[v.jsxs("span",{children:[v.jsx("strong",{style:{color:"var(--accent-primary)"},children:S.guest})," bringt ",v.jsx("u",{children:S.item}),S.note&&v.jsxs("span",{style:{opacity:.7,fontSize:"0.8rem"},children:[" (",S.note,")"]})]}),v.jsx("button",{onClick:async()=>{const j=u.bringList.filter((N,Et)=>Et!==w);f({...u,bringList:j}),await pe(u.id,{bringList:j})},style:{background:"none",border:"none",cursor:"pointer"},children:""})]},w)),(u.bringList||[]).length===0&&v.jsx("li",{style:{opacity:.5},children:"Noch keine Eintrge."})]}),v.jsxs("form",{onSubmit:async S=>{S.preventDefault();const w=new FormData(S.target),j=w.get("guest"),N=w.get("item"),Et=w.get("note");if(!j||!N)return;const Mt={guest:j,item:N,note:Et},$=[...u.bringList||[],Mt];f({...u,bringList:$}),await pe(u.id,{bringList:$}),S.target.reset()},style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[v.jsxs("select",{name:"guest",required:!0,className:"input-field",style:{marginBottom:0,width:"auto",minWidth:"120px"},children:[v.jsx("option",{value:"",children:"Gast whlen..."}),v.jsx("option",{value:"Admin",children:"Admin (Ich)"}),u.guests?.map((S,w)=>v.jsx("option",{value:S.name,children:S.name},w))]}),v.jsx("input",{name:"item",required:!0,placeholder:"Was? (z.B. Salat)",className:"input-field",style:{marginBottom:0,flex:1}}),v.jsx("input",{name:"note",placeholder:"Notiz",className:"input-field",style:{marginBottom:0,flex:1}}),v.jsx("button",{type:"submit",className:"btn-primary",children:"+"})]})]})]}),s==="finances"&&v.jsxs("div",{children:[v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:[v.jsxs("div",{style:{padding:"1rem",background:"rgba(255,255,255,0.05)",borderRadius:"12px"},children:[v.jsx("div",{style:{fontSize:"0.8rem",opacity:.7},children:"Gesamtkosten"}),v.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:g.isOverBudget?"var(--accent-danger)":"#fff"},children:hn(g.totalExpenses)}),g.isOverBudget&&v.jsx("small",{style:{color:"var(--accent-danger)"},children:" ber Budget!"})]}),v.jsxs("div",{style:{padding:"1rem",background:"rgba(255,255,255,0.05)",borderRadius:"12px"},children:[v.jsx("div",{style:{fontSize:"0.8rem",opacity:.7},children:"Kosten pro Kopf"}),v.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:g.isHighCost?"var(--accent-gold)":"#fff"},children:hn(g.costPerGuest)}),g.isHighCost&&v.jsx("small",{style:{color:"var(--accent-gold)"},children:" > 25 p.P."})]}),v.jsxs("div",{style:{padding:"1rem",background:"rgba(255,255,255,0.05)",borderRadius:"12px"},children:[v.jsx("div",{style:{fontSize:"0.8rem",opacity:.7},children:"Besttigte Gste"}),v.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold"},children:g.confirmedCount})]})]}),v.jsxs("div",{style:{marginBottom:"2rem",padding:"1rem",background:"rgba(255,255,255,0.05)",borderRadius:"12px"},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[v.jsxs("label",{children:["Dein Aufschlag (Gewinn): ",v.jsxs("strong",{children:[u.hostMarkup??0,"%"]})]}),v.jsxs("span",{style:{color:"var(--accent-success)"},children:["+",hn((g.totalExpenses||0)*((u.hostMarkup||0)/100))]})]}),v.jsx("input",{type:"range",min:"0",max:"50",step:"1",value:u.hostMarkup??0,onChange:async S=>{const w=parseInt(S.target.value),j={...u,hostMarkup:w};f(j),p(Ra(j)),await pe(u.id,{hostMarkup:w})},style:{width:"100%",accentColor:"var(--accent-primary)"}}),v.jsx("small",{style:{opacity:.7},children:"Erhht den Preis pro Kopf. Der berschuss gehrt dir."})]}),v.jsx("h3",{children:"Ausgaben hinzufgen"}),v.jsxs("form",{onSubmit:I,style:{display:"flex",gap:"0.5rem",marginBottom:"2rem",flexWrap:"wrap"},children:[v.jsx("input",{name:"item",required:!0,placeholder:"Posten (z.B. Bier)",className:"input-field",style:{marginBottom:0,flex:"2 1 200px"}}),v.jsx("input",{name:"amount",required:!0,type:"number",step:"0.01",placeholder:"",className:"input-field",style:{marginBottom:0,flex:"1 1 100px"}}),v.jsx("button",{type:"submit",className:"btn-primary",style:{flex:"0 0 auto"},children:"+"})]}),v.jsx("h3",{children:"Ausgabenliste"}),(!u.expenses||u.expenses.length===0)&&v.jsx("p",{style:{opacity:.5},children:"Keine Ausgaben eingetragen."}),v.jsx("ul",{style:{listStyle:"none",padding:0},children:u.expenses&&u.expenses.map((S,w)=>v.jsxs("li",{style:{display:"flex",justifyContent:"space-between",padding:"0.5rem",borderBottom:"1px solid var(--glass-border)"},children:[v.jsx("span",{children:S.item}),v.jsx("span",{children:hn(S.amount)})]},w))})]}),s==="guests"&&v.jsxs("div",{children:[v.jsxs("h3",{children:["Gsteliste (",u.guests?.length||0,")"]}),v.jsx("div",{style:{overflowX:"auto"},children:v.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",minWidth:"600px"},children:[v.jsx("thead",{children:v.jsxs("tr",{style:{textAlign:"left",borderBottom:"1px solid var(--glass-border)"},children:[v.jsx("th",{style:{padding:"0.5rem"},children:"Name"}),v.jsx("th",{children:"Status"}),v.jsx("th",{children:"Bezahlt?"}),v.jsx("th",{children:"Aktion"})]})}),v.jsx("tbody",{children:u.guests&&u.guests.map((S,w)=>v.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[v.jsxs("td",{style:{padding:"0.5rem"},children:[S.name,S.participatesInCompetition&&v.jsx("span",{title:"Nimmt am Schiewettbewerb teil",style:{marginLeft:"8px",cursor:"help"},children:""})]}),v.jsx("td",{children:v.jsx("span",{style:{padding:"2px 8px",borderRadius:"12px",fontSize:"0.8rem",background:S.status==="accepted"?"rgba(34, 197, 94, 0.2)":S.status==="declined"?"rgba(239, 68, 68, 0.2)":"rgba(234, 179, 8, 0.2)",color:S.status==="accepted"?"var(--accent-success)":S.status==="declined"?"var(--accent-danger)":"var(--accent-gold)"},children:S.status==="accepted"?"Zusage":S.status==="declined"?"Absage":"Vielleicht"})}),v.jsx("td",{children:v.jsx("input",{type:"checkbox",checked:S.hasPaid||!1,onChange:async()=>{const j=[...u.guests];j[w]={...j[w],hasPaid:!j[w].hasPaid};const N={...u,guests:j};f(N),p(Ra(N)),await pe(u.id,{guests:j})},style:{cursor:"pointer",transform:"scale(1.2)"}})}),v.jsx("td",{children:v.jsx("button",{onClick:async()=>{if(!window.confirm(`${S.name} wirklich entfernen?`))return;const j=u.guests.filter((Et,Mt)=>Mt!==w),N={...u,guests:j};f(N),p(Ra(N)),await pe(u.id,{guests:j})},style:{background:"none",border:"none",cursor:"pointer",fontSize:"1.2rem"},title:"Gast entfernen",children:""})})]},w))})]})})]}),s==="betting"&&v.jsxs("div",{children:[v.jsxs("div",{className:"glass",style:{padding:"1rem",display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1.5rem",background:"rgba(0,0,0,0.4)",borderRadius:"16px"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[v.jsx("h3",{style:{margin:0,fontSize:"1.1rem"},children:" Wettbro"}),v.jsx("span",{style:{padding:"4px 12px",borderRadius:"12px",fontSize:"0.8rem",fontWeight:"bold",border:"1px solid currentColor",color:u.bettingStatus==="open"?"var(--accent-success)":u.bettingStatus==="finished"?"var(--accent-secondary)":"var(--accent-danger)"},children:u.bettingStatus==="open"?" GEFFNET":u.bettingStatus==="finished"?" BEENDET":" GESCHLOSSEN"})]}),v.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[v.jsx("button",{className:"btn-ghost",onClick:()=>b(!0),style:{padding:"8px 12px",fontSize:"0.8rem"},children:" QR Code"}),u.bettingStatus!=="open"&&u.bettingStatus!=="finished"&&v.jsx("button",{className:"btn-primary",onClick:async()=>{await pe(u.id,{bettingStatus:"open"}),f({...u,bettingStatus:"open"})},style:{padding:"8px 16px",fontSize:"0.8rem"},children:" ffnen"}),u.bettingStatus==="open"&&v.jsx("button",{className:"btn-primary",style:{background:"linear-gradient(135deg, #ef4444, #991b1b)",padding:"8px 16px",fontSize:"0.8rem"},onClick:async()=>{await pe(u.id,{bettingStatus:"closed"}),f({...u,bettingStatus:"closed"})},children:" Schlieen"})]})]}),m&&U2.createPortal(v.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.9)",zIndex:9999,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[v.jsx("h2",{style:{color:"white",marginBottom:"2rem"},children:"Wettbro Zugang"}),v.jsx("div",{style:{background:"white",padding:"2rem",borderRadius:"16px"},children:v.jsx(r4,{size:300,style:{height:"auto",maxWidth:"100%",width:"100%"},value:`https://ricfritzsche89.github.io/PitMaster/#/betting/${u.id}`})}),v.jsx("p",{style:{color:"white",marginTop:"1rem",fontSize:"1.2rem"},children:"Scanne mich!"}),v.jsx("button",{onClick:()=>b(!1),className:"btn-ghost",style:{marginTop:"2rem",fontSize:"1.2rem",padding:"12px 32px"},children:"Schlieen"})]}),document.body),v.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[v.jsxs("div",{className:"glass",style:{padding:"0",display:"flex",flexDirection:"column"},children:[v.jsxs("div",{style:{padding:"1rem",borderBottom:"1px solid rgba(255,255,255,0.1)",background:"rgba(255,255,255,0.02)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[v.jsx("h3",{style:{margin:0,fontSize:"1.1rem"},children:"Live Wetteinstze"}),v.jsxs("span",{style:{fontSize:"0.8rem",opacity:.6},children:[T.length," Wetten aktiv"]})]}),v.jsx("div",{style:{overflowX:"auto",width:"100%"},children:v.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.9rem",minWidth:"600px"},children:[v.jsx("thead",{style:{background:"rgba(0,0,0,0.8)",position:"sticky",top:0,zIndex:5},children:v.jsxs("tr",{children:[v.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontWeight:"600",opacity:.8},children:"Zeit"}),v.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontWeight:"600",opacity:.8},children:"Spieler"}),v.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontWeight:"600",opacity:.8},children:"Wette"}),v.jsx("th",{style:{textAlign:"right",padding:"12px 16px",fontWeight:"600",opacity:.8},children:"Einsatz"}),v.jsx("th",{style:{textAlign:"right",padding:"12px 16px",fontWeight:"600",opacity:.8},children:"Mgl. Gewinn"}),v.jsx("th",{style:{width:"60px",padding:"12px 4px"}})]})}),v.jsxs("tbody",{children:[T.map((S,w)=>{const j=`${S.type}_${S.target}`,N=D&&D[j]||1,Et=S.amount*N,Mt=S.timestamp?new Date(S.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"-";return v.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[v.jsx("td",{style:{padding:"12px 16px",opacity:.5,fontSize:"0.8rem"},children:Mt}),v.jsx("td",{style:{padding:"12px 16px",fontWeight:"500"},children:S.user}),v.jsxs("td",{style:{padding:"12px 16px"},children:[v.jsx("span",{style:{background:S.type==="winner"?"rgba(234, 180, 8, 0.15)":"rgba(239, 68, 68, 0.15)",color:S.type==="winner"?"var(--accent-gold)":"var(--accent-danger)",padding:"4px 8px",borderRadius:"6px",fontSize:"0.85rem",marginRight:"8px",fontWeight:"bold"},children:S.type==="winner"?"SIEG":"VERLIERER"}),S.target]}),v.jsx("td",{style:{padding:"12px 16px",textAlign:"right"},children:hn(S.amount)}),v.jsxs("td",{style:{padding:"12px 16px",textAlign:"right",color:"var(--accent-primary)",fontWeight:"bold"},children:[hn(Et),v.jsxs("span",{style:{fontSize:"0.7rem",opacity:.6,display:"block",fontWeight:"normal"},children:["(@ ",N.toFixed(2),")"]})]}),v.jsx("td",{style:{padding:"12px 4px",textAlign:"center"},children:v.jsx("button",{onClick:async()=>{window.confirm(`Wette von ${S.user} wirklich lschen?`)&&await kR(u.id,S.id)},style:{background:"rgba(239,68,68,0.1)",color:"#ef4444",border:"none",borderRadius:"8px",padding:"6px",cursor:"pointer",minWidth:"32px"},title:"Wette lschen",children:""})})]},w)}),T.length===0&&v.jsx("tr",{children:v.jsx("td",{colSpan:"6",style:{padding:"3rem",textAlign:"center",opacity:.4},children:"Noch keine Wetten eingegangen."})})]}),v.jsx("tfoot",{children:v.jsxs("tr",{style:{borderTop:"1px solid rgba(255,255,255,0.2)"},children:[v.jsx("td",{colSpan:"2",style:{padding:"8px",textAlign:"right",fontWeight:"bold"},children:"Gesamt:"}),v.jsx("td",{style:{padding:"8px",textAlign:"right",fontWeight:"bold"},children:hn(T.reduce((S,w)=>S+w.amount,0))}),v.jsx("td",{colSpan:"3"})]})})]})})]}),v.jsxs("div",{className:"glass",style:{padding:"1rem",position:"relative"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[v.jsx("h3",{style:{margin:0,fontSize:"1rem",opacity:.8},children:" Ergebniseingabe"}),v.jsx("span",{style:{fontSize:"0.8rem",opacity:.5},children:"(fr Auszahlung)"})]}),v.jsxs("form",{onSubmit:S=>{S.preventDefault();const w=new FormData(S.target),j={winner:w.get("winner"),loser:w.get("loser")},N=yE(T,j);vt(j),R(N),ft(!0)},style:{display:"flex",flexWrap:"wrap",gap:"1rem",alignItems:"end"},children:[v.jsxs("div",{style:{flex:"1 1 200px"},children:[v.jsx("label",{style:{display:"block",fontSize:"0.75rem",marginBottom:"0.2rem",opacity:.7},children:" Sieger"}),v.jsxs("select",{name:"winner",className:"input-field",style:{padding:"8px",fontSize:"0.9rem",width:"100%"},required:!0,children:[v.jsx("option",{value:"",children:"Whlen..."}),u.guests?.filter(S=>S.status==="accepted").map(S=>v.jsx("option",{value:S.name,children:S.name},S.name))]})]}),v.jsxs("div",{style:{flex:"1 1 200px"},children:[v.jsx("label",{style:{display:"block",fontSize:"0.75rem",marginBottom:"0.2rem",opacity:.7},children:" Verlierer"}),v.jsxs("select",{name:"loser",className:"input-field",style:{padding:"8px",fontSize:"0.9rem",width:"100%"},required:!0,children:[v.jsx("option",{value:"",children:"Whlen..."}),u.guests?.filter(S=>S.status==="accepted").map(S=>v.jsx("option",{value:S.name,children:S.name},S.name))]})]}),v.jsx("button",{type:"submit",className:"btn-primary",style:{padding:"8px 16px",height:"38px",whiteSpace:"nowrap",flex:"0 0 auto"},children:" Auswerten"})]}),it&&v.jsxs("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"#09090b",borderRadius:"12px",padding:"1rem",zIndex:10,display:"flex",flexDirection:"column"},children:[v.jsx("h4",{style:{margin:"0 0 1rem 0",borderBottom:"1px solid var(--accent-primary)",paddingBottom:"0.5rem"},children:" Payout Vorschau"}),v.jsxs("div",{style:{flex:1,overflowY:"auto",fontSize:"0.85rem",marginBottom:"1rem"},children:[O.length===0?v.jsx("p",{style:{opacity:.7},children:"Keine Gewinner. Das Haus gewinnt alles! "}):v.jsx("ul",{style:{listStyle:"none",padding:0},children:O.map((S,w)=>v.jsxs("li",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem",borderBottom:"1px solid rgba(255,255,255,0.1)",paddingBottom:"4px"},children:[v.jsxs("span",{children:[v.jsx("strong",{children:S.user})," (",S.type==="winner"?"Sieg":"Verl.",")"]}),v.jsxs("span",{style:{color:"var(--accent-primary)"},children:["+",hn(S.amount)]})]},w))}),v.jsxs("div",{style:{marginTop:"1rem",fontWeight:"bold",paddingTop:"0.5rem",borderTop:"1px solid rgba(255,255,255,0.2)"},children:["Gesamt: ",hn(O.reduce((S,w)=>S+w.amount,0))]})]}),v.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[v.jsx("button",{className:"btn-ghost",onClick:()=>ft(!1),style:{flex:1,fontSize:"0.8rem"},children:"Zurck"}),v.jsx("button",{className:"btn-primary",onClick:async()=>{await pe(u.id,{bettingResults:pt,bettingStatus:"finished"}),f({...u,bettingResults:pt,bettingStatus:"finished"}),ft(!1),alert("Ergebnisse gespeichert und verffentlicht!")},style:{flex:1,fontSize:"0.8rem"},children:"Besttigen"})]})]})]})]})]}),s==="feedback"&&v.jsxs("div",{className:"animate-fade-in",children:[v.jsxs("div",{className:"glass",style:{padding:"2rem",marginBottom:"2rem",textAlign:"center"},children:[v.jsx("h3",{style:{marginTop:0},children:"Gste Feedback "}),v.jsx("p",{style:{opacity:.7,marginBottom:"2rem"},children:"Teile diesen Link mit deinen Gsten, um anonymes Feedback zu erhalten."}),v.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",alignItems:"center",flexWrap:"wrap"},children:[v.jsxs("code",{style:{background:"rgba(0,0,0,0.3)",padding:"12px 16px",borderRadius:"8px",fontFamily:"monospace"},children:[window.location.host,"/#/feedback/",u.id]}),v.jsx("button",{className:"btn-primary",onClick:()=>{const S=`${window.location.protocol}//${window.location.host}${window.location.pathname}#/feedback/${u.id}`;navigator.clipboard.writeText(S),alert("Link kopiert! ")},children:" Link kopieren"})]})]}),v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:[v.jsxs("div",{className:"glass",style:{padding:"1.5rem",textAlign:"center"},children:[v.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:""}),v.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold"},children:L.length?(L.reduce((S,w)=>S+w.rating_food,0)/L.length).toFixed(1):"-"}),v.jsx("div",{style:{opacity:.6,fontSize:"0.8rem"},children:" Essen"})]}),v.jsxs("div",{className:"glass",style:{padding:"1.5rem",textAlign:"center"},children:[v.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:""}),v.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold"},children:L.length?(L.reduce((S,w)=>S+w.rating_vibes,0)/L.length).toFixed(1):"-"}),v.jsx("div",{style:{opacity:.6,fontSize:"0.8rem"},children:" Stimmung"})]}),v.jsxs("div",{className:"glass",style:{padding:"1.5rem",textAlign:"center"},children:[v.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:""}),v.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold"},children:L.length?(L.reduce((S,w)=>S+w.rating_music,0)/L.length).toFixed(1):"-"}),v.jsx("div",{style:{opacity:.6,fontSize:"0.8rem"},children:" Musik"})]}),v.jsxs("div",{className:"glass",style:{padding:"1.5rem",textAlign:"center"},children:[v.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:""}),v.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold"},children:L.length}),v.jsx("div",{style:{opacity:.6,fontSize:"0.8rem"},children:"Feedbacks"})]})]}),v.jsxs("div",{className:"glass",style:{padding:"0"},children:[v.jsx("h3",{style:{padding:"1.5rem",margin:0,borderBottom:"1px solid rgba(255,255,255,0.1)"},children:"Kommentare"}),L.length===0?v.jsx("div",{style:{padding:"3rem",textAlign:"center",opacity:.5},children:"Noch kein Feedback vorhanden."}):v.jsx("div",{style:{maxHeight:"600px",overflowY:"auto"},children:L.sort((S,w)=>w.timestamp-S.timestamp).map(S=>v.jsxs("div",{style:{padding:"1.5rem",borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem",opacity:.6,fontSize:"0.8rem"},children:[v.jsx("span",{children:new Date(S.timestamp).toLocaleString()}),v.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[v.jsxs("span",{children:[" ",S.rating_food]}),v.jsxs("span",{children:[" ",S.rating_vibes]}),v.jsxs("span",{children:[" ",S.rating_music]})]})]}),v.jsx("div",{style:{fontSize:"1rem",lineHeight:"1.5",fontStyle:S.comment?"normal":"italic",opacity:S.comment?1:.4},children:S.comment||"Kein Text-Kommentar."})]},S.id))})]})]}),s==="shooting"&&v.jsxs("div",{className:"animate-fade-in",children:[v.jsxs("div",{className:"glass",style:{padding:"2rem",marginBottom:"2rem",textAlign:"center"},children:[v.jsx("h3",{style:{marginTop:0},children:" Live Schiestand (Party Mode)"}),v.jsx("p",{style:{opacity:.7,marginBottom:"2rem"},children:"ffne diesen Link auf dem Fernseher fr die Live-Anzeige."}),v.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",alignItems:"center",flexWrap:"wrap"},children:[v.jsxs("code",{style:{background:"rgba(0,0,0,0.3)",padding:"12px 16px",borderRadius:"8px",fontFamily:"monospace"},children:[window.location.host,"/#/party/",u.id,"/shooting"]}),v.jsx("button",{className:"btn-primary",onClick:()=>{const S=`${window.location.protocol}//${window.location.host}${window.location.pathname}#/party/${u.id}/shooting`;window.open(S,"_blank")},children:" TV-View ffnen"})]})]}),v.jsxs("div",{className:"glass",style:{padding:"2rem",marginBottom:"2rem"},children:[v.jsx("h3",{style:{marginTop:0},children:"Teilnehmer hinzufgen"}),v.jsxs("form",{onSubmit:S=>{S.preventDefault();const w=S.target.name.value,j=S.target.file.files[0];if(w)if(j){const N=new FileReader;N.onloadend=()=>{const Et=N.result;Pv(u.id,w,Et),S.target.reset()},N.readAsDataURL(j)}else Pv(u.id,w),S.target.reset()},style:{display:"flex",gap:"1rem",flexDirection:"column"},children:[v.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[v.jsx("input",{name:"name",className:"input-field",placeholder:"Name des Schtzen",style:{marginBottom:0,flex:1}}),v.jsx("input",{type:"file",name:"file",className:"input-field",style:{marginBottom:0,flex:1,padding:"10px"},accept:"image/*"})]}),v.jsx("button",{type:"submit",className:"btn-primary",style:{alignSelf:"flex-start"},children:"Hinzufgen"})]})]}),v.jsxs("div",{className:"glass",style:{padding:"0"},children:[v.jsx("h3",{style:{padding:"1.5rem",margin:0,borderBottom:"1px solid rgba(255,255,255,0.1)"},children:"Ergebnisse erfassen"}),Q.sort((S,w)=>S.timestamp-w.timestamp).map(S=>v.jsxs("div",{style:{padding:"1.5rem",borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[v.jsx("div",{style:{fontSize:"1.2rem",fontWeight:"bold"},children:S.name}),v.jsx("button",{onClick:()=>{window.confirm("Lschen?")&&GR(u.id,S.id)},style:{background:"none",border:"none",color:"#ef4444",cursor:"pointer",opacity:.5},children:""})]}),v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"2rem"},children:[v.jsxs("div",{children:[v.jsx("div",{style:{fontSize:"0.9rem",opacity:.7,marginBottom:"0.5rem"},children:"Runde 1"}),v.jsx("div",{style:{display:"flex",gap:"0.5rem"},children:(S.round1||[null,null,null,null,null]).map((w,j)=>v.jsx("input",{className:"input-field",style:{width:"40px",padding:"5px",textAlign:"center",marginBottom:0},value:w??"",placeholder:"-",type:"number",onChange:N=>{const Et=N.target.value===""?null:parseInt(N.target.value),Mt=[...S.round1||[null,null,null,null,null]];Mt[j]=Et,qv(u.id,S.id,{round1:Mt})}},`r1-${j}`))})]}),v.jsxs("div",{children:[v.jsx("div",{style:{fontSize:"0.9rem",opacity:.7,marginBottom:"0.5rem"},children:"Runde 2"}),v.jsx("div",{style:{display:"flex",gap:"0.5rem"},children:(S.round2||[null,null,null,null,null]).map((w,j)=>v.jsx("input",{className:"input-field",style:{width:"40px",padding:"5px",textAlign:"center",marginBottom:0},value:w??"",placeholder:"-",type:"number",onChange:N=>{const Et=N.target.value===""?null:parseInt(N.target.value),Mt=[...S.round2||[null,null,null,null,null]];Mt[j]=Et,qv(u.id,S.id,{round2:Mt})}},`r2-${j}`))})]})]})]},S.id)),Q.length===0&&v.jsx("div",{style:{padding:"3rem",textAlign:"center",opacity:.5},children:"Noch keine Teilnehmer."})]})]}),s==="broadcast"&&v.jsx("div",{className:"animate-fade-in",children:v.jsxs("div",{className:"glass",style:{padding:"2rem"},children:[v.jsxs("div",{style:{marginBottom:"2rem",textAlign:"center"},children:[v.jsx("h3",{style:{marginTop:0},children:" TV-Nachricht senden"}),v.jsx("p",{style:{opacity:.7},children:"Schicke Nachrichten direkt auf den Fernseher."})]}),v.jsxs("form",{onSubmit:async S=>{S.preventDefault();const w=new FormData(S.target),j=w.get("message"),N=w.get("type");await pe(u.id,{broadcast:{active:!0,message:j,type:N,timestamp:Date.now()}}),f({...u,broadcast:{active:!0,message:j,type:N,timestamp:Date.now()}}),alert("Nachricht gesendet!")},children:[v.jsxs("div",{style:{marginBottom:"1.5rem"},children:[v.jsx("label",{style:{display:"block",marginBottom:"0.5rem"},children:"Deine Nachricht:"}),v.jsx("textarea",{name:"message",required:!0,className:"input-field",placeholder:"z.B. Das Buffet ist erffnet! ",style:{width:"100%",minHeight:"100px",fontSize:"1.2rem",textAlign:"center"},defaultValue:u.broadcast?.message||""})]}),v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"2rem"},children:[v.jsxs("label",{style:{cursor:"pointer",padding:"1rem",background:"rgba(0,0,0,0.3)",borderRadius:"12px",border:"1px solid var(--glass-border)",textAlign:"center"},children:[v.jsx("input",{type:"radio",name:"type",value:"ticker",defaultChecked:u.broadcast?.type!=="overlay",style:{marginRight:"0.5rem"}}),v.jsx("strong",{children:"Lauftext (Ticker)"}),v.jsx("div",{style:{fontSize:"0.8rem",opacity:.7,marginTop:"0.5rem"},children:"Dezent am unteren Rand"})]}),v.jsxs("label",{style:{cursor:"pointer",padding:"1rem",background:"rgba(0,0,0,0.3)",borderRadius:"12px",border:"1px solid var(--glass-border)",textAlign:"center"},children:[v.jsx("input",{type:"radio",name:"type",value:"overlay",defaultChecked:u.broadcast?.type==="overlay",style:{marginRight:"0.5rem"}}),v.jsx("strong",{children:"Vollbild (Alarm)"}),v.jsx("div",{style:{fontSize:"0.8rem",opacity:.7,marginTop:"0.5rem"},children:"Unterbricht alles!"})]})]}),v.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[v.jsx("button",{type:"button",className:"btn-ghost",style:{flex:1,color:"var(--accent-danger)",borderColor:"var(--accent-danger)"},onClick:async()=>{await pe(u.id,{broadcast:{active:!1}}),f({...u,broadcast:{active:!1}})},children:" Beenden / Lschen"}),v.jsx("button",{type:"submit",className:"btn-primary",style:{flex:2,fontSize:"1.1rem"},children:" Senden"})]})]}),u.broadcast?.active&&v.jsxs("div",{style:{marginTop:"2rem",padding:"1rem",background:"rgba(34, 197, 94, 0.1)",border:"1px solid var(--accent-success)",borderRadius:"12px",textAlign:"center"},children:[v.jsx("strong",{style:{color:"var(--accent-success)"},children:" LIVE:"}),' "',u.broadcast.message,'" (',u.broadcast.type==="overlay"?"Vollbild":"Ticker",")"]})]})})]})]}):v.jsx("div",{className:"content-container",children:"Lade Event..."})}function s4(){const[r,e]=P.useState([]),[i,s]=P.useState(null),[o,u]=P.useState(!1),[f,g]=P.useState(!1),[p,m]=P.useState({title:"",date:"",time:"",location:"",description:"",budgetLimit:"",maxGuests:""});P.useEffect(()=>{b()},[]);const b=async()=>{const D=JSON.parse(localStorage.getItem("my_events")||"[]");if(D.length===0)return;g(!0);const V=[];for(const L of D)try{const k=await bo(L);V.push(k)}catch(k){console.error("Konnte Event nicht laden:",L,k)}e(V),g(!1)},T=async D=>{D.preventDefault(),g(!0);try{const V={...p,budgetLimit:parseFloat(p.budgetLimit)||0,maxGuests:parseInt(p.maxGuests)||0,bettingStatus:"open"},L=await qR(V),k=JSON.parse(localStorage.getItem("my_events")||"[]");k.push(L),localStorage.setItem("my_events",JSON.stringify(k)),m({title:"",date:"",time:"",location:"",description:"",budgetLimit:"",maxGuests:""}),u(!1),await b()}catch(V){alert("Fehler beim Erstellen der Party: "+V.message)}g(!1)},A=(D,V)=>{V.stopPropagation(),(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")&&alert(`ACHTUNG: Du bist auf 'localhost'. Dieser Link funktioniert NICHT auf dem Handy!

Bitte ffne am Laptop die Netzwerk-Adresse (z.B. http://192.168.x.x:5173), die im Terminal angezeigt wird, und kopiere den Link dann erneut.`);const L=window.location.href.split("?")[0],Q=`${L.endsWith("/")?L.slice(0,-1):L}?partyId=${D}`;if(!navigator.clipboard){const X=document.createElement("textarea");X.value=Q,X.style.position="fixed",X.style.left="-9999px",document.body.appendChild(X),X.focus(),X.select();try{document.execCommand("copy"),alert("Link kopiert: "+Q)}catch{prompt("Konnte nicht automatisch kopieren. Hier ist der Link:",Q)}document.body.removeChild(X);return}navigator.clipboard.writeText(Q).then(()=>{alert("Link in die Zwischenablage kopiert!")}).catch(X=>{prompt("Konnte nicht automatisch kopieren. Hier ist der Link:",Q)})};if(i){const D=r.find(V=>V.id===i);return D?v.jsx(a4,{event:D,onBack:()=>{s(null),b()},onUpdate:()=>b()}):(s(null),null)}return v.jsx("div",{className:"container animate-fade-in",children:v.jsxs("div",{className:"glass card",style:{maxWidth:"800px",margin:"1rem auto",padding:"1.5rem"},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem",flexWrap:"wrap",gap:"1rem"},children:[v.jsx("h1",{className:"text-gradient",children:"PitMaster Admin"}),v.jsx("button",{className:"btn-primary",onClick:()=>u(!o),children:o?"Abbrechen":"+ Neue Party"})]}),o&&v.jsxs("form",{onSubmit:T,className:"animate-fade-in",style:{background:"rgba(0,0,0,0.2)",padding:"1.5rem",borderRadius:"16px",marginBottom:"2rem"},children:[v.jsx("h3",{style:{marginBottom:"1rem"},children:"Neue Party erstellen"}),v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem",marginBottom:"1rem"},children:[v.jsx("input",{required:!0,placeholder:"Party Name",className:"input-field",style:{marginBottom:0},value:p.title,onChange:D=>m({...p,title:D.target.value})}),v.jsx("input",{placeholder:"Admin PIN",className:"input-field",style:{marginBottom:0},maxLength:4,title:"4-Stelliger PIN fr Admin-Login auf anderen Gerten",value:p.adminPin||"",onChange:D=>m({...p,adminPin:D.target.value})})]}),v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[v.jsxs("div",{style:{gridColumn:"1 / -1"},children:[v.jsx("label",{style:{display:"block",marginBottom:"0.5rem"},children:"Was wird gefeiert?"}),v.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[v.jsxs("select",{className:"input-field",style:{marginBottom:0,flex:1},value:["Schiewettbewerb","Geburtstag","Party"].includes(p.theme)?p.theme:"Sonstiges",onChange:D=>{const V=D.target.value;m(V==="Sonstiges"?{...p,theme:""}:{...p,theme:V})},children:[v.jsx("option",{value:"Schiewettbewerb",children:"Schiewettbewerb"}),v.jsx("option",{value:"Geburtstag",children:"Geburtstag"}),v.jsx("option",{value:"Party",children:"Party"}),v.jsx("option",{value:"Sonstiges",children:"Sonstiges / Eigenes..."})]}),!["Schiewettbewerb","Geburtstag","Party"].includes(p.theme)&&v.jsx("input",{placeholder:"Eigenes Thema eingeben...",className:"input-field",style:{marginBottom:0,flex:1},value:p.theme,onChange:D=>m({...p,theme:D.target.value})})]})]}),v.jsxs("div",{style:{gridColumn:"1 / -1"},children:[v.jsx("label",{style:{display:"block",marginBottom:"0.5rem"},children:"Bild / Logo"}),v.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[v.jsx("input",{type:"file",accept:"image/*",onChange:D=>{const V=D.target.files[0];if(V){if(V.size>5e5){alert("Max 500KB!");return}const L=new FileReader;L.onloadend=()=>{m({...p,image:L.result})},L.readAsDataURL(V)}},className:"input-field",style:{marginBottom:0,flex:1}}),v.jsx("button",{type:"button",className:"btn-primary",onClick:async()=>{if(!p.title){alert("Bitte gib erst einen Titel ein!");return}const D=document.activeElement,V=D.innerText;D.innerText=" Generiere...",D.disabled=!0;try{const L=await vE(p.title);m({...p,image:L})}catch{alert("Fehler bei der KI-Generierung. Probier es nochmal.")}D.innerText=V,D.disabled=!1},children:" KI Logo"})]}),p.image&&v.jsx("div",{style:{marginTop:"0.5rem",height:"100px",backgroundImage:`url(${p.image})`,backgroundSize:"cover",borderRadius:"8px"}})]}),v.jsx("input",{required:!0,type:"date",className:"input-field",value:p.date,onChange:D=>m({...p,date:D.target.value})}),v.jsx("input",{required:!0,type:"time",className:"input-field",value:p.time,onChange:D=>m({...p,time:D.target.value})})]}),v.jsx("input",{type:"number",placeholder:"Budget Limit ()",className:"input-field",value:p.budgetLimit,onChange:D=>m({...p,budgetLimit:D.target.value})}),v.jsx("input",{type:"number",placeholder:"Max Gste (0 = egal)",className:"input-field",value:p.maxGuests,onChange:D=>m({...p,maxGuests:D.target.value})}),v.jsx("input",{required:!0,placeholder:"Ort",className:"input-field",style:{gridColumn:"1 / -1"},value:p.location,onChange:D=>m({...p,location:D.target.value})}),v.jsx("textarea",{placeholder:"Beschreibung / Infos",className:"input-field",style:{minHeight:"100px",resize:"vertical",gridColumn:"1 / -1"},value:p.description,onChange:D=>m({...p,description:D.target.value})}),v.jsx("button",{type:"submit",className:"btn-primary",disabled:f,style:{width:"100%"},children:f?"Erstelle...":"Party erstellen"})]}),v.jsxs("div",{children:[v.jsx("h3",{style:{borderBottom:"1px solid var(--glass-border)",paddingBottom:"0.5rem",marginBottom:"1rem"},children:"Deine Events"}),f&&v.jsx("p",{children:"Lade Events..."}),!f&&r.length===0&&v.jsx("p",{style:{opacity:.6},children:"Noch keine Events. Erstelle eins!"}),v.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:r.map(D=>v.jsxs("div",{onClick:()=>s(D.id),style:{background:"rgba(0,0,0,0.2)",padding:"0.8rem",borderRadius:"12px",border:"1px solid var(--glass-border)",cursor:"pointer",transition:"transform 0.2s",display:"flex",alignItems:"center",gap:"1rem"},onMouseEnter:V=>V.currentTarget.style.transform="scale(1.01)",onMouseLeave:V=>V.currentTarget.style.transform="scale(1)",children:[D.image?v.jsx("div",{style:{width:"60px",height:"60px",borderRadius:"8px",backgroundImage:`url(${D.image})`,backgroundSize:"cover",backgroundPosition:"center",flexShrink:0}}):v.jsx("div",{style:{width:"60px",height:"60px",borderRadius:"8px",background:"rgba(255,255,255,0.1)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem",flexShrink:0},children:""}),v.jsxs("div",{style:{flex:1},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[v.jsxs("div",{children:[v.jsx("h4",{style:{margin:"0 0 0.3rem 0",fontSize:"1.2rem"},children:D.title}),v.jsxs("p",{style:{margin:0,opacity:.7,fontSize:"0.8rem"},children:[" ",D.date?D.date.split("-").reverse().join("."):""," |  ",D.location]})]}),v.jsx("button",{onClick:V=>A(D.id,V),className:"btn-primary",style:{fontSize:"0.75rem",padding:"6px 12px"},children:" Link"})]}),v.jsxs("div",{style:{marginTop:"0.5rem",paddingTop:"0.5rem",borderTop:"1px solid rgba(255,255,255,0.05)",display:"flex",justifyContent:"space-between"},children:[v.jsxs("span",{style:{fontSize:"0.75rem",opacity:.8},children:[" ",D.guests?.filter(V=>V.status==="accepted").length," Zusagen"]}),v.jsxs("span",{style:{fontSize:"0.75rem",opacity:.8},children:[" ",D.expenses?hn(Ra(D).totalExpenses):"0"]})]})]})]},D.id))})]})]})})}function l4({partyId:r}){const[e,i]=P.useState(null),[s,o]=P.useState(!0),[u,f]=P.useState(null),[g,p]=P.useState(""),[m,b]=P.useState(!1);P.useEffect(()=>{T();const V=localStorage.getItem(`pitmaster_guest_${r}`);V&&p(V)},[r]);const T=async()=>{try{o(!0);const V=await bo(r);i(V);const L=localStorage.getItem(`pitmaster_guest_${r}`);L&&V.guests&&V.guests.find(Q=>Q.name===L)&&b(!0)}catch{f("Event nicht gefunden oder abgelaufen.")}o(!1)},A=async(V,L=!1)=>{if(!g.trim()){alert("Bitte gib deinen Namen ein!");return}try{await QR(r,{name:g,status:V,participatesInCompetition:L,timestamp:Date.now()}),localStorage.setItem(`pitmaster_guest_${r}`,g),b(!0),T()}catch{alert("Fehler beim Senden der Antwort")}},D=V=>{if(!V)return"";const[L,k,Q]=V.split("-");return`${Q}.${k}.${L}`};return s?v.jsx("div",{className:"container",style:{textAlign:"center",marginTop:"4rem"},children:"Lade Party Infos..."}):u?v.jsx("div",{className:"container",style:{textAlign:"center",marginTop:"4rem",color:"#ef4444"},children:u}):v.jsx("div",{className:"content-container animate-fade-in",children:v.jsxs("div",{className:"glass card",style:{maxWidth:"600px",margin:"2rem auto",textAlign:"center",overflow:"hidden"},children:[e.image?v.jsx("div",{style:{margin:"-2rem -2rem 2rem -2rem",height:"250px",backgroundImage:`url(${e.image})`,backgroundSize:"cover",backgroundPosition:"center"}}):v.jsx("span",{style:{fontSize:"4rem",display:"block",marginBottom:"1rem",marginTop:"1rem"},children:""}),e.theme&&v.jsx("span",{style:{background:"var(--accent-primary)",color:"#000",fontWeight:"bold",padding:"4px 12px",borderRadius:"16px",fontSize:"0.8rem",textTransform:"uppercase",letterSpacing:"1px"},children:e.theme}),v.jsx("h1",{className:"text-gradient",style:{marginBottom:"0.5rem",marginTop:e.theme?"0.5rem":"0"},children:e.title}),v.jsxs("div",{style:{background:"rgba(0,0,0,0.3)",padding:"1rem",borderRadius:"12px",margin:"2rem 0",textAlign:"left"},children:[v.jsxs("p",{style:{margin:"0.5rem 0"},children:[" ",v.jsx("strong",{children:"Wann:"})," ",D(e.date)," um ",e.time]}),v.jsxs("p",{style:{margin:"0.5rem 0"},children:[" ",v.jsx("strong",{children:"Wo:"})," ",e.location]}),e.maxGuests>0&&v.jsxs("p",{style:{margin:"0.5rem 0"},children:[" ",v.jsx("strong",{children:"Max Gste:"})," ",e.maxGuests]}),v.jsxs("p",{style:{margin:"0.5rem 0",whiteSpace:"pre-wrap"},children:[" ",v.jsx("strong",{children:"Infos:"}),v.jsx("br",{}),e.description]})]}),m?v.jsxs("div",{className:"animate-fade-in",style:{padding:"2rem",background:"rgba(255,255,255,0.03)",borderRadius:"12px",border:"1px solid var(--accent-primary)"},children:[v.jsx("h3",{children:"Antwort gesendet!"}),v.jsxs("p",{children:["Danke fr die Rckmeldung, ",g,"."]}),v.jsxs("div",{style:{marginTop:"2rem",borderTop:"1px solid var(--glass-border)",paddingTop:"1rem",textAlign:"left"},children:[v.jsx("h4",{style:{marginBottom:"1rem"},children:" Wer bringt was mit?"}),v.jsxs("ul",{style:{listStyle:"none",padding:0,marginBottom:"1rem"},children:[(e.bringList||[]).map((V,L)=>v.jsxs("li",{style:{marginBottom:"0.5rem",background:"rgba(255,255,255,0.05)",padding:"8px",borderRadius:"8px",fontSize:"0.9rem"},children:[v.jsx("strong",{style:{color:"var(--accent-primary)"},children:V.guest}),": ",V.item,V.note&&v.jsxs("span",{style:{opacity:.7},children:[" (",V.note,")"]})]},L)),(!e.bringList||e.bringList.length===0)&&v.jsx("li",{style:{opacity:.5,fontSize:"0.9rem"},children:"Noch bringt niemand etwas mit."})]}),v.jsx("h5",{style:{marginTop:"1rem",marginBottom:"0.5rem"},children:"Ich bringe was mit:"}),v.jsxs("form",{onSubmit:async V=>{V.preventDefault();const L=new FormData(V.target),k=L.get("item"),Q=L.get("note");if(k)try{const X=await bo(r),it={guest:g,item:k,note:Q},ft=[...X.bringList||[],it];await pe(r,{bringList:ft}),i({...X,bringList:ft}),V.target.reset(),alert("Gespeichert! Danke "+g+"!")}catch(X){console.error(X),alert("Fehler beim Speichern. Versuch's nochmal.")}},style:{display:"flex",gap:"0.5rem"},children:[v.jsx("input",{name:"item",required:!0,placeholder:"Was? (z.B. Brot)",className:"input-field",style:{marginBottom:0,flex:2}}),v.jsx("input",{name:"note",placeholder:"Notiz",className:"input-field",style:{marginBottom:0,flex:1}}),v.jsx("button",{type:"submit",className:"btn-primary",style:{padding:"0 1rem"},children:"+"})]})]}),g&&v.jsx("button",{onClick:()=>b(!1),style:{background:"none",border:"none",color:"var(--text-secondary)",textDecoration:"underline",cursor:"pointer",marginTop:"2rem"},children:"Antwort ndern"})]}):v.jsxs("div",{className:"animate-fade-in",children:[v.jsx("h3",{style:{marginBottom:"1rem"},children:"Bist du dabei?"}),v.jsx("input",{placeholder:"Dein Name",className:"input-field",style:{maxWidth:"300px",textAlign:"center"},value:g,onChange:V=>p(V.target.value)}),e.theme==="Schiewettbewerb"&&v.jsx("div",{style:{marginTop:"1.5rem",background:"rgba(255,255,255,0.05)",padding:"10px",borderRadius:"12px"},children:v.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",cursor:"pointer",justifyContent:"center"},children:[v.jsx("input",{type:"checkbox",style:{transform:"scale(1.5)",accentColor:"var(--accent-primary)"},id:"participation-check"}),v.jsx("span",{style:{fontSize:"0.9rem"},children:"Ich nehme am Schiewettbewerb teil "})]})}),v.jsxs("div",{style:{marginTop:"1rem",display:"flex",flexDirection:"column",gap:"0.5rem",alignItems:"center"},children:[v.jsxs("div",{style:{display:"flex",gap:"1rem",width:"100%",justifyContent:"center"},children:[v.jsx("button",{onClick:()=>{const V=document.getElementById("participation-check")?.checked||!1;A("accepted",V)},className:"btn-primary",style:{flex:1,maxWidth:"140px"},children:"Bin dabei! "}),v.jsx("button",{onClick:()=>A("declined",!1),className:"btn-primary",style:{background:"transparent",border:"1px solid #ef4444",color:"#ef4444",flex:1,maxWidth:"140px"},children:"Kann nicht"})]}),v.jsx("button",{onClick:()=>A("maybe",!1),style:{background:"none",border:"none",color:"var(--text-secondary)",cursor:"pointer",fontSize:"0.9rem",marginTop:"0.5rem"},children:"Vielleicht... "})]})]}),v.jsxs("div",{style:{marginTop:"3rem",borderTop:"1px solid var(--glass-border)",paddingTop:"1rem"},children:[v.jsxs("h4",{children:["Wer kommt? (",e.guests?.filter(V=>V.status==="accepted").length||0,")"]}),v.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem",justifyContent:"center"},children:[e.guests&&e.guests.map((V,L)=>v.jsxs("span",{style:{background:"rgba(255,255,255,0.1)",padding:"4px 12px",borderRadius:"20px",fontSize:"0.9rem",opacity:V.status==="declined"?.5:1,textDecoration:V.status==="declined"?"line-through":"none"},children:[V.name," ",V.status==="maybe"?"(Vielleicht)":""]},L)),(!e.guests||e.guests.length===0)&&v.jsx("span",{style:{opacity:.5},children:"Sei der Erste!"})]})]}),v.jsx("div",{style:{marginTop:"3rem",opacity:.5},children:v.jsx("button",{onClick:()=>{const V=prompt(" Admin PIN eingeben:");if(V&&e.adminPin&&V===e.adminPin){const L=JSON.parse(localStorage.getItem("my_events")||"[]");L.includes(r)||(L.push(r),localStorage.setItem("my_events",JSON.stringify(L))),window.location.href=window.location.origin+window.location.pathname}else V&&alert("Falscher PIN! ")},style:{background:"none",border:"none",color:"var(--text-muted)",fontSize:"0.8rem",cursor:"pointer"},children:" Admin Login"})})]})})}function o4(){const{id:r}=um(),[e,i]=P.useState(null),[s,o]=P.useState(""),[u,f]=P.useState(!1),[g,p]=P.useState([]),[m,b]=P.useState({}),[T,A]=P.useState("winner"),[D,V]=P.useState(""),[L,k]=P.useState(5),[Q,X]=P.useState([]),it=P.useRef(null);P.useEffect(()=>{const R=JSON.parse(localStorage.getItem(`my_bets_${r}`)||"[]");X(R);const I=localStorage.getItem(`pitmaster_guest_${r}`);I&&(o(I),f(!0)),pt();const S=gE(r,w=>{p(w),e&&e.guests&&b(lm(w,e.guests))});return()=>S()},[r]);const ft=R=>{R.trim()&&(localStorage.setItem(`pitmaster_guest_${r}`,R),o(R),f(!0))};P.useEffect(()=>{if(e&&e.guests&&b(lm(g,e.guests)),s&&g.length>0){const R=g.filter(S=>S.user===s).map(S=>S.id),I=[...new Set([...Q,...R])];I.length>Q.length&&(X(I),localStorage.setItem(`my_bets_${r}`,JSON.stringify(I)))}},[e,g,s]);const pt=async()=>{try{const R=await bo(r);i(R)}catch(R){console.error(R)}},vt=async R=>{if(R.preventDefault(),!D)return;const I=await BR(r,{user:s,type:T,target:D,amount:parseFloat(L)}),S=[...Q,I];X(S),localStorage.setItem(`my_bets_${r}`,JSON.stringify(S)),alert(`Wette platziert! Viel Glck, ${s}! `),k(5),setTimeout(()=>{it.current?.scrollIntoView({behavior:"smooth",block:"start"})},100)};if(!e)return v.jsx("div",{className:"container",style:{textAlign:"center",marginTop:"4rem"},children:"Lade Wettbro..."});if(!u)return v.jsx("div",{className:"content-container animate-fade-in",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"80vh"},children:v.jsxs("div",{className:"glass card",style:{padding:"2rem",textAlign:"center",maxWidth:"400px",width:"100%"},children:[v.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:""}),v.jsx("h2",{style:{marginBottom:"0.5rem"},children:"Wer bist du?"}),v.jsx("p",{style:{opacity:.7,marginBottom:"2rem"},children:"Damit wir deine Wetten zuordnen knnen."}),v.jsxs("form",{onSubmit:R=>{R.preventDefault();const I=R.target.elements.name.value;ft(I)},children:[v.jsx("input",{name:"name",className:"input-field",placeholder:"Dein Name",autoFocus:!0,style:{textAlign:"center",fontSize:"1.2rem"}}),v.jsx("button",{type:"submit",className:"btn-primary",style:{width:"100%",marginTop:"1rem"},children:"Los geht's! "})]})]})});const O=g.filter(R=>Q.includes(R.id));return v.jsxs("div",{className:"container animate-fade-in",style:{paddingBottom:"6rem",maxWidth:"800px"},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem",padding:"0.5rem"},children:[v.jsxs("div",{children:[v.jsx("h3",{style:{margin:0},children:"Wettbro"}),v.jsx("div",{style:{fontSize:"0.8rem",opacity:.7},children:e.title})]}),v.jsxs("div",{style:{background:"rgba(255,255,255,0.1)",padding:"5px 12px",borderRadius:"20px",fontSize:"0.9rem"},children:[" ",s]})]}),(!e.bettingStatus||e.bettingStatus==="closed")&&!e.bettingResults&&v.jsxs("div",{className:"glass card",style:{textAlign:"center",padding:"3rem",marginBottom:"2rem"},children:[v.jsx("div",{style:{fontSize:"4rem",marginBottom:"1rem"},children:""}),v.jsx("h3",{children:"Wettbro momentan geschlossen"}),v.jsx("p",{style:{opacity:.7},children:"Warte auf den Admin..."})]}),e.bettingResults&&(()=>{const R=yE(g,e.bettingResults),S=R.filter(w=>w.user===s).reduce((w,j)=>w+j.amount,0);return g.filter(w=>w.user===s).reduce((w,j)=>w+j.amount,0),v.jsxs("div",{className:"glass card",style:{padding:"0",marginBottom:"2rem",border:"1px solid var(--accent-primary)",overflow:"hidden"},children:[v.jsxs("div",{style:{padding:"1.5rem",textAlign:"center",background:"rgba(0,0,0,0.2)"},children:[v.jsx("h2",{className:"text-gradient",style:{textTransform:"uppercase",letterSpacing:"2px",marginBottom:"0.5rem",marginTop:0},children:"Komplett Ausgewertet!"}),v.jsxs("div",{style:{fontSize:"0.9rem",opacity:.8},children:[" ",e.bettingResults.winner," |  ",e.bettingResults.loser]})]}),v.jsx("div",{style:{padding:"2rem",textAlign:"center",background:S>0?"rgba(34, 197, 94, 0.1)":"rgba(239, 68, 68, 0.1)"},children:S>0?v.jsxs(v.Fragment,{children:[v.jsx("div",{style:{fontSize:"3rem",marginBottom:"0.5rem"},children:""}),v.jsx("h3",{style:{margin:0,color:"var(--accent-success)"},children:"Glckwunsch!"}),v.jsxs("p",{style:{fontSize:"1.2rem",margin:"0.5rem 0"},children:["Du hast ",v.jsx("strong",{children:hn(S)})," gewonnen!"]}),v.jsx("div",{style:{fontSize:"0.8rem",opacity:.7},children:"Geh zum Admin fr die Auszahlung."})]}):v.jsxs(v.Fragment,{children:[v.jsx("div",{style:{fontSize:"3rem",marginBottom:"0.5rem"},children:""}),v.jsx("h3",{style:{margin:0,color:"var(--accent-danger)"},children:"Knapp daneben!"}),v.jsx("p",{style:{margin:"0.5rem 0"},children:"Leider nichts gewonnen."}),v.jsx("div",{style:{fontSize:"0.8rem",opacity:.7},children:"Viel Glck beim nchsten Mal! "})]})}),v.jsxs("div",{style:{padding:"1rem"},children:[v.jsx("h4",{style:{margin:"0 0 1rem 0",textTransform:"uppercase",fontSize:"0.8rem",opacity:.6,letterSpacing:"1px"},children:"Die Glckspilze (Payouts)"}),R.length>0?v.jsx("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.9rem"},children:v.jsx("tbody",{children:R.map((w,j)=>v.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[v.jsx("td",{style:{padding:"8px",fontWeight:"bold"},children:w.user}),v.jsxs("td",{style:{padding:"8px"},children:[v.jsx("span",{style:{fontSize:"0.8rem",padding:"2px 6px",borderRadius:"4px",background:"rgba(255,255,255,0.05)",marginRight:"8px"},children:w.type==="winner"?"Sieg":"Verl."}),w.target]}),v.jsx("td",{style:{padding:"8px",textAlign:"right",color:"var(--accent-primary)",fontWeight:"bold"},children:hn(w.amount)})]},j))})}):v.jsx("div",{style:{textAlign:"center",opacity:.5,padding:"1rem"},children:"Niemand hat gewonnen. Das Haus freut sich! "})]})]})})(),e.bettingStatus==="open"&&v.jsxs("div",{className:"glass card",style:{padding:"1.5rem",marginBottom:"2rem"},children:[v.jsx("h3",{style:{marginTop:0,marginBottom:"1.5rem",textAlign:"center"},children:"Neue Wette platzieren"}),v.jsxs("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"center",marginBottom:"2rem"},children:[v.jsx("button",{onClick:()=>A("winner"),className:T==="winner"?"btn-primary":"btn-ghost",style:{flex:1,fontSize:"0.8rem"},children:" Sieger"}),v.jsx("button",{onClick:()=>A("loser"),className:T==="loser"?"btn-primary":"btn-ghost",style:{flex:1,fontSize:"0.8rem"},children:" Verlierer"})]}),v.jsxs("form",{onSubmit:vt,children:[v.jsx("p",{style:{textAlign:"center",opacity:.8,marginBottom:"1rem"},children:T==="winner"?"Wer gewinnt das Event?":"Wer wird Letzter?"}),v.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(130px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:e.guests?.filter(R=>R.status==="accepted").map(R=>{const I=m[`${T}_${R.name}`]||10;return v.jsxs("div",{onClick:()=>V(R.name),style:{padding:"12px",border:D===R.name?"2px solid var(--accent-primary)":"1px solid rgba(255,255,255,0.1)",background:D===R.name?"rgba(0,255,163,0.15)":"rgba(255,255,255,0.05)",borderRadius:"16px",cursor:"pointer",textAlign:"center",transition:"all 0.2s",transform:D===R.name?"scale(1.05)":"scale(1)"},children:[v.jsx("div",{style:{fontWeight:"bold",fontSize:"1rem",marginBottom:"4px"},children:R.name}),v.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--accent-gold)",fontWeight:"bold"},children:["x ",I.toFixed(2)]})]},R.name)})}),v.jsx("div",{className:"glass",style:{padding:"1rem",borderRadius:"16px",background:"rgba(0,0,0,0.4)",marginTop:"auto"},children:v.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:[v.jsxs("div",{style:{flex:1},children:[v.jsx("label",{style:{fontSize:"0.75rem",textTransform:"uppercase",letterSpacing:"1px",opacity:.7},children:"Einsatz ()"}),v.jsx("input",{type:"number",min:"1",step:"0.50",value:L,onChange:R=>k(R.target.value),className:"input-field",style:{marginBottom:0,fontSize:"1.2rem",fontWeight:"bold"}})]}),v.jsx("button",{type:"submit",className:"btn-primary",disabled:!D,style:{flex:2,height:"56px",fontSize:"1.1rem"},children:"Wette platzieren"})]})})]})]}),O.length>0&&v.jsxs("div",{style:{marginBottom:"3rem"},children:[v.jsx("h3",{style:{paddingLeft:"0.5rem",borderLeft:"4px solid var(--accent-primary)",marginLeft:"0.5rem",marginBottom:"1.5rem"},children:"Deine Wetten"}),v.jsx("div",{style:{display:"grid",gap:"1rem"},children:O.map(R=>{let I=1;m[`${R.type}_${R.target}`]&&(I=m[`${R.type}_${R.target}`]);const S=R.amount*I;return v.jsx("div",{className:"glass",style:{padding:"1rem",borderRadius:"12px",display:"flex",justifyContent:"space-between",alignItems:"center",borderLeft:`4px solid ${R.type==="winner"?"#fbbf24":R.type==="loser"?"#ef4444":"#3b82f6"}`},children:v.jsxs("div",{children:[v.jsxs("div",{style:{fontWeight:"bold",fontSize:"1.1rem"},children:[R.target," ",v.jsxs("span",{style:{opacity:.6,fontSize:"0.9rem",fontWeight:"normal"},children:["(",R.type==="winner"?"Sieg":R.type==="loser"?"Verlierer":"Volltreffer",")"]})]}),v.jsxs("div",{style:{fontSize:"0.9rem",marginTop:"4px",opacity:.8},children:["Einsatz: ",v.jsxs("strong",{children:[R.amount.toFixed(2),""]}),v.jsx("span",{style:{margin:"0 8px"},children:""}),"Mglich: ",v.jsxs("strong",{style:{color:"var(--accent-primary)"},children:[S.toFixed(2),""]}),v.jsxs("span",{style:{fontSize:"0.8rem",opacity:.5,marginLeft:"5px"},children:["(x",I.toFixed(2),")"]})]})]})},R.id)})})]}),v.jsxs("div",{style:{marginTop:"3rem"},children:[v.jsx("h3",{style:{paddingLeft:"0.5rem",borderLeft:"4px solid rgba(255,255,255,0.5)",marginLeft:"0.5rem",marginBottom:"1.5rem",opacity:.8},children:"Aktuelle Quoten bersicht"}),v.jsx("div",{className:"glass",style:{padding:"1rem",borderRadius:"12px",overflowX:"auto"},children:v.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.9rem",minWidth:"300px"},children:[v.jsx("thead",{children:v.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.1)",textAlign:"left"},children:[v.jsx("th",{style:{padding:"8px"},children:"Name"}),v.jsx("th",{style:{padding:"8px",color:"var(--accent-gold)"},children:"Sieg"}),v.jsx("th",{style:{padding:"8px",color:"#ef4444"},children:"Verl."})]})}),v.jsx("tbody",{children:e.guests?.filter(R=>R.status==="accepted").map(R=>v.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[v.jsx("td",{style:{padding:"8px",fontWeight:"bold"},children:R.name}),v.jsx("td",{style:{padding:"8px"},children:(m[`winner_${R.name}`]||1).toFixed(2)}),v.jsx("td",{style:{padding:"8px"},children:(m[`loser_${R.name}`]||1).toFixed(2)})]},R.name))})]})})]}),v.jsxs("div",{ref:it,style:{marginTop:"3rem",paddingBottom:"2rem"},children:[v.jsxs("div",{style:{padding:"1rem",borderBottom:"1px solid rgba(255,255,255,0.1)",background:"rgba(255,255,255,0.02)",display:"flex",justifyContent:"space-between",alignItems:"center",borderRadius:"12px 12px 0 0"},children:[v.jsx("h3",{style:{margin:0,fontSize:"1.1rem"},children:" Live Ticker"}),v.jsxs("span",{style:{fontSize:"0.8rem",opacity:.6},children:[g.length," Wetten"]})]}),v.jsx("div",{className:"glass",style:{padding:"0",overflowX:"auto",borderRadius:"0 0 12px 12px"},children:v.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.85rem",minWidth:"350px"},children:[v.jsx("thead",{style:{background:"rgba(0,0,0,0.2)"},children:v.jsxs("tr",{children:[v.jsx("th",{style:{textAlign:"left",padding:"12px",fontWeight:"600",opacity:.8},children:"Zeit"}),v.jsx("th",{style:{textAlign:"left",padding:"12px",fontWeight:"600",opacity:.8},children:"Spieler"}),v.jsx("th",{style:{textAlign:"left",padding:"12px",fontWeight:"600",opacity:.8},children:"Wette"}),v.jsx("th",{style:{textAlign:"right",padding:"12px",fontWeight:"600",opacity:.8},children:"Mgl. Gewinn"})]})}),v.jsxs("tbody",{children:[g.slice().reverse().map((R,I)=>{const S=`${R.type}_${R.target}`,w=m&&m[S]||1,j=R.amount*w,N=R.timestamp?new Date(R.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"-";return v.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[v.jsx("td",{style:{padding:"12px",opacity:.5,fontSize:"0.75rem"},children:N}),v.jsx("td",{style:{padding:"12px",fontWeight:"500"},children:R.user}),v.jsxs("td",{style:{padding:"12px"},children:[v.jsx("div",{style:{background:R.type==="winner"?"rgba(234, 180, 8, 0.15)":"rgba(239, 68, 68, 0.15)",color:R.type==="winner"?"#eab308":"#ef4444",padding:"2px 6px",borderRadius:"4px",fontSize:"0.75rem",fontWeight:"bold",display:"inline-block",marginBottom:"2px"},children:R.type==="winner"?"SIEG":"VERL."}),v.jsx("div",{style:{fontSize:"0.9rem"},children:R.target})]}),v.jsxs("td",{style:{padding:"12px",textAlign:"right",color:"var(--accent-primary)",fontWeight:"bold"},children:[hn(j),v.jsxs("div",{style:{fontSize:"0.7rem",opacity:.5,fontWeight:"normal"},children:["Einsatz: ",hn(R.amount)]})]})]},I)}),g.length===0&&v.jsx("tr",{children:v.jsx("td",{colSpan:"4",style:{padding:"2rem",textAlign:"center",opacity:.4},children:"Noch keine Wetten. Sei der Erste! "})})]})]})})]})]})}function u4(){const{eventId:r}=um();v1();const[e,i]=P.useState(null),[s,o]=P.useState(!1),[u,f]=P.useState(!1),[g,p]=P.useState({rating_food:0,rating_vibes:0,rating_music:0,comment:""});P.useEffect(()=>{r&&bo(r).then(i).catch(T=>{console.error(T),alert("Event nicht gefunden.")})},[r]);const m=(T,A)=>{p(D=>({...D,[T]:A}))},b=async T=>{if(T.preventDefault(),g.rating_food===0&&g.rating_vibes===0&&g.rating_music===0&&!g.comment){alert("Bitte gib zumindest eine Bewertung oder einen Kommentar ab.");return}f(!0);try{await UR(r,g),o(!0)}catch(A){console.error(A),alert("Fehler beim Absenden. Bitte versuche es erneut.")}finally{f(!1)}};return s?v.jsx("div",{className:"app-root animate-fade-in",style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",padding:"1rem"},children:v.jsxs("div",{className:"glass card",style:{textAlign:"center",padding:"3rem 1rem",maxWidth:"400px",width:"100%"},children:[v.jsx("div",{style:{fontSize:"4rem",marginBottom:"1rem"},children:""}),v.jsx("h2",{style:{marginBottom:"1rem"},children:"Vielen Dank!"}),v.jsx("p",{style:{opacity:.8,lineHeight:"1.6"},children:"Dein Feedback hilft uns, die nchsten Partys noch legendrer zu machen."})]})}):e?v.jsx("div",{className:"app-root animate-fade-in",style:{padding:"1rem",paddingBottom:"3rem"},children:v.jsxs("div",{className:"glass card",style:{maxWidth:"600px",margin:"0 auto",marginTop:"1rem"},children:[v.jsx("h2",{style:{textAlign:"center",marginBottom:"0.5rem"},children:e.title}),v.jsx("p",{style:{textAlign:"center",opacity:.6,fontSize:"0.9rem",marginBottom:"2rem"},children:"Dein ehrliches Feedback (Anonym)"}),v.jsxs("form",{onSubmit:b,style:{display:"flex",flexDirection:"column",gap:"2rem"},children:[v.jsx(Md,{label:" Essen & Trinken",value:g.rating_food,onChange:T=>m("rating_food",T)}),v.jsx(Md,{label:" Stimmung",value:g.rating_vibes,onChange:T=>m("rating_vibes",T)}),v.jsx(Md,{label:" Musik",value:g.rating_music,onChange:T=>m("rating_music",T)}),v.jsxs("div",{children:[v.jsx("label",{style:{display:"block",marginBottom:"0.8rem",fontWeight:"bold"},children:" Verbesserungsvorschlge"}),v.jsx("textarea",{className:"input-field",rows:"4",placeholder:"Was hat gefehlt? Was war super? Erzhl's uns...",value:g.comment,onChange:T=>p(A=>({...A,comment:T.target.value})),style:{width:"100%",resize:"vertical"}})]}),v.jsx("button",{type:"submit",className:"btn-primary",disabled:u,style:{padding:"16px",fontSize:"1.1rem",marginTop:"1rem"},children:u?"Sende...":"Feedback absenden "})]})]})}):v.jsx("div",{className:"app-root",style:{display:"flex",justifyContent:"center",alignItems:"center"},children:"Lade..."})}function Md({label:r,value:e,onChange:i}){return v.jsxs("div",{style:{textAlign:"center"},children:[v.jsx("label",{style:{display:"block",marginBottom:"0.8rem",fontWeight:"bold"},children:r}),v.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"8px"},children:[1,2,3,4,5].map(s=>v.jsx("button",{type:"button",onClick:()=>i(s),style:{background:"none",border:"none",fontSize:"2rem",cursor:"pointer",color:s<=e?"#fbbf24":"rgba(255,255,255,0.2)",transition:"transform 0.1s",padding:"0 4px"},onMouseDown:o=>o.target.style.transform="scale(0.9)",onMouseUp:o=>o.target.style.transform="scale(1.0)",children:""},s))}),v.jsxs("div",{style:{fontSize:"0.8rem",opacity:.5,marginTop:"4px",height:"1.2em"},children:[e===1&&"Naja...",e===2&&"Ging so",e===3&&"Ganz ok",e===4&&"Super",e===5&&"Legendr!"]})]})}function c4({eventData:r}){if(!r?.broadcast?.active)return null;const{message:e,type:i}=r.broadcast;return i==="overlay"?v.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.9)",backdropFilter:"blur(10px)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",animation:"popIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275)"},children:[v.jsx("div",{style:{padding:"4rem",border:"2px solid var(--accent-highlight)",borderRadius:"var(--radius-lg)",background:"rgba(6, 182, 212, 0.1)",boxShadow:"0 0 50px rgba(6, 182, 212, 0.3)",textAlign:"center"},children:v.jsx("h1",{style:{fontSize:"5rem",margin:0,textTransform:"uppercase",color:"white",textShadow:"0 0 30px var(--accent-highlight)"},children:e})}),v.jsx("style",{children:`
                    @keyframes popIn {
                        from { transform: scale(0.8); opacity: 0; }
                        to { transform: scale(1); opacity: 1; }
                    }
                `})]}):v.jsxs("div",{style:{position:"fixed",bottom:0,left:0,width:"100%",background:"linear-gradient(90deg, var(--bg-secondary), #000, var(--bg-secondary))",borderTop:"2px solid var(--accent-primary)",color:"white",padding:"1rem 0",zIndex:9999,overflow:"hidden",boxShadow:"0 -5px 20px rgba(0,0,0,0.5)"},children:[v.jsxs("div",{style:{display:"inline-block",whiteSpace:"nowrap",animation:"marquee 20s linear infinite",fontSize:"2rem",fontWeight:"bold",textTransform:"uppercase",textShadow:"0 0 10px var(--accent-primary)"},children:[e,"  ",e,"  ",e,"  ",e,"  ",e," "]}),v.jsx("style",{children:`
                @keyframes marquee {
                    0% { transform: translateX(100vw); }
                    100% { transform: translateX(-100%); }
                }
            `})]})}function h4(){const{eventId:r}=um(),[e,i]=P.useState([]),[s,o]=P.useState(null),[u,f]=P.useState(null),[g,p]=P.useState(null),m=A=>{const D=(A.round1||[]).reduce((L,k)=>L+(k||0),0),V=(A.round2||[]).reduce((L,k)=>L+(k||0),0);return D+V};if(P.useEffect(()=>{const A=FR(r,V=>{o(V)}),D=pE(r,V=>{const L=V.sort((k,Q)=>m(Q)-m(k));if(L.length>0){const k=L[0];u&&u.id!==k.id&&(p(` Neuer Fhrender: ${k.name} `),setTimeout(()=>p(null),5e3)),f(k)}i(L)});return()=>{D(),A&&A()}},[r]),!s)return v.jsx("div",{className:"app-root",style:{display:"flex",justifyContent:"center",alignItems:"center"},children:"Lade..."});const b=e.slice(0,3),T=e.slice(3);return v.jsxs("div",{className:"app-root",style:{height:"100vh",overflow:"hidden",padding:"2rem",display:"flex",flexDirection:"column"},children:[v.jsx(c4,{eventData:s}),v.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"radial-gradient(circle at 50% 50%, rgba(0, 255, 163, 0.05) 0%, transparent 70%)",zIndex:-1}}),v.jsxs("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"3rem",borderBottom:"1px solid var(--glass-border)",paddingBottom:"1rem"},children:[v.jsxs("div",{children:[v.jsxs("h1",{style:{margin:0,fontSize:"3rem",textTransform:"uppercase",letterSpacing:"0.1em"},children:[v.jsx("span",{style:{color:"var(--accent-primary)"},children:"Live"})," Schiestand"]}),v.jsx("div",{style:{opacity:.6,fontSize:"1.2rem"},children:s.title})]}),v.jsx("div",{style:{textAlign:"right"},children:v.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"bold"},children:["Teilnehmer: ",e.length]})})]}),g&&v.jsx("div",{className:"glass",style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:100,background:"rgba(0,0,0,0.9)",border:"2px solid var(--accent-gold)",padding:"3rem",fontSize:"3rem",fontWeight:"bold",color:"var(--accent-gold)",boxShadow:"0 0 100px rgba(251, 191, 36, 0.4)",borderRadius:"30px",textAlign:"center",minWidth:"600px",animation:"popIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275)"},children:g}),v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1.2fr 0.8fr",gap:"3rem",flex:1,overflow:"hidden"},children:[v.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",justifyContent:"center",paddingLeft:"1rem"},children:b.map((A,D)=>{let V="var(--glass-border)",L=1,k=null;return D===0&&(V="#fbbf24",L=1.05,k=""),D===1&&(V="#94a3b8",L=1),D===2&&(V="#b45309",L=.95),v.jsxs("div",{className:"glass",style:{display:"flex",alignItems:"center",padding:"1.5rem",border:`2px solid ${V}`,transform:`scale(${L})`,transformOrigin:"left center",boxShadow:D===0?"0 0 30px rgba(251, 191, 36, 0.2)":"none",position:"relative",background:D===0?"rgba(251, 191, 36, 0.05)":"var(--glass-bg)",marginLeft:D===0?"1rem":"0"},children:[v.jsxs("div",{style:{fontSize:"3rem",fontWeight:"bold",color:V,width:"60px",display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",gap:"10px"},children:[D+1,".",A.image&&v.jsx("img",{src:A.image,alt:A.name,style:{width:"60px",height:"60px",borderRadius:"50%",objectFit:"cover",border:`2px solid ${V}`}})]}),v.jsxs("div",{style:{flex:1,paddingLeft:"2rem"},children:[v.jsxs("div",{style:{fontSize:"2.5rem",fontWeight:"bold",lineHeight:1},children:[A.name," ",k]}),v.jsxs("div",{style:{display:"flex",gap:"2rem",marginTop:"0.5rem",opacity:.7,fontSize:"1.2rem"},children:[v.jsxs("span",{children:["Runde 1: ",v.jsx("strong",{children:(A.round1||[]).reduce((Q,X)=>Q+(X||0),0)})]}),v.jsxs("span",{children:["Runde 2: ",v.jsx("strong",{children:(A.round2||[]).reduce((Q,X)=>Q+(X||0),0)})]})]})]}),v.jsx("div",{style:{fontSize:"4rem",fontWeight:"bold",color:"var(--accent-primary)"},children:m(A)})]},A.id)})}),v.jsxs("div",{className:"glass",style:{padding:"0",display:"flex",flexDirection:"column",overflow:"hidden"},children:[v.jsx("div",{style:{padding:"1.5rem",borderBottom:"1px solid var(--glass-border)",fontSize:"1.2rem",fontWeight:"bold",background:"rgba(255,255,255,0.02)"},children:"Verfolgerfeld"}),v.jsx("div",{style:{overflowY:"auto",flex:1,padding:"1rem"},children:T.length===0?v.jsx("div",{style:{opacity:.3,textAlign:"center",marginTop:"2rem"},children:"Noch keine weiteren Teilnehmer."}):T.map((A,D)=>v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem",marginBottom:"0.5rem",borderBottom:"1px solid rgba(255,255,255,0.05)",fontSize:"1.2rem"},children:[v.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:[v.jsxs("span",{style:{opacity:.5,width:"30px"},children:[D+4,"."]}),A.image&&v.jsx("img",{src:A.image,alt:A.name,style:{width:"40px",height:"40px",borderRadius:"50%",objectFit:"cover"}}),v.jsx("strong",{children:A.name})]}),v.jsx("div",{style:{fontWeight:"bold",color:"var(--accent-secondary)"},children:m(A)})]},A.id))})]})]}),v.jsx("style",{children:`
                @keyframes popIn {
                    0% { transform: translate(-50%, -50%) scale(0.5); opacity: 0; }
                    100% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
                }
            `})]})}function f4(){return v.jsx(N2,{children:v.jsxs(s2,{children:[v.jsx(eo,{path:"/",element:v.jsx(d4,{})}),v.jsx(eo,{path:"/betting/:id",element:v.jsx(o4,{})}),v.jsx(eo,{path:"/feedback/:eventId",element:v.jsx(u4,{})}),v.jsx(eo,{path:"/party/:eventId/shooting",element:v.jsx(h4,{})})]})})}function d4(){const[r,e]=P.useState(null);return P.useEffect(()=>{const s=new URLSearchParams(window.location.search).get("partyId");s&&e(s)},[]),v.jsx("div",{className:"app-root",children:r?v.jsx(l4,{partyId:r}):v.jsx(s4,{})})}uT.createRoot(document.getElementById("root")).render(v.jsx(P.StrictMode,{children:v.jsx(f4,{})}));
