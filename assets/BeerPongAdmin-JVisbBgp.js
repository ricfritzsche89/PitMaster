import{r as m,j as e}from"./index-C-W6qq-d.js";import{a as d,o as j,u as x,s as w,d as p}from"./firebase-Codym4C1.js";import{B as C}from"./BeerPongTable-BJDkWtF0.js";function y(){const r="beerpong_standalone",[c,a]=m.useState({topCups:[],bottomCups:[]});m.useEffect(()=>{const t=d(p,"events",r),s=j(t,o=>{if(o.exists()){const n=o.data();n.beerPong&&a(n.beerPong)}else{const n={topCups:[0,1,2,3,4,5,6,7,8,9],bottomCups:[0,1,2,3,4,5,6,7,8,9]};w(t,{title:"Bierpong Match",beerPong:n}),a(n)}});return()=>s()},[]);const b=async(t,s)=>{const o=c[t==="top"?"topCups":"bottomCups"]||[],n=o.includes(s);let l;n?l=o.filter(i=>i!==s):l=[...o,s].sort((i,h)=>i-h);const u={...c,[t==="top"?"topCups":"bottomCups"]:l};a(u);const g=d(p,"events",r);await x(g,{beerPong:u})},f=async()=>{if(!confirm("âš ï¸ Neues Spiel starten? Alle Becher werden zurÃ¼ckgesetzt."))return;const t={topCups:[0,1,2,3,4,5,6,7,8,9],bottomCups:[0,1,2,3,4,5,6,7,8,9]};a(t);const s=d(p,"events",r);await x(s,{beerPong:t})};return e.jsxs("div",{className:"beer-pong-admin h-full flex flex-col animate-fade-in text-white",children:[e.jsxs("header",{className:"flex justify-between items-center p-4 border-b border-slate-700 bg-slate-800/50",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold",children:"ðŸº Bierpong Manager"}),e.jsx("span",{className:"text-xs uppercase text-slate-400",children:"Standalone Mode"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{const t=`${window.location.origin}${window.location.pathname}#/party/beerpong`;window.open(t,"_blank")},className:"px-3 py-1.5 bg-blue-600 hover:bg-blue-500 rounded-lg text-sm font-bold shadow-lg",children:"ðŸ“º TV Screen"}),e.jsx("button",{onClick:f,className:"px-3 py-1.5 bg-red-600/20 text-red-400 border border-red-600/50 hover:bg-red-600/30 rounded-lg text-sm",children:"â†º Reset"})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 flex flex-col items-center justify-center",children:[e.jsxs("div",{className:"mb-8 text-center opacity-70 text-sm max-w-md",children:["Links: ",e.jsx("strong",{children:"Team Schwarz"})," | Rechts: ",e.jsx("strong",{children:"Team GrÃ¼n"}),e.jsx("br",{}),"Klicke auf Becher, um sie zu entfernen."]}),e.jsx(C,{gameState:c,onCupClick:b})]})]})}export{y as default};
