import{a as d,o as l,u as m,b as y,c,e as p,f as u,d as n,h as g,q as h,w as f,g as _,A as T,i as w,j as C,B as R,l as F,C as I,D as S,k as v,F as D,m as x,n as B,p as k,G as Q,L,P as V,Q as q,r as O,s as M,t as N,v as G,x as H,y as W,z as U,E as j,H as z,S as J,T as K,I as Z,V as $,W as X,_ as Y,J as aa,K as ea,M as sa,N as ta,O as ra,R as na,U as oa,X as ia,Y as ca,Z as da,$ as ua,a0 as la,a1 as ma,a2 as ga,a3 as pa,a4 as ya,a5 as ha,a6 as fa,a7 as _a,a8 as ba,a9 as Ea,aa as Pa,ab as Aa,ac as Ta,ad as wa,ae as Ca,af as Ra,ag as Fa,ah as Ia,ai as Sa,aj as va,ak as Da,al as xa,am as Ba,an as ka,ao as Qa,ap as La,aq as Va,ar as qa,as as Oa,at as Ma,au as Na,av as Ga,aw as Ha,ax as Wa,ay as Ua,az as ja,aA as za,aB as Ja,aC as Ka,aD as Za,aE as $a,aF as Xa,aG as Ya,aH as ae,aI as ee,aJ as se,aK as te,aL as re,aM as ne,aN as oe,aO as ie,aP as ce,aQ as de,aR as ue,aS as le,aT as me,aU as ge,aV as pe,aW as ye,aX as he,aY as fe,aZ as _e,a_ as be,a$ as Ee,b0 as Pe,b1 as Ae}from"./firebase-CJRgEAD5.js";import{_ as Te}from"./index-DIuLyGTG.js";const we=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:T,AggregateField:w,AggregateQuerySnapshot:C,Bytes:R,CACHE_SIZE_UNLIMITED:F,CollectionReference:I,DocumentReference:S,DocumentSnapshot:v,FieldPath:D,FieldValue:x,Firestore:B,FirestoreError:k,GeoPoint:Q,LoadBundleTask:L,PersistentCacheIndexManager:V,Query:q,QueryCompositeFilterConstraint:O,QueryConstraint:M,QueryDocumentSnapshot:N,QueryEndAtConstraint:G,QueryFieldFilterConstraint:H,QueryLimitConstraint:W,QueryOrderByConstraint:U,QuerySnapshot:j,QueryStartAtConstraint:z,SnapshotMetadata:J,Timestamp:K,Transaction:Z,VectorValue:$,WriteBatch:X,_AutoId:Y,_ByteString:aa,_DatabaseId:ea,_DocumentKey:sa,_EmptyAppCheckTokenProvider:ta,_EmptyAuthCredentialsProvider:ra,_FieldPath:na,_TestingHooks:oa,_cast:ia,_debugAssert:ca,_internalAggregationQueryToProtoRunAggregationQueryRequest:da,_internalQueryToProtoQueryTarget:ua,_isBase64Available:la,_logWarn:ma,_validateIsNotUsedTogether:ga,addDoc:u,aggregateFieldEqual:pa,aggregateQuerySnapshotEqual:ya,and:ha,arrayRemove:fa,arrayUnion:y,average:_a,clearIndexedDbPersistence:ba,collection:c,collectionGroup:Ea,connectFirestoreEmulator:Pa,count:Aa,deleteAllPersistentCacheIndexes:Ta,deleteDoc:g,deleteField:wa,disableNetwork:Ca,disablePersistentCacheIndexAutoCreation:Ra,doc:d,documentId:Fa,documentSnapshotFromJSON:Ia,enableIndexedDbPersistence:Sa,enableMultiTabIndexedDbPersistence:va,enableNetwork:Da,enablePersistentCacheIndexAutoCreation:xa,endAt:Ba,endBefore:ka,ensureFirestoreConfigured:Qa,executeWrite:La,getAggregateFromServer:Va,getCountFromServer:qa,getDoc:p,getDocFromCache:Oa,getDocFromServer:Ma,getDocs:_,getDocsFromCache:Na,getDocsFromServer:Ga,getFirestore:Ha,getPersistentCacheIndexManager:Wa,increment:Ua,initializeFirestore:ja,limit:za,limitToLast:Ja,loadBundle:Ka,memoryEagerGarbageCollector:Za,memoryLocalCache:$a,memoryLruGarbageCollector:Xa,namedQuery:Ya,onSnapshot:l,onSnapshotResume:ae,onSnapshotsInSync:ee,or:se,orderBy:te,persistentLocalCache:re,persistentMultipleTabManager:ne,persistentSingleTabManager:oe,query:h,queryEqual:ie,querySnapshotFromJSON:ce,refEqual:de,runTransaction:ue,serverTimestamp:le,setDoc:me,setIndexConfiguration:ge,setLogLevel:pe,snapshotEqual:ye,startAfter:he,startAt:fe,sum:_e,terminate:be,updateDoc:m,vector:Ee,waitForPendingWrites:Pe,where:f,writeBatch:Ae},Symbol.toStringTag,{value:"Module"})),o="events",Ie=async(a,e)=>{const s=c(n,o,a,"bets");return(await u(s,{...e,timestamp:Date.now()})).id},Se=async(a,e)=>{const s=d(n,o,a,"bets",e);await g(s)},ve=(a,e)=>{const s=c(n,o,a,"bets");return l(s,t=>{const r=[];t.forEach(i=>r.push({id:i.id,...i.data()})),e(r)})},De=async(a,e)=>{const s=c(n,o,a,"feedback");await u(s,{...e,timestamp:Date.now()})},xe=(a,e)=>{const s=c(n,o,a,"feedback");return l(s,t=>{const r=[];t.forEach(i=>r.push({id:i.id,...i.data()})),e(r)})},Be=async a=>{try{return(await u(c(n,o),{...a,expenses:a.expenses||[],maxGuests:a.maxGuests||0,isRecurring:a.isRecurring||!1,adminShare:a.adminShare??100,budgetLimit:a.budgetLimit||0,createdAt:Date.now(),guests:[]})).id}catch(e){throw console.error("Error adding document: ",e),e}},ke=async a=>{const e=d(n,o,a);await g(e)},Qe=(a,e)=>{const s=c(n,o,a,"participants");return l(s,t=>{const r=[];t.forEach(i=>r.push({id:i.id,...i.data()})),e(r)})},Le=async(a,e)=>{const s=c(n,o,a,"participants"),t=h(s,f("name","==",e)),r=await _(t);return r.empty?await Ce(a,e):r.docs[0].id},Ce=async(a,e,s=null)=>{const t=c(n,o,a,"participants");await u(t,{name:e,image:s,round1:[null,null,null,null,null],round2:[null,null,null,null,null],stats:{Gewehr:50,Bogen:50,Durst:50,Hunger:50},timestamp:Date.now()})},Ve=async(a,e,s)=>{const t=d(n,o,a,"participants",e);await m(t,s)},qe=async(a,e)=>{const s=d(n,o,a,"participants",e);await g(s)},Oe=async a=>{const e=d(n,o,a),s=await p(e);if(s.exists())return{id:s.id,...s.data()};throw new Error("Event not found")},Me=(a,e)=>{const s=d(n,o,a);return l(s,t=>{t.exists()?e({id:t.id,...t.data()}):e(null)})},Ne=async(a,e)=>{const s=d(n,o,a);try{const t=await p(s);if(!t.exists())throw new Error("Event not found");let r=t.data().guests||[];r=r.filter(i=>i.name!==e.name),r.push({...e,hasPaid:!1,contribution:0}),await m(s,{guests:r})}catch(t){throw console.error("RSVP Error",t),t}},Ge=async(a,e)=>{const s=d(n,o,a);await m(s,e)},He=async(a,e)=>{const s=d(n,o,a);await m(s,{bringList:y(e)})},We=async a=>{const e=c(n,"hallOfFame");await u(e,{...a,timestamp:Date.now()})},Ue=async(a=20)=>{const e=c(n,"hallOfFame"),s=await Te(()=>Promise.resolve().then(()=>we),void 0).then(r=>{const{query:i,orderBy:b,limit:E,getDocs:P}=r,A=i(e,b("timestamp","desc"),E(a));return P(A)}),t=[];return s.forEach(r=>t.push({id:r.id,...r.data()})),t};export{He as a,ve as b,Le as c,De as d,Ue as e,Qe as f,Oe as g,Ve as h,xe as i,ke as j,Se as k,Ce as l,qe as m,We as n,Be as o,Ie as p,Ne as r,Me as s,Ge as u};
