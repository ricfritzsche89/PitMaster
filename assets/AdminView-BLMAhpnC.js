const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/certificate-VAd5q8YQ.js","assets/index-DOKfwk7H.js","assets/index-643Q29OQ.css"])))=>i.map(i=>d[i]);
import{b as Te,r as k,j as e,c as je,g as Ee,_ as q,R as Le,D as Re}from"./index-DOKfwk7H.js";import{d as Ne,e as Pe,s as Ae,f as ze,u as T,h as De,i as ie,j as _e,k as se,l as Ie,g as Me,m as Oe}from"./db-BauU-V8h.js";import{b as _,f as P,a as We,c as Fe}from"./finance-GZNHdtyO.js";var Ge=Te();const He=async p=>{const g=`Vector Logo for a party named "${p}", glowing neon colors, deep black background, esports style, high contrast, minimalistic, 8k resolution, centered`,m=`https://image.pollinations.ai/prompt/${encodeURIComponent(g)}?width=512&height=512&model=flux&nologo=true`;try{const u=await fetch(m);if(!u.ok)throw new Error("Generation failed");const t=await u.blob();return new Promise((s,a)=>{const r=new FileReader;r.onloadend=()=>s(r.result),r.onerror=a,r.readAsDataURL(t)})}catch(u){throw console.error("AI Generation Error:",u),u}};function ae({title:p,items:g=[],onItemAdd:c,onItemToggle:m,onItemDelete:u,placeholder:t="Neuer Eintrag..."}){const[s,a]=k.useState(""),r=n=>{n.preventDefault(),s.trim()&&(c(s),a(""))};return e.jsxs("div",{className:"glass",style:{marginBottom:"2rem",padding:"1rem"},children:[e.jsx("h3",{style:{fontSize:"1.1rem",borderBottom:"1px solid var(--glass-border)",paddingBottom:"0.5rem",marginBottom:"1rem"},children:p}),e.jsxs("ul",{style:{listStyle:"none",padding:0,marginBottom:"1rem"},children:[g.map((n,d)=>e.jsxs("li",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[e.jsx("input",{type:"checkbox",checked:n.done,onChange:()=>m(d),style:{cursor:"pointer"}}),e.jsx("span",{style:{flex:1,textDecoration:n.done?"line-through":"none",opacity:n.done?.5:1},children:n.text}),e.jsx("button",{onClick:()=>u(d),style:{background:"none",border:"none",cursor:"pointer",opacity:.5,fontSize:"0.8rem"},children:"âŒ"})]},d)),g.length===0&&e.jsx("li",{style:{opacity:.4,fontSize:"0.9rem"},children:"Liste ist leer."})]}),e.jsxs("form",{onSubmit:r,style:{display:"flex",gap:"0.5rem"},children:[e.jsx("input",{value:s,onChange:n=>a(n.target.value),placeholder:t,className:"input-field",style:{marginBottom:0,fontSize:"0.9rem",padding:"8px"}}),e.jsx("button",{type:"submit",className:"btn-primary",style:{padding:"8px 12px",fontSize:"1.2rem"},children:"+"})]})]})}var I={},K={exports:{}},Q,le;function qe(){if(le)return Q;le=1;var p="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Q=p,Q}var $,oe;function Ke(){if(oe)return $;oe=1;var p=qe();function g(){}function c(){}return c.resetWarningCache=g,$=function(){function m(s,a,r,n,d,o){if(o!==p){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}m.isRequired=m;function u(){return m}var t={array:m,bigint:m,bool:m,func:m,number:m,object:m,string:m,symbol:m,any:m,arrayOf:u,element:m,elementType:m,instanceOf:u,node:m,objectOf:u,oneOf:u,oneOfType:u,shape:u,exact:u,checkPropTypes:c,resetWarningCache:g};return t.PropTypes=t,t},$}var de;function we(){return de||(de=1,K.exports=Ke()()),K.exports}var U,ce;function Se(){return ce||(ce=1,U={L:1,M:0,Q:3,H:2}),U}var V,ue;function Be(){return ue||(ue=1,V={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),V}var X,me;function Qe(){if(me)return X;me=1;var p=Be();function g(c){this.mode=p.MODE_8BIT_BYTE,this.data=c}return g.prototype={getLength:function(c){return this.data.length},write:function(c){for(var m=0;m<this.data.length;m++)c.put(this.data.charCodeAt(m),8)}},X=g,X}var Y,pe;function $e(){if(pe)return Y;pe=1;var p=Se();function g(c,m){this.totalCount=c,this.dataCount=m}return g.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],g.getRSBlocks=function(c,m){var u=g.getRsBlockTable(c,m);if(u==null)throw new Error("bad rs block @ typeNumber:"+c+"/errorCorrectLevel:"+m);for(var t=u.length/3,s=new Array,a=0;a<t;a++)for(var r=u[a*3+0],n=u[a*3+1],d=u[a*3+2],o=0;o<r;o++)s.push(new g(n,d));return s},g.getRsBlockTable=function(c,m){switch(m){case p.L:return g.RS_BLOCK_TABLE[(c-1)*4+0];case p.M:return g.RS_BLOCK_TABLE[(c-1)*4+1];case p.Q:return g.RS_BLOCK_TABLE[(c-1)*4+2];case p.H:return g.RS_BLOCK_TABLE[(c-1)*4+3];default:return}},Y=g,Y}var Z,ge;function Ue(){if(ge)return Z;ge=1;function p(){this.buffer=new Array,this.length=0}return p.prototype={get:function(g){var c=Math.floor(g/8);return(this.buffer[c]>>>7-g%8&1)==1},put:function(g,c){for(var m=0;m<c;m++)this.putBit((g>>>c-m-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(g){var c=Math.floor(this.length/8);this.buffer.length<=c&&this.buffer.push(0),g&&(this.buffer[c]|=128>>>this.length%8),this.length++}},Z=p,Z}var J,he;function ke(){if(he)return J;he=1;for(var p={glog:function(c){if(c<1)throw new Error("glog("+c+")");return p.LOG_TABLE[c]},gexp:function(c){for(;c<0;)c+=255;for(;c>=256;)c-=255;return p.EXP_TABLE[c]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},g=0;g<8;g++)p.EXP_TABLE[g]=1<<g;for(var g=8;g<256;g++)p.EXP_TABLE[g]=p.EXP_TABLE[g-4]^p.EXP_TABLE[g-5]^p.EXP_TABLE[g-6]^p.EXP_TABLE[g-8];for(var g=0;g<255;g++)p.LOG_TABLE[p.EXP_TABLE[g]]=g;return J=p,J}var ee,fe;function Ce(){if(fe)return ee;fe=1;var p=ke();function g(c,m){if(c.length==null)throw new Error(c.length+"/"+m);for(var u=0;u<c.length&&c[u]==0;)u++;this.num=new Array(c.length-u+m);for(var t=0;t<c.length-u;t++)this.num[t]=c[t+u]}return g.prototype={get:function(c){return this.num[c]},getLength:function(){return this.num.length},multiply:function(c){for(var m=new Array(this.getLength()+c.getLength()-1),u=0;u<this.getLength();u++)for(var t=0;t<c.getLength();t++)m[u+t]^=p.gexp(p.glog(this.get(u))+p.glog(c.get(t)));return new g(m,0)},mod:function(c){if(this.getLength()-c.getLength()<0)return this;for(var m=p.glog(this.get(0))-p.glog(c.get(0)),u=new Array(this.getLength()),t=0;t<this.getLength();t++)u[t]=this.get(t);for(var t=0;t<c.getLength();t++)u[t]^=p.gexp(p.glog(c.get(t))+m);return new g(u,0).mod(c)}},ee=g,ee}var te,xe;function Ve(){if(xe)return te;xe=1;var p=Be(),g=Ce(),c=ke(),m={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},u={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var s=t<<10;u.getBCHDigit(s)-u.getBCHDigit(u.G15)>=0;)s^=u.G15<<u.getBCHDigit(s)-u.getBCHDigit(u.G15);return(t<<10|s)^u.G15_MASK},getBCHTypeNumber:function(t){for(var s=t<<12;u.getBCHDigit(s)-u.getBCHDigit(u.G18)>=0;)s^=u.G18<<u.getBCHDigit(s)-u.getBCHDigit(u.G18);return t<<12|s},getBCHDigit:function(t){for(var s=0;t!=0;)s++,t>>>=1;return s},getPatternPosition:function(t){return u.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,s,a){switch(t){case m.PATTERN000:return(s+a)%2==0;case m.PATTERN001:return s%2==0;case m.PATTERN010:return a%3==0;case m.PATTERN011:return(s+a)%3==0;case m.PATTERN100:return(Math.floor(s/2)+Math.floor(a/3))%2==0;case m.PATTERN101:return s*a%2+s*a%3==0;case m.PATTERN110:return(s*a%2+s*a%3)%2==0;case m.PATTERN111:return(s*a%3+(s+a)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var s=new g([1],0),a=0;a<t;a++)s=s.multiply(new g([1,c.gexp(a)],0));return s},getLengthInBits:function(t,s){if(1<=s&&s<10)switch(t){case p.MODE_NUMBER:return 10;case p.MODE_ALPHA_NUM:return 9;case p.MODE_8BIT_BYTE:return 8;case p.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(s<27)switch(t){case p.MODE_NUMBER:return 12;case p.MODE_ALPHA_NUM:return 11;case p.MODE_8BIT_BYTE:return 16;case p.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(s<41)switch(t){case p.MODE_NUMBER:return 14;case p.MODE_ALPHA_NUM:return 13;case p.MODE_8BIT_BYTE:return 16;case p.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+s)},getLostPoint:function(t){for(var s=t.getModuleCount(),a=0,r=0;r<s;r++)for(var n=0;n<s;n++){for(var d=0,o=t.isDark(r,n),h=-1;h<=1;h++)if(!(r+h<0||s<=r+h))for(var j=-1;j<=1;j++)n+j<0||s<=n+j||h==0&&j==0||o==t.isDark(r+h,n+j)&&d++;d>5&&(a+=3+d-5)}for(var r=0;r<s-1;r++)for(var n=0;n<s-1;n++){var y=0;t.isDark(r,n)&&y++,t.isDark(r+1,n)&&y++,t.isDark(r,n+1)&&y++,t.isDark(r+1,n+1)&&y++,(y==0||y==4)&&(a+=3)}for(var r=0;r<s;r++)for(var n=0;n<s-6;n++)t.isDark(r,n)&&!t.isDark(r,n+1)&&t.isDark(r,n+2)&&t.isDark(r,n+3)&&t.isDark(r,n+4)&&!t.isDark(r,n+5)&&t.isDark(r,n+6)&&(a+=40);for(var n=0;n<s;n++)for(var r=0;r<s-6;r++)t.isDark(r,n)&&!t.isDark(r+1,n)&&t.isDark(r+2,n)&&t.isDark(r+3,n)&&t.isDark(r+4,n)&&!t.isDark(r+5,n)&&t.isDark(r+6,n)&&(a+=40);for(var b=0,n=0;n<s;n++)for(var r=0;r<s;r++)t.isDark(r,n)&&b++;var v=Math.abs(100*b/s/s-50)/5;return a+=v*10,a}};return te=u,te}var ne,ye;function Xe(){if(ye)return ne;ye=1;var p=Qe(),g=$e(),c=Ue(),m=Ve(),u=Ce();function t(a,r){this.typeNumber=a,this.errorCorrectLevel=r,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var s=t.prototype;return s.addData=function(a){var r=new p(a);this.dataList.push(r),this.dataCache=null},s.isDark=function(a,r){if(a<0||this.moduleCount<=a||r<0||this.moduleCount<=r)throw new Error(a+","+r);return this.modules[a][r]},s.getModuleCount=function(){return this.moduleCount},s.make=function(){if(this.typeNumber<1){var a=1;for(a=1;a<40;a++){for(var r=g.getRSBlocks(a,this.errorCorrectLevel),n=new c,d=0,o=0;o<r.length;o++)d+=r[o].dataCount;for(var o=0;o<this.dataList.length;o++){var h=this.dataList[o];n.put(h.mode,4),n.put(h.getLength(),m.getLengthInBits(h.mode,a)),h.write(n)}if(n.getLengthInBits()<=d*8)break}this.typeNumber=a}this.makeImpl(!1,this.getBestMaskPattern())},s.makeImpl=function(a,r){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var d=0;d<this.moduleCount;d++)this.modules[n][d]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(a,r),this.typeNumber>=7&&this.setupTypeNumber(a),this.dataCache==null&&(this.dataCache=t.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,r)},s.setupPositionProbePattern=function(a,r){for(var n=-1;n<=7;n++)if(!(a+n<=-1||this.moduleCount<=a+n))for(var d=-1;d<=7;d++)r+d<=-1||this.moduleCount<=r+d||(0<=n&&n<=6&&(d==0||d==6)||0<=d&&d<=6&&(n==0||n==6)||2<=n&&n<=4&&2<=d&&d<=4?this.modules[a+n][r+d]=!0:this.modules[a+n][r+d]=!1)},s.getBestMaskPattern=function(){for(var a=0,r=0,n=0;n<8;n++){this.makeImpl(!0,n);var d=m.getLostPoint(this);(n==0||a>d)&&(a=d,r=n)}return r},s.createMovieClip=function(a,r,n){var d=a.createEmptyMovieClip(r,n),o=1;this.make();for(var h=0;h<this.modules.length;h++)for(var j=h*o,y=0;y<this.modules[h].length;y++){var b=y*o,v=this.modules[h][y];v&&(d.beginFill(0,100),d.moveTo(b,j),d.lineTo(b+o,j),d.lineTo(b+o,j+o),d.lineTo(b,j+o),d.endFill())}return d},s.setupTimingPattern=function(){for(var a=8;a<this.moduleCount-8;a++)this.modules[a][6]==null&&(this.modules[a][6]=a%2==0);for(var r=8;r<this.moduleCount-8;r++)this.modules[6][r]==null&&(this.modules[6][r]=r%2==0)},s.setupPositionAdjustPattern=function(){for(var a=m.getPatternPosition(this.typeNumber),r=0;r<a.length;r++)for(var n=0;n<a.length;n++){var d=a[r],o=a[n];if(this.modules[d][o]==null)for(var h=-2;h<=2;h++)for(var j=-2;j<=2;j++)h==-2||h==2||j==-2||j==2||h==0&&j==0?this.modules[d+h][o+j]=!0:this.modules[d+h][o+j]=!1}},s.setupTypeNumber=function(a){for(var r=m.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var d=!a&&(r>>n&1)==1;this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=d}for(var n=0;n<18;n++){var d=!a&&(r>>n&1)==1;this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=d}},s.setupTypeInfo=function(a,r){for(var n=this.errorCorrectLevel<<3|r,d=m.getBCHTypeInfo(n),o=0;o<15;o++){var h=!a&&(d>>o&1)==1;o<6?this.modules[o][8]=h:o<8?this.modules[o+1][8]=h:this.modules[this.moduleCount-15+o][8]=h}for(var o=0;o<15;o++){var h=!a&&(d>>o&1)==1;o<8?this.modules[8][this.moduleCount-o-1]=h:o<9?this.modules[8][15-o-1+1]=h:this.modules[8][15-o-1]=h}this.modules[this.moduleCount-8][8]=!a},s.mapData=function(a,r){for(var n=-1,d=this.moduleCount-1,o=7,h=0,j=this.moduleCount-1;j>0;j-=2)for(j==6&&j--;;){for(var y=0;y<2;y++)if(this.modules[d][j-y]==null){var b=!1;h<a.length&&(b=(a[h]>>>o&1)==1);var v=m.getMask(r,d,j-y);v&&(b=!b),this.modules[d][j-y]=b,o--,o==-1&&(h++,o=7)}if(d+=n,d<0||this.moduleCount<=d){d-=n,n=-n;break}}},t.PAD0=236,t.PAD1=17,t.createData=function(a,r,n){for(var d=g.getRSBlocks(a,r),o=new c,h=0;h<n.length;h++){var j=n[h];o.put(j.mode,4),o.put(j.getLength(),m.getLengthInBits(j.mode,a)),j.write(o)}for(var y=0,h=0;h<d.length;h++)y+=d[h].dataCount;if(o.getLengthInBits()>y*8)throw new Error("code length overflow. ("+o.getLengthInBits()+">"+y*8+")");for(o.getLengthInBits()+4<=y*8&&o.put(0,4);o.getLengthInBits()%8!=0;)o.putBit(!1);for(;!(o.getLengthInBits()>=y*8||(o.put(t.PAD0,8),o.getLengthInBits()>=y*8));)o.put(t.PAD1,8);return t.createBytes(o,d)},t.createBytes=function(a,r){for(var n=0,d=0,o=0,h=new Array(r.length),j=new Array(r.length),y=0;y<r.length;y++){var b=r[y].dataCount,v=r[y].totalCount-b;d=Math.max(d,b),o=Math.max(o,v),h[y]=new Array(b);for(var x=0;x<h[y].length;x++)h[y][x]=255&a.buffer[x+n];n+=b;var S=m.getErrorCorrectPolynomial(v),B=new u(h[y],S.getLength()-1),L=B.mod(S);j[y]=new Array(S.getLength()-1);for(var x=0;x<j[y].length;x++){var E=x+L.getLength()-j[y].length;j[y][x]=E>=0?L.get(E):0}}for(var A=0,x=0;x<r.length;x++)A+=r[x].totalCount;for(var N=new Array(A),D=0,x=0;x<d;x++)for(var y=0;y<r.length;y++)x<h[y].length&&(N[D++]=h[y][x]);for(var x=0;x<o;x++)for(var y=0;y<r.length;y++)x<j[y].length&&(N[D++]=j[y][x]);return N},ne=t,ne}var H={},ve;function Ye(){if(ve)return H;ve=1,Object.defineProperty(H,"__esModule",{value:!0});var p=Object.assign||function(n){for(var d=1;d<arguments.length;d++){var o=arguments[d];for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(n[h]=o[h])}return n},g=we(),c=t(g),m=je(),u=t(m);function t(n){return n&&n.__esModule?n:{default:n}}function s(n,d){var o={};for(var h in n)d.indexOf(h)>=0||Object.prototype.hasOwnProperty.call(n,h)&&(o[h]=n[h]);return o}var a={bgColor:c.default.oneOfType([c.default.object,c.default.string]).isRequired,bgD:c.default.string.isRequired,fgColor:c.default.oneOfType([c.default.object,c.default.string]).isRequired,fgD:c.default.string.isRequired,size:c.default.number.isRequired,title:c.default.string,viewBoxSize:c.default.number.isRequired,xmlns:c.default.string},r=(0,m.forwardRef)(function(n,d){var o=n.bgColor,h=n.bgD,j=n.fgD,y=n.fgColor,b=n.size,v=n.title,x=n.viewBoxSize,S=n.xmlns,B=S===void 0?"http://www.w3.org/2000/svg":S,L=s(n,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return u.default.createElement("svg",p({},L,{height:b,ref:d,viewBox:"0 0 "+x+" "+x,width:b,xmlns:B}),v?u.default.createElement("title",null,v):null,u.default.createElement("path",{d:h,fill:o}),u.default.createElement("path",{d:j,fill:y}))});return r.displayName="QRCodeSvg",r.propTypes=a,H.default=r,H}var be;function Ze(){if(be)return I;be=1,Object.defineProperty(I,"__esModule",{value:!0}),I.QRCode=void 0;var p=Object.assign||function(b){for(var v=1;v<arguments.length;v++){var x=arguments[v];for(var S in x)Object.prototype.hasOwnProperty.call(x,S)&&(b[S]=x[S])}return b},g=we(),c=o(g),m=Se(),u=o(m),t=Xe(),s=o(t),a=je(),r=o(a),n=Ye(),d=o(n);function o(b){return b&&b.__esModule?b:{default:b}}function h(b,v){var x={};for(var S in b)v.indexOf(S)>=0||Object.prototype.hasOwnProperty.call(b,S)&&(x[S]=b[S]);return x}var j={bgColor:c.default.oneOfType([c.default.object,c.default.string]),fgColor:c.default.oneOfType([c.default.object,c.default.string]),level:c.default.string,size:c.default.number,value:c.default.string.isRequired},y=(0,a.forwardRef)(function(b,v){var x=b.bgColor,S=x===void 0?"#FFFFFF":x,B=b.fgColor,L=B===void 0?"#000000":B,E=b.level,A=E===void 0?"L":E,N=b.size,D=N===void 0?256:N,M=b.value,G=h(b,["bgColor","fgColor","level","size","value"]),O=new s.default(-1,u.default[A]);O.addData(M),O.make();var z=O.modules;return r.default.createElement(d.default,p({},G,{bgColor:S,bgD:z.map(function(W,F){return W.map(function(i,l){return i?"":"M "+l+" "+F+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:L,fgD:z.map(function(W,F){return W.map(function(i,l){return i?"M "+l+" "+F+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:v,size:D,viewBoxSize:z.length}))});return I.QRCode=y,y.displayName="QRCode",y.propTypes=j,I.default=y,I}var Je=Ze();const et=Ee(Je),tt=k.forwardRef(({participant:p,event:g,rank:c,theme:m="classic",photoUrl:u},t)=>{const s=u||"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'%3E%3Crect width='100' height='100' fill='%23333'/%3E%3Ctext x='50' y='50' font-family='Arial' font-size='40' fill='white' text-anchor='middle' dy='.3em'%3E?%3C/text%3E%3C/svg%3E",a=(p.round1||[]).reduce((r,n)=>r+n,0)+(p.round2||[]).reduce((r,n)=>r+n,0);return e.jsxs("div",{ref:t,className:`winner-card theme-${m}`,children:[e.jsxs("div",{className:"winner-card-image-container",children:[e.jsx("img",{src:s,alt:"Winner",className:"winner-card-photo"}),m==="western"&&e.jsx("div",{style:{position:"absolute",top:"10px",left:"0",width:"100%",textAlign:"center",fontSize:"3rem",fontFamily:"serif",fontWeight:"bold",color:"#3e2723",textShadow:"0 0 5px white"},children:"WANTED"})]}),e.jsxs("div",{className:"winner-card-content",children:[e.jsx("div",{className:"winner-card-rank",children:c}),e.jsx("h2",{className:"winner-card-title",children:p.name}),e.jsxs("div",{style:{marginTop:"auto",width:"100%",borderTop:"1px solid rgba(255,255,255,0.2)",paddingTop:"10px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{style:{textAlign:"left"},children:[e.jsx("div",{style:{fontSize:"0.8rem",opacity:.8},children:"Event"}),e.jsx("div",{style:{fontWeight:"bold"},children:g.title})]}),e.jsxs("div",{style:{textAlign:"right"},children:[e.jsx("div",{style:{fontSize:"0.8rem",opacity:.8},children:"Score"}),e.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold"},children:a})]})]})]}),m==="bbq"&&e.jsx("div",{className:"fire-dec"})]})});function nt({localEvent:p,participants:g,setWinnerModal:c,setWinnerPhoto:m}){return e.jsxs("div",{className:"glass",style:{padding:"0",marginBottom:"2rem"},children:[e.jsxs("div",{style:{padding:"1rem",borderBottom:"1px solid var(--glass-border)",background:"linear-gradient(90deg, rgba(234, 179, 8, 0.1), transparent)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("h3",{style:{margin:0},children:"ðŸ† Siegerehrung & Urkunden"}),e.jsxs("select",{style:{background:"rgba(0,0,0,0.3)",color:"white",border:"1px solid rgba(255,255,255,0.2)",padding:"5px",borderRadius:"5px"},id:"certificateThemeSelector",defaultValue:"classic",children:[e.jsx("option",{value:"classic",children:"ðŸ›ï¸ Klassisch"}),e.jsx("option",{value:"western",children:"ðŸ¤  Western"}),e.jsx("option",{value:"bbq",children:"ðŸ¥© BBQ Master"})]})]}),e.jsxs("div",{style:{padding:"1rem"},children:[g.sort((u,t)=>{const s=(u.round1||[]).reduce((r,n)=>r+n,0)+(u.round2||[]).reduce((r,n)=>r+n,0);return(t.round1||[]).reduce((r,n)=>r+n,0)+(t.round2||[]).reduce((r,n)=>r+n,0)-s}).slice(0,3).map((u,t)=>e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem",padding:"1rem",background:"rgba(255,255,255,0.05)",borderRadius:"12px",border:t===0?"1px solid var(--accent-gold)":"none"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[e.jsx("div",{style:{fontSize:"2rem"},children:t===0?"ðŸ¥‡":t===1?"ðŸ¥ˆ":"ðŸ¥‰"}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:"bold",fontSize:"1.2rem"},children:u.name}),e.jsxs("div",{style:{opacity:.7,fontSize:"0.9rem"},children:[t+1,". Platz â€¢ ",(u.round1||[]).reduce((s,a)=>s+a,0)+(u.round2||[]).reduce((s,a)=>s+a,0)," Punkte"]})]})]}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[e.jsx("button",{className:"btn-primary",onClick:()=>{const s=document.getElementById("certificateThemeSelector").value;q(()=>import("./certificate-VAd5q8YQ.js").then(a=>a.c),__vite__mapDeps([0,1,2])).then(a=>{a.generateCertificate(p,u,`${t+1}. Platz`,"winner",s)})},style:{fontSize:"0.8rem",padding:"8px 16px"},children:"ðŸ“„ Urkunde"}),e.jsx("button",{className:"btn-primary",onClick:()=>{const s=document.getElementById("certificateThemeSelector").value;c({open:!0,participant:u,rank:`${t+1}. Platz`,type:"winner",theme:s}),m(null)},children:"ðŸ“¸ Karte"})]})]},u.id)),g.length>3&&e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{height:"1px",background:"rgba(255,255,255,0.1)",margin:"1rem 0"}}),e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"1rem",background:"rgba(239, 68, 68, 0.1)",borderRadius:"12px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[e.jsx("div",{style:{fontSize:"2rem"},children:"ðŸ©¹"}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:"bold",fontSize:"1.2rem"},children:g.sort((u,t)=>{const s=(u.round1||[]).reduce((r,n)=>r+n,0)+(u.round2||[]).reduce((r,n)=>r+n,0);return(t.round1||[]).reduce((r,n)=>r+n,0)+(t.round2||[]).reduce((r,n)=>r+n,0)-s})[g.length-1].name}),e.jsx("div",{style:{opacity:.7,fontSize:"0.9rem"},children:"Letzter Platz (Trostpreis)"})]})]}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[e.jsx("button",{className:"btn-primary",onClick:()=>{const u=document.getElementById("certificateThemeSelector").value,t=g.sort((s,a)=>{const r=(s.round1||[]).reduce((d,o)=>d+o,0)+(s.round2||[]).reduce((d,o)=>d+o,0);return(a.round1||[]).reduce((d,o)=>d+o,0)+(a.round2||[]).reduce((d,o)=>d+o,0)-r})[g.length-1];q(()=>import("./certificate-VAd5q8YQ.js").then(s=>s.c),__vite__mapDeps([0,1,2])).then(s=>{s.generateCertificate(p,t,"Teilnehmer der Herzen","loser",u)})},style:{fontSize:"0.8rem",padding:"8px 16px"},children:"ðŸ“„ Trost-Urkunde"}),e.jsx("button",{className:"btn-primary",onClick:()=>{const u=document.getElementById("certificateThemeSelector").value,t=g.sort((s,a)=>{const r=(s.round1||[]).reduce((d,o)=>d+o,0)+(s.round2||[]).reduce((d,o)=>d+o,0);return(a.round1||[]).reduce((d,o)=>d+o,0)+(a.round2||[]).reduce((d,o)=>d+o,0)-r})[g.length-1];c({open:!0,participant:t,rank:"Teilnehmer der Herzen",type:"loser",theme:u}),m(null)},children:"ðŸ“¸ Karte"})]})]})]})]})]})}function rt({event:p,onBack:g,onUpdate:c}){const[m,u]=k.useState("overview"),[t,s]=k.useState(p),[a,r]=k.useState(_(p)),[n,d]=k.useState(!1),[o,h]=k.useState([]),[j,y]=k.useState({}),[b,v]=k.useState([]),[x,S]=k.useState([]),[B,L]=k.useState({open:!1,participant:null,rank:"",type:"standard",theme:"classic"}),[E,A]=k.useState(null),N=Le.useRef(null);k.useEffect(()=>{const i=Ne(p.id,l=>{S(l)});return()=>i()},[p.id]),k.useEffect(()=>{const i=Pe(p.id,l=>{v(l)});return()=>i()},[p.id]);const[D,M]=k.useState(!1),[G,O]=k.useState(null),[z,W]=k.useState([]);k.useEffect(()=>{const i=Ae(p.id,l=>{h(l),p.guests&&y(Fe(l,p.guests))});return()=>i()},[p.id,p.guests]),k.useEffect(()=>{s(p),r(_(p))},[p]);const F=async i=>{i.preventDefault();const l=new FormData(i.target),f={id:Date.now().toString(),item:l.get("item"),amount:parseFloat(l.get("amount"))},w=[...t.expenses||[],f],C={...t,expenses:w};s(C),r(_(C)),i.target.reset(),await T(t.id,{expenses:w}),c&&c()};return t?e.jsxs("div",{className:"content-container animate-fade-in",style:{paddingBottom:"4rem"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[e.jsxs("div",{children:[e.jsx("h2",{style:{fontSize:"2rem",margin:0,background:"linear-gradient(to right, #fff, #94a3b8)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:t.title}),e.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center",marginTop:"0.5rem"},children:[e.jsx("button",{onClick:g,className:"btn-ghost",style:{padding:"4px 12px",fontSize:"0.8rem"},children:"â† ZurÃ¼ck"}),e.jsx("span",{style:{fontSize:"0.9rem",color:"var(--accent-primary)",textTransform:"uppercase",letterSpacing:"1px",fontWeight:"bold"},children:m})]})]}),e.jsx("div",{style:{display:"flex",gap:"1rem"},children:e.jsx("button",{onClick:async()=>{window.confirm("âš ï¸ Event wirklich unwiderruflich lÃ¶schen?")&&(await ze(t.id),c&&c(),g())},style:{background:"rgba(239, 68, 68, 0.1)",color:"#ef4444",border:"1px solid rgba(239, 68, 68, 0.3)",padding:"8px 16px",borderRadius:"8px",cursor:"pointer",fontWeight:"bold"},children:"ðŸ—‘ï¸ LÃ¶schen"})})]}),e.jsx("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"2rem",overflowX:"auto",paddingBottom:"4px"},children:["overview","finances","guests","betting","feedback","shooting","broadcast"].map(i=>{let l=i,f="";i==="overview"&&(l="Ãœbersicht",f="ðŸ“‹"),i==="finances"&&(l="Finanzen",f="ðŸ’°"),i==="guests"&&(l="GÃ¤ste",f="ðŸ‘¥"),i==="betting"&&(l="WettbÃ¼ro",f="ðŸŽ°"),i==="feedback"&&(l="Feedback",f="ðŸ’¬"),i==="shooting"&&(l="SchieÃŸstand",f="ðŸ”«"),i==="broadcast"&&(l="Broadcast",f="ðŸ“º");const w=m===i;return e.jsxs("button",{onClick:()=>u(i),className:w?"btn-primary":"btn-ghost",style:{whiteSpace:"nowrap",display:"flex",alignItems:"center",gap:"8px",fontSize:"0.9rem",padding:"8px 16px"},children:[e.jsx("span",{style:{fontSize:"1.2rem",lineHeight:0},children:f}),l]},i)})}),e.jsxs("div",{className:"dashboard-content",children:[m==="overview"&&e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"2rem",alignItems:"flex-start",flexWrap:"wrap"},children:[e.jsxs("div",{style:{flex:1,minWidth:"250px"},children:[t.image?e.jsx("div",{style:{height:"150px",borderRadius:"12px",marginBottom:"0.5rem",backgroundImage:`url(${t.image})`,backgroundSize:"cover",backgroundPosition:"center"}}):e.jsx("div",{style:{height:"150px",borderRadius:"12px",marginBottom:"0.5rem",background:"rgba(255,255,255,0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:"Kein Bild"}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.5rem"},children:[e.jsxs("label",{className:"btn-primary",style:{flex:1,textAlign:"center",fontSize:"0.8rem",padding:"6px",cursor:"pointer"},children:["ðŸ“· Upload",e.jsx("input",{type:"file",hidden:!0,accept:"image/*",onChange:i=>{const l=i.target.files[0];if(l){if(l.size>5e5){alert("Max 500KB!");return}const f=new FileReader;f.onloadend=async()=>{const w={...t,image:f.result};s(w),await T(t.id,{image:f.result})},f.readAsDataURL(l)}}})]}),e.jsx("button",{className:"btn-primary",style:{flex:1,fontSize:"0.8rem",padding:"6px",background:"linear-gradient(135deg, #a855f7, #ec4899)"},onClick:async i=>{const l=i.target,f=l.innerText;l.innerText="â³...",l.disabled=!0;try{const w=await He(t.title),C={...t,image:w};s(C),await T(t.id,{image:w})}catch{alert("KI Fehler. Nochmal probieren.")}l.innerText=f,l.disabled=!1},children:"âœ¨ KI Logo"})]})]}),e.jsxs("div",{style:{flex:2,display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem"},children:[e.jsxs("div",{className:"glass",style:{padding:"0.8rem",fontSize:"0.9rem"},children:[e.jsx("strong",{children:"ðŸ“… Datum:"}),e.jsx("br",{}),t.date?t.date.split("-").reverse().join("."):""," @ ",t.time]}),e.jsxs("div",{className:"glass",style:{padding:"0.8rem",fontSize:"0.9rem"},children:[e.jsx("strong",{children:"ðŸ“ Ort:"}),e.jsx("br",{}),t.location]}),e.jsxs("div",{className:"glass",style:{padding:"0.8rem",fontSize:"0.9rem"},children:[e.jsx("strong",{children:"ðŸ”– Thema:"}),e.jsx("br",{}),t.theme||"-"]}),e.jsxs("div",{className:"glass",style:{padding:"0.8rem",fontSize:"0.9rem"},children:[e.jsx("strong",{children:"ðŸ“ Infos:"}),e.jsx("br",{}),t.description]}),e.jsxs("div",{className:"glass",style:{padding:"0.8rem",fontSize:"0.9rem",gridColumn:"1 / -1",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs("div",{children:[e.jsx("strong",{children:"ðŸ”‘ Admin PIN:"}),e.jsx("div",{style:{fontSize:"1.2rem",fontFamily:"monospace",letterSpacing:"2px",color:"var(--accent-primary)"},children:t.adminPin||e.jsx("span",{style:{opacity:.5,fontStyle:"italic",fontSize:"0.9rem"},children:"Nicht gesetzt"})})]}),e.jsx("button",{className:"btn-primary",style:{fontSize:"0.8rem",padding:"6px 12px"},onClick:async()=>{const i=prompt("Neuen Admin-PIN eingeben (fÃ¼r Admin-Login auf anderen GerÃ¤ten):",t.adminPin||"");i!==null&&(await T(t.id,{adminPin:i}),s({...t,adminPin:i}))},children:"âœï¸ Ã„ndern"})]})]})]}),e.jsxs("div",{style:{marginBottom:"3rem"},children:[e.jsx("h2",{style:{marginBottom:"1.5rem",borderBottom:"1px solid var(--glass-border)",paddingBottom:"0.5rem"},children:"Planung & Orga"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"1.5rem"},children:[e.jsx(ae,{title:"âœ… To-Do Liste",items:t.todoList||[],onItemAdd:async i=>{const l=[...t.todoList||[],{text:i,done:!1}];s({...t,todoList:l}),await T(t.id,{todoList:l})},onItemToggle:async i=>{const l=[...t.todoList];l[i].done=!l[i].done,s({...t,todoList:l}),await T(t.id,{todoList:l})},onItemDelete:async i=>{const l=t.todoList.filter((f,w)=>w!==i);s({...t,todoList:l}),await T(t.id,{todoList:l})}}),e.jsx(ae,{title:"ðŸ›’ Einkaufsliste",items:t.shoppingList||[],placeholder:"Was einkaufen?",onItemAdd:async i=>{const l=[...t.shoppingList||[],{text:i,done:!1}];s({...t,shoppingList:l}),await T(t.id,{shoppingList:l})},onItemToggle:async i=>{const l=[...t.shoppingList];l[i].done=!l[i].done,s({...t,shoppingList:l}),await T(t.id,{shoppingList:l})},onItemDelete:async i=>{const l=t.shoppingList.filter((f,w)=>w!==i);s({...t,shoppingList:l}),await T(t.id,{shoppingList:l})}})]})]}),e.jsxs("div",{className:"glass",style:{marginTop:"2rem",padding:"1.5rem"},children:[e.jsx("h3",{style:{fontSize:"1.1rem",borderBottom:"1px solid var(--glass-border)",paddingBottom:"0.5rem",marginBottom:"1rem"},children:"ðŸŽ Mitbring-Liste (Wer bringt was?)"}),e.jsxs("ul",{style:{listStyle:"none",padding:0,marginBottom:"1rem"},children:[(t.bringList||[]).map((i,l)=>e.jsxs("li",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.5rem",background:"rgba(0,0,0,0.2)",padding:"8px",borderRadius:"8px"},children:[e.jsxs("span",{children:[e.jsx("strong",{style:{color:"var(--accent-primary)"},children:i.guest})," bringt ",e.jsx("u",{children:i.item}),i.note&&e.jsxs("span",{style:{opacity:.7,fontSize:"0.8rem"},children:[" (",i.note,")"]})]}),e.jsx("button",{onClick:async()=>{const f=t.bringList.filter((w,C)=>C!==l);s({...t,bringList:f}),await T(t.id,{bringList:f})},style:{background:"none",border:"none",cursor:"pointer"},children:"âŒ"})]},l)),(t.bringList||[]).length===0&&e.jsx("li",{style:{opacity:.5},children:"Noch keine EintrÃ¤ge."})]}),e.jsxs("form",{onSubmit:async i=>{i.preventDefault();const l=new FormData(i.target),f=l.get("guest"),w=l.get("item"),C=l.get("note");if(!f||!w)return;const R={guest:f,item:w,note:C},re=[...t.bringList||[],R];s({...t,bringList:re}),await T(t.id,{bringList:re}),i.target.reset()},style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[e.jsxs("select",{name:"guest",required:!0,className:"input-field",style:{marginBottom:0,width:"auto",minWidth:"120px"},children:[e.jsx("option",{value:"",children:"Gast wÃ¤hlen..."}),e.jsx("option",{value:"Admin",children:"Admin (Ich)"}),t.guests?.map((i,l)=>e.jsx("option",{value:i.name,children:i.name},l))]}),e.jsx("input",{name:"item",required:!0,placeholder:"Was? (z.B. Salat)",className:"input-field",style:{marginBottom:0,flex:1}}),e.jsx("input",{name:"note",placeholder:"Notiz",className:"input-field",style:{marginBottom:0,flex:1}}),e.jsx("button",{type:"submit",className:"btn-primary",children:"+"})]})]})]}),m==="finances"&&e.jsxs("div",{children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:[e.jsxs("div",{style:{padding:"1rem",background:"rgba(255,255,255,0.05)",borderRadius:"12px"},children:[e.jsx("div",{style:{fontSize:"0.8rem",opacity:.7},children:"Gesamtkosten"}),e.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:a.isOverBudget?"var(--accent-danger)":"#fff"},children:P(a.totalExpenses)}),a.isOverBudget&&e.jsx("small",{style:{color:"var(--accent-danger)"},children:"âš ï¸ Ãœber Budget!"})]}),e.jsxs("div",{style:{padding:"1rem",background:"rgba(255,255,255,0.05)",borderRadius:"12px"},children:[e.jsx("div",{style:{fontSize:"0.8rem",opacity:.7},children:"Kosten pro Kopf"}),e.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:a.isHighCost?"var(--accent-gold)":"#fff"},children:P(a.costPerGuest)}),a.isHighCost&&e.jsx("small",{style:{color:"var(--accent-gold)"},children:"âš ï¸ > 25â‚¬ p.P."})]}),e.jsxs("div",{style:{padding:"1rem",background:"rgba(255,255,255,0.05)",borderRadius:"12px"},children:[e.jsx("div",{style:{fontSize:"0.8rem",opacity:.7},children:"BestÃ¤tigte GÃ¤ste"}),e.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold"},children:a.confirmedCount})]})]}),e.jsxs("div",{style:{marginBottom:"2rem",padding:"1rem",background:"rgba(255,255,255,0.05)",borderRadius:"12px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[e.jsxs("label",{children:["Dein Aufschlag (Gewinn): ",e.jsxs("strong",{children:[t.hostMarkup??0,"%"]})]}),e.jsxs("span",{style:{color:"var(--accent-success)"},children:["+",P((a.totalExpenses||0)*((t.hostMarkup||0)/100))]})]}),e.jsx("input",{type:"range",min:"0",max:"50",step:"1",value:t.hostMarkup??0,onChange:async i=>{const l=parseInt(i.target.value),f={...t,hostMarkup:l};s(f),r(_(f)),await T(t.id,{hostMarkup:l})},style:{width:"100%",accentColor:"var(--accent-primary)"}}),e.jsx("small",{style:{opacity:.7},children:"ErhÃ¶ht den Preis pro Kopf. Der Ãœberschuss gehÃ¶rt dir."})]}),e.jsx("h3",{children:"Ausgaben hinzufÃ¼gen"}),e.jsxs("form",{onSubmit:F,style:{display:"flex",gap:"0.5rem",marginBottom:"2rem",flexWrap:"wrap"},children:[e.jsx("input",{name:"item",required:!0,placeholder:"Posten (z.B. Bier)",className:"input-field",style:{marginBottom:0,flex:"2 1 200px"}}),e.jsx("input",{name:"amount",required:!0,type:"number",step:"0.01",placeholder:"â‚¬",className:"input-field",style:{marginBottom:0,flex:"1 1 100px"}}),e.jsx("button",{type:"submit",className:"btn-primary",style:{flex:"0 0 auto"},children:"+"})]}),e.jsx("h3",{children:"Ausgabenliste"}),(!t.expenses||t.expenses.length===0)&&e.jsx("p",{style:{opacity:.5},children:"Keine Ausgaben eingetragen."}),e.jsx("ul",{style:{listStyle:"none",padding:0},children:t.expenses&&t.expenses.map((i,l)=>e.jsxs("li",{style:{display:"flex",justifyContent:"space-between",padding:"0.5rem",borderBottom:"1px solid var(--glass-border)"},children:[e.jsx("span",{children:i.item}),e.jsx("span",{children:P(i.amount)})]},l))})]}),m==="guests"&&e.jsxs("div",{children:[e.jsxs("h3",{children:["GÃ¤steliste (",t.guests?.length||0,")"]}),e.jsx("div",{style:{overflowX:"auto"},children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",minWidth:"600px"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{textAlign:"left",borderBottom:"1px solid var(--glass-border)"},children:[e.jsx("th",{style:{padding:"0.5rem"},children:"Name"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Bezahlt?"}),e.jsx("th",{children:"Aktion"})]})}),e.jsx("tbody",{children:t.guests&&t.guests.map((i,l)=>e.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[e.jsxs("td",{style:{padding:"0.5rem"},children:[i.name,i.participatesInCompetition&&e.jsx("span",{title:"Nimmt am SchieÃŸwettbewerb teil",style:{marginLeft:"8px",cursor:"help"},children:"ðŸŽ¯"})]}),e.jsx("td",{children:e.jsx("span",{style:{padding:"2px 8px",borderRadius:"12px",fontSize:"0.8rem",background:i.status==="accepted"?"rgba(34, 197, 94, 0.2)":i.status==="declined"?"rgba(239, 68, 68, 0.2)":"rgba(234, 179, 8, 0.2)",color:i.status==="accepted"?"var(--accent-success)":i.status==="declined"?"var(--accent-danger)":"var(--accent-gold)"},children:i.status==="accepted"?"Zusage":i.status==="declined"?"Absage":"Vielleicht"})}),e.jsx("td",{children:e.jsx("input",{type:"checkbox",checked:i.hasPaid||!1,onChange:async()=>{const f=[...t.guests];f[l]={...f[l],hasPaid:!f[l].hasPaid};const w={...t,guests:f};s(w),r(_(w)),await T(t.id,{guests:f})},style:{cursor:"pointer",transform:"scale(1.2)"}})}),e.jsx("td",{children:e.jsx("button",{onClick:async()=>{if(!window.confirm(`${i.name} wirklich entfernen?`))return;const f=t.guests.filter((C,R)=>R!==l),w={...t,guests:f};s(w),r(_(w)),await T(t.id,{guests:f})},style:{background:"none",border:"none",cursor:"pointer",fontSize:"1.2rem"},title:"Gast entfernen",children:"ðŸ—‘ï¸"})})]},l))})]})})]}),m==="betting"&&e.jsxs("div",{children:[e.jsxs("div",{className:"glass",style:{padding:"1rem",display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1.5rem",background:"rgba(0,0,0,0.4)",borderRadius:"16px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[e.jsx("h3",{style:{margin:0,fontSize:"1.1rem"},children:"ðŸŽ° WettbÃ¼ro"}),e.jsx("span",{style:{padding:"4px 12px",borderRadius:"12px",fontSize:"0.8rem",fontWeight:"bold",border:"1px solid currentColor",color:t.bettingStatus==="open"?"var(--accent-success)":t.bettingStatus==="finished"?"var(--accent-secondary)":"var(--accent-danger)"},children:t.bettingStatus==="open"?"ðŸŸ¢ GEÃ–FFNET":t.bettingStatus==="finished"?"ðŸ BEENDET":"ðŸ”´ GESCHLOSSEN"})]}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[e.jsx("button",{className:"btn-ghost",onClick:()=>d(!0),style:{padding:"8px 12px",fontSize:"0.8rem"},children:"ðŸ“± QR Code"}),t.bettingStatus!=="open"&&t.bettingStatus!=="finished"&&e.jsx("button",{className:"btn-primary",onClick:async()=>{await T(t.id,{bettingStatus:"open"}),s({...t,bettingStatus:"open"})},style:{padding:"8px 16px",fontSize:"0.8rem"},children:"ðŸ”” Ã–ffnen"}),t.bettingStatus==="open"&&e.jsx("button",{className:"btn-primary",style:{background:"linear-gradient(135deg, #ef4444, #991b1b)",padding:"8px 16px",fontSize:"0.8rem"},onClick:async()=>{await T(t.id,{bettingStatus:"closed"}),s({...t,bettingStatus:"closed"})},children:"â›” SchlieÃŸen"})]})]}),n&&Ge.createPortal(e.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.9)",zIndex:9999,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[e.jsx("h2",{style:{color:"white",marginBottom:"2rem"},children:"WettbÃ¼ro Zugang"}),e.jsx("div",{style:{background:"white",padding:"2rem",borderRadius:"16px"},children:e.jsx(et,{size:300,style:{height:"auto",maxWidth:"100%",width:"100%"},value:`https://ricfritzsche89.github.io/PitMaster/#/betting/${t.id}`})}),e.jsx("p",{style:{color:"white",marginTop:"1rem",fontSize:"1.2rem"},children:"Scanne mich!"}),e.jsx("button",{onClick:()=>d(!1),className:"btn-ghost",style:{marginTop:"2rem",fontSize:"1.2rem",padding:"12px 32px"},children:"SchlieÃŸen"})]}),document.body),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[e.jsxs("div",{className:"glass",style:{padding:"0",display:"flex",flexDirection:"column"},children:[e.jsxs("div",{style:{padding:"1rem",borderBottom:"1px solid rgba(255,255,255,0.1)",background:"rgba(255,255,255,0.02)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("h3",{style:{margin:0,fontSize:"1.1rem"},children:"Live WetteinsÃ¤tze"}),e.jsxs("span",{style:{fontSize:"0.8rem",opacity:.6},children:[o.length," Wetten aktiv"]})]}),e.jsx("div",{style:{overflowX:"auto",width:"100%"},children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.9rem",minWidth:"600px"},children:[e.jsx("thead",{style:{background:"rgba(0,0,0,0.8)",position:"sticky",top:0,zIndex:5},children:e.jsxs("tr",{children:[e.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontWeight:"600",opacity:.8},children:"Zeit"}),e.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontWeight:"600",opacity:.8},children:"Spieler"}),e.jsx("th",{style:{textAlign:"left",padding:"12px 16px",fontWeight:"600",opacity:.8},children:"Wette"}),e.jsx("th",{style:{textAlign:"right",padding:"12px 16px",fontWeight:"600",opacity:.8},children:"Einsatz"}),e.jsx("th",{style:{textAlign:"right",padding:"12px 16px",fontWeight:"600",opacity:.8},children:"MÃ¶gl. Gewinn"}),e.jsx("th",{style:{width:"60px",padding:"12px 4px"}})]})}),e.jsxs("tbody",{children:[o.map((i,l)=>{const f=`${i.type}_${i.target}`,w=j&&j[f]||1,C=i.amount*w,R=i.timestamp?new Date(i.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"-";return e.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[e.jsx("td",{style:{padding:"12px 16px",opacity:.5,fontSize:"0.8rem"},children:R}),e.jsx("td",{style:{padding:"12px 16px",fontWeight:"500"},children:i.user}),e.jsxs("td",{style:{padding:"12px 16px"},children:[e.jsx("span",{style:{background:i.type==="winner"?"rgba(234, 180, 8, 0.15)":"rgba(239, 68, 68, 0.15)",color:i.type==="winner"?"var(--accent-gold)":"var(--accent-danger)",padding:"4px 8px",borderRadius:"6px",fontSize:"0.85rem",marginRight:"8px",fontWeight:"bold"},children:i.type==="winner"?"SIEG":"VERLIERER"}),i.target]}),e.jsx("td",{style:{padding:"12px 16px",textAlign:"right"},children:P(i.amount)}),e.jsxs("td",{style:{padding:"12px 16px",textAlign:"right",color:"var(--accent-primary)",fontWeight:"bold"},children:[P(C),e.jsxs("span",{style:{fontSize:"0.7rem",opacity:.6,display:"block",fontWeight:"normal"},children:["(@ ",w.toFixed(2),")"]})]}),e.jsx("td",{style:{padding:"12px 4px",textAlign:"center"},children:e.jsx("button",{onClick:async()=>{window.confirm(`Wette von ${i.user} wirklich lÃ¶schen?`)&&await De(t.id,i.id)},style:{background:"rgba(239,68,68,0.1)",color:"#ef4444",border:"none",borderRadius:"8px",padding:"6px",cursor:"pointer",minWidth:"32px"},title:"Wette lÃ¶schen",children:"ðŸ—‘ï¸"})})]},l)}),o.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:"6",style:{padding:"3rem",textAlign:"center",opacity:.4},children:"Noch keine Wetten eingegangen."})})]}),e.jsx("tfoot",{children:e.jsxs("tr",{style:{borderTop:"1px solid rgba(255,255,255,0.2)"},children:[e.jsx("td",{colSpan:"2",style:{padding:"8px",textAlign:"right",fontWeight:"bold"},children:"Gesamt:"}),e.jsx("td",{style:{padding:"8px",textAlign:"right",fontWeight:"bold"},children:P(o.reduce((i,l)=>i+l.amount,0))}),e.jsx("td",{colSpan:"3"})]})})]})})]}),e.jsxs("div",{className:"glass",style:{padding:"1rem",position:"relative"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[e.jsx("h3",{style:{margin:0,fontSize:"1rem",opacity:.8},children:"ðŸ Ergebniseingabe"}),e.jsx("span",{style:{fontSize:"0.8rem",opacity:.5},children:"(fÃ¼r Auszahlung)"})]}),e.jsxs("form",{onSubmit:i=>{i.preventDefault();const l=new FormData(i.target),f={winner:l.get("winner"),loser:l.get("loser")},w=We(o,f);O(f),W(w),M(!0)},style:{display:"flex",flexWrap:"wrap",gap:"1rem",alignItems:"end"},children:[e.jsxs("div",{style:{flex:"1 1 200px"},children:[e.jsx("label",{style:{display:"block",fontSize:"0.75rem",marginBottom:"0.2rem",opacity:.7},children:"ðŸ† Sieger"}),e.jsxs("select",{name:"winner",className:"input-field",style:{padding:"8px",fontSize:"0.9rem",width:"100%"},required:!0,children:[e.jsx("option",{value:"",children:"WÃ¤hlen..."}),t.guests?.filter(i=>i.status==="accepted").map(i=>e.jsx("option",{value:i.name,children:i.name},i.name))]})]}),e.jsxs("div",{style:{flex:"1 1 200px"},children:[e.jsx("label",{style:{display:"block",fontSize:"0.75rem",marginBottom:"0.2rem",opacity:.7},children:"ðŸ’© Verlierer"}),e.jsxs("select",{name:"loser",className:"input-field",style:{padding:"8px",fontSize:"0.9rem",width:"100%"},required:!0,children:[e.jsx("option",{value:"",children:"WÃ¤hlen..."}),t.guests?.filter(i=>i.status==="accepted").map(i=>e.jsx("option",{value:i.name,children:i.name},i.name))]})]}),e.jsx("button",{type:"submit",className:"btn-primary",style:{padding:"8px 16px",height:"38px",whiteSpace:"nowrap",flex:"0 0 auto"},children:"ðŸ’¾ Auswerten"})]}),D&&e.jsxs("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"#09090b",borderRadius:"12px",padding:"1rem",zIndex:10,display:"flex",flexDirection:"column"},children:[e.jsx("h4",{style:{margin:"0 0 1rem 0",borderBottom:"1px solid var(--accent-primary)",paddingBottom:"0.5rem"},children:"ðŸ’° Payout Vorschau"}),e.jsxs("div",{style:{flex:1,overflowY:"auto",fontSize:"0.85rem",marginBottom:"1rem"},children:[z.length===0?e.jsx("p",{style:{opacity:.7},children:"Keine Gewinner. Das Haus gewinnt alles! ðŸ¦"}):e.jsx("ul",{style:{listStyle:"none",padding:0},children:z.map((i,l)=>e.jsxs("li",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem",borderBottom:"1px solid rgba(255,255,255,0.1)",paddingBottom:"4px"},children:[e.jsxs("span",{children:[e.jsx("strong",{children:i.user})," (",i.type==="winner"?"Sieg":"Verl.",")"]}),e.jsxs("span",{style:{color:"var(--accent-primary)"},children:["+",P(i.amount)]})]},l))}),e.jsxs("div",{style:{marginTop:"1rem",fontWeight:"bold",paddingTop:"0.5rem",borderTop:"1px solid rgba(255,255,255,0.2)"},children:["Gesamt: ",P(z.reduce((i,l)=>i+l.amount,0))]})]}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[e.jsx("button",{className:"btn-ghost",onClick:()=>M(!1),style:{flex:1,fontSize:"0.8rem"},children:"ZurÃ¼ck"}),e.jsx("button",{className:"btn-primary",onClick:async()=>{await T(t.id,{bettingResults:G,bettingStatus:"finished"}),s({...t,bettingResults:G,bettingStatus:"finished"}),M(!1),alert("Ergebnisse gespeichert und verÃ¶ffentlicht!")},style:{flex:1,fontSize:"0.8rem"},children:"BestÃ¤tigen"})]})]})]})]})]}),m==="feedback"&&e.jsxs("div",{className:"animate-fade-in",children:[e.jsxs("div",{className:"glass",style:{padding:"2rem",marginBottom:"2rem",textAlign:"center"},children:[e.jsx("h3",{style:{marginTop:0},children:"GÃ¤ste Feedback ðŸ’¬"}),e.jsx("p",{style:{opacity:.7,marginBottom:"2rem"},children:"Teile diesen Link mit deinen GÃ¤sten, um anonymes Feedback zu erhalten."}),e.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",alignItems:"center",flexWrap:"wrap"},children:[e.jsxs("code",{style:{background:"rgba(0,0,0,0.3)",padding:"12px 16px",borderRadius:"8px",fontFamily:"monospace"},children:[window.location.host,"/#/feedback/",t.id]}),e.jsx("button",{className:"btn-primary",onClick:()=>{const i=`${window.location.protocol}//${window.location.host}${window.location.pathname}#/feedback/${t.id}`;navigator.clipboard.writeText(i),alert("Link kopiert! ðŸ“‹")},children:"ðŸ“‹ Link kopieren"})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:[e.jsxs("div",{className:"glass",style:{padding:"1.5rem",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:"ðŸ”"}),e.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold"},children:b.length?(b.reduce((i,l)=>i+l.rating_food,0)/b.length).toFixed(1):"-"}),e.jsx("div",{style:{opacity:.6,fontSize:"0.8rem"},children:"Ã˜ Essen"})]}),e.jsxs("div",{className:"glass",style:{padding:"1.5rem",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:"âœ¨"}),e.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold"},children:b.length?(b.reduce((i,l)=>i+l.rating_vibes,0)/b.length).toFixed(1):"-"}),e.jsx("div",{style:{opacity:.6,fontSize:"0.8rem"},children:"Ã˜ Stimmung"})]}),e.jsxs("div",{className:"glass",style:{padding:"1.5rem",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:"ðŸŽµ"}),e.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold"},children:b.length?(b.reduce((i,l)=>i+l.rating_music,0)/b.length).toFixed(1):"-"}),e.jsx("div",{style:{opacity:.6,fontSize:"0.8rem"},children:"Ã˜ Musik"})]}),e.jsxs("div",{className:"glass",style:{padding:"1.5rem",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:"ðŸ“"}),e.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold"},children:b.length}),e.jsx("div",{style:{opacity:.6,fontSize:"0.8rem"},children:"Feedbacks"})]})]}),e.jsxs("div",{className:"glass",style:{padding:"0"},children:[e.jsx("h3",{style:{padding:"1.5rem",margin:0,borderBottom:"1px solid rgba(255,255,255,0.1)"},children:"Kommentare"}),b.length===0?e.jsx("div",{style:{padding:"3rem",textAlign:"center",opacity:.5},children:"Noch kein Feedback vorhanden."}):e.jsx("div",{style:{maxHeight:"600px",overflowY:"auto"},children:b.sort((i,l)=>l.timestamp-i.timestamp).map(i=>e.jsxs("div",{style:{padding:"1.5rem",borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem",opacity:.6,fontSize:"0.8rem"},children:[e.jsx("span",{children:new Date(i.timestamp).toLocaleString()}),e.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[e.jsxs("span",{children:["ðŸ” ",i.rating_food]}),e.jsxs("span",{children:["âœ¨ ",i.rating_vibes]}),e.jsxs("span",{children:["ðŸŽµ ",i.rating_music]})]})]}),e.jsx("div",{style:{fontSize:"1rem",lineHeight:"1.5",fontStyle:i.comment?"normal":"italic",opacity:i.comment?1:.4},children:i.comment||"Kein Text-Kommentar."})]},i.id))})]})]}),m==="shooting"&&e.jsxs("div",{className:"animate-fade-in",children:[e.jsxs("div",{className:"glass",style:{padding:"2rem",marginBottom:"2rem",textAlign:"center"},children:[e.jsx("h3",{style:{marginTop:0},children:"ðŸ”« Live SchieÃŸstand (Party Mode)"}),e.jsx("p",{style:{opacity:.7,marginBottom:"2rem"}})]}),e.jsx(nt,{localEvent:t,participants:x,setWinnerModal:L,setWinnerPhoto:A}),e.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",alignItems:"center",flexWrap:"wrap"},children:[e.jsxs("code",{style:{background:"rgba(0,0,0,0.3)",padding:"12px 16px",borderRadius:"8px",fontFamily:"monospace"},children:[window.location.host,"/#/party/",t.id,"/shooting"]}),e.jsx("button",{className:"btn-primary",onClick:()=>{const i=`${window.location.protocol}//${window.location.host}${window.location.pathname}#/party/${t.id}/shooting`;window.open(i,"_blank")},children:"ðŸ“º TV-View Ã¶ffnen"})]}),e.jsxs("div",{className:"glass",style:{padding:"2rem",marginBottom:"2rem"},children:[e.jsx("h3",{style:{marginTop:0},children:"Teilnehmer hinzufÃ¼gen"}),e.jsxs("form",{onSubmit:i=>{i.preventDefault();const l=i.target.name.value,f=i.target.file.files[0];if(l)if(f){const w=new FileReader;w.onloadend=()=>{const C=w.result;ie(t.id,l,C),i.target.reset()},w.readAsDataURL(f)}else ie(t.id,l),i.target.reset()},style:{display:"flex",gap:"1rem",flexDirection:"column"},children:[e.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[e.jsx("input",{name:"name",className:"input-field",placeholder:"Name des SchÃ¼tzen",style:{marginBottom:0,flex:1}}),e.jsx("input",{type:"file",name:"file",className:"input-field",style:{marginBottom:0,flex:1,padding:"10px"},accept:"image/*"})]}),e.jsx("button",{type:"submit",className:"btn-primary",style:{alignSelf:"flex-start"},children:"HinzufÃ¼gen"})]})]}),e.jsxs("div",{className:"glass",style:{padding:"0"},children:[e.jsx("h3",{style:{padding:"1.5rem",margin:0,borderBottom:"1px solid rgba(255,255,255,0.1)"},children:"Ergebnisse erfassen"}),x.sort((i,l)=>i.timestamp-l.timestamp).map(i=>e.jsxs("div",{style:{padding:"1.5rem",borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[e.jsx("div",{style:{fontSize:"1.2rem",fontWeight:"bold"},children:i.name}),e.jsx("button",{onClick:()=>{window.confirm("LÃ¶schen?")&&_e(t.id,i.id)},style:{background:"none",border:"none",color:"#ef4444",cursor:"pointer",opacity:.5},children:"ðŸ—‘ï¸"})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"2rem"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"0.9rem",opacity:.7,marginBottom:"0.5rem"},children:"Runde 1"}),e.jsx("div",{style:{display:"flex",gap:"0.5rem"},children:(i.round1||[null,null,null,null,null]).map((l,f)=>e.jsx("input",{className:"input-field",style:{width:"40px",padding:"5px",textAlign:"center",marginBottom:0},value:l??"",placeholder:"-",type:"number",onChange:w=>{const C=w.target.value===""?null:parseInt(w.target.value),R=[...i.round1||[null,null,null,null,null]];R[f]=C,se(t.id,i.id,{round1:R})}},`r1-${f}`))})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"0.9rem",opacity:.7,marginBottom:"0.5rem"},children:"Runde 2"}),e.jsx("div",{style:{display:"flex",gap:"0.5rem"},children:(i.round2||[null,null,null,null,null]).map((l,f)=>e.jsx("input",{className:"input-field",style:{width:"40px",padding:"5px",textAlign:"center",marginBottom:0},value:l??"",placeholder:"-",type:"number",onChange:w=>{const C=w.target.value===""?null:parseInt(w.target.value),R=[...i.round2||[null,null,null,null,null]];R[f]=C,se(t.id,i.id,{round2:R})}},`r2-${f}`))})]})]})]},i.id)),x.length===0&&e.jsx("div",{style:{padding:"3rem",textAlign:"center",opacity:.5},children:"Noch keine Teilnehmer."})]})]}),m==="broadcast"&&e.jsx("div",{className:"animate-fade-in",children:e.jsxs("div",{className:"glass",style:{padding:"2rem"},children:[e.jsxs("div",{style:{marginBottom:"2rem",textAlign:"center"},children:[e.jsx("h3",{style:{marginTop:0},children:"ðŸ“¢ TV-Nachricht senden"}),e.jsx("p",{style:{opacity:.7},children:"Schicke Nachrichten direkt auf den Fernseher."})]}),e.jsxs("form",{onSubmit:async i=>{i.preventDefault();const l=new FormData(i.target),f=l.get("message"),w=l.get("type"),C=parseInt(l.get("speed")||5);await T(t.id,{broadcast:{active:!0,message:f,type:w,speed:C,timestamp:Date.now()}}),s({...t,broadcast:{active:!0,message:f,type:w,speed:C,timestamp:Date.now()}}),alert("Nachricht gesendet!")},children:[e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem"},children:"Deine Nachricht:"}),e.jsx("textarea",{name:"message",required:!0,className:"input-field",placeholder:"z.B. Das Buffet ist erÃ¶ffnet! ðŸ–",style:{width:"100%",minHeight:"100px",fontSize:"1.2rem",textAlign:"center"},defaultValue:t.broadcast?.message||""})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"2rem"},children:[e.jsxs("label",{style:{cursor:"pointer",padding:"1rem",background:"rgba(0,0,0,0.3)",borderRadius:"12px",border:"1px solid var(--glass-border)",textAlign:"center"},children:[e.jsx("input",{type:"radio",name:"type",value:"ticker",defaultChecked:t.broadcast?.type!=="overlay",style:{marginRight:"0.5rem"}}),e.jsx("strong",{children:"Lauftext (Ticker)"}),e.jsx("div",{style:{fontSize:"0.8rem",opacity:.7,marginTop:"0.5rem"},children:"Dezent am unteren Rand"})]}),e.jsxs("label",{style:{cursor:"pointer",padding:"1rem",background:"rgba(0,0,0,0.3)",borderRadius:"12px",border:"1px solid var(--glass-border)",textAlign:"center"},children:[e.jsx("input",{type:"radio",name:"type",value:"overlay",defaultChecked:t.broadcast?.type==="overlay",style:{marginRight:"0.5rem"}}),e.jsx("strong",{children:"Vollbild (Alarm)"}),e.jsx("div",{style:{fontSize:"0.8rem",opacity:.7,marginTop:"0.5rem"},children:"Unterbricht alles!"})]})]}),e.jsxs("div",{style:{marginBottom:"2rem"},children:[e.jsxs("label",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:["Laufgeschwindigkeit: ",e.jsx("strong",{children:t.broadcast?.speed||5})]}),e.jsx("input",{type:"range",name:"speed",min:"1",max:"10",defaultValue:t.broadcast?.speed||5,style:{width:"100%",accentColor:"var(--accent-primary)"}}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.8rem",opacity:.7},children:[e.jsx("span",{children:"Langsam"}),e.jsx("span",{children:"Schnell"})]})]}),e.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[e.jsx("button",{type:"button",className:"btn-ghost",style:{flex:1,color:"var(--accent-danger)",borderColor:"var(--accent-danger)"},onClick:async()=>{await T(t.id,{broadcast:{active:!1}}),s({...t,broadcast:{active:!1}})},children:"ðŸ›‘ Beenden / LÃ¶schen"}),e.jsx("button",{type:"submit",className:"btn-primary",style:{flex:2,fontSize:"1.1rem"},children:"ðŸ“¡ Senden"})]})]}),t.broadcast?.active&&e.jsxs("div",{style:{marginTop:"2rem",padding:"1rem",background:"rgba(34, 197, 94, 0.1)",border:"1px solid var(--accent-success)",borderRadius:"12px",textAlign:"center"},children:[e.jsx("strong",{style:{color:"var(--accent-success)"},children:"â— LIVE:"}),' "',t.broadcast.message,'" (',t.broadcast.type==="overlay"?"Vollbild":"Ticker",")"]})]})})]}),B.open&&e.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.8)",zIndex:1e3,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",overflowY:"auto",padding:"2rem"},children:e.jsxs("div",{className:"glass",style:{background:"#1e293b",border:"1px solid gold",maxWidth:"600px",width:"100%",padding:"1rem",position:"relative"},children:[e.jsx("button",{onClick:()=>L({...B,open:!1}),style:{position:"absolute",top:"10px",right:"10px",background:"none",border:"none",color:"white",fontSize:"1.5rem",cursor:"pointer"},children:"âœ•"}),e.jsx("h2",{style:{textAlign:"center",color:"gold",marginTop:0},children:"ðŸ“¸ Hall of Fame Karte"}),e.jsxs("div",{style:{marginBottom:"1rem"},children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem"},children:"1. Foto machen/hochladen"}),e.jsx("input",{type:"file",accept:"image/*",onChange:i=>{const l=i.target.files[0];if(l){const f=new FileReader;f.onload=()=>A(f.result),f.readAsDataURL(l)}},className:"input-field"})]}),e.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"1rem",overflow:"hidden",border:"1px solid #333"},children:e.jsx("div",{style:{transform:"scale(0.8)",transformOrigin:"top center"},children:e.jsx(tt,{ref:N,participant:B.participant,event:t,rank:B.rank,theme:B.theme,photoUrl:E})})}),e.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:[e.jsx("button",{className:"btn-primary",onClick:async()=>{if(N.current){const i=(await q(async()=>{const{default:l}=await import("./html2canvas.esm-DXEQVQnt.js");return{default:l}},[])).default;i(N.current,{useCORS:!0,scale:2}).then(l=>{const f=document.createElement("a");f.download=`WinnerCard_${B.participant.name}.png`,f.href=l.toDataURL(),f.click()})}},children:"ðŸ’¾ Herunterladen"}),e.jsx("button",{className:"btn-primary",onClick:async()=>{if(N.current){const i=document.activeElement,l=i.innerText;i.innerText="â³ Speichere...";const f=(await q(async()=>{const{default:w}=await import("./html2canvas.esm-DXEQVQnt.js");return{default:w}},[])).default;f(N.current,{useCORS:!0,scale:2}).then(async w=>{const C=w.toDataURL();try{await Ie({eventId:t.id,eventName:t.title,participantName:B.participant.name,rank:B.rank,type:B.type,theme:B.theme,date:t.date,imageData:C}),alert("ðŸ† In Hall of Fame gespeichert!")}catch(R){console.error(R),alert("Fehler beim Speichern: "+R.message)}i.innerText=l})}},children:"ðŸ† Hall of Fame"})]})]})})]}):e.jsx("div",{className:"content-container",children:"Lade Event..."})}function lt(){const[p,g]=k.useState([]),[c,m]=k.useState(null),[u,t]=k.useState(!1),[s,a]=k.useState(!1),[r,n]=k.useState({title:"",date:"",time:"",location:"",description:"",budgetLimit:"",maxGuests:""});k.useEffect(()=>{d()},[]);const d=async()=>{const v=JSON.parse(localStorage.getItem("my_events")||"[]");if(v.length===0)return;a(!0);const x=[];for(const S of v)try{const B=await Me(S);x.push(B)}catch(B){console.error("Konnte Event nicht laden:",S,B)}g(x),a(!1)},o=async v=>{v.preventDefault(),a(!0);try{const x={...r,budgetLimit:parseFloat(r.budgetLimit)||0,maxGuests:parseInt(r.maxGuests)||0,bettingStatus:"open"},S=await Oe(x),B=JSON.parse(localStorage.getItem("my_events")||"[]");B.push(S),localStorage.setItem("my_events",JSON.stringify(B)),n({title:"",date:"",time:"",location:"",description:"",budgetLimit:"",maxGuests:""}),t(!1),await d()}catch(x){alert("Fehler beim Erstellen der Party: "+x.message)}a(!1)},h=(v,x)=>{x.stopPropagation(),(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")&&alert(`ACHTUNG: Du bist auf 'localhost'. Dieser Link funktioniert NICHT auf dem Handy!

Bitte Ã¶ffne am Laptop die Netzwerk-Adresse (z.B. http://192.168.x.x:5173), die im Terminal angezeigt wird, und kopiere den Link dann erneut.`);const S=window.location.href.split("?")[0],L=`${S.endsWith("/")?S.slice(0,-1):S}?partyId=${v}`;if(!navigator.clipboard){const E=document.createElement("textarea");E.value=L,E.style.position="fixed",E.style.left="-9999px",document.body.appendChild(E),E.focus(),E.select();try{document.execCommand("copy"),alert("Link kopiert: "+L)}catch{prompt("Konnte nicht automatisch kopieren. Hier ist der Link:",L)}document.body.removeChild(E);return}navigator.clipboard.writeText(L).then(()=>{alert("Link in die Zwischenablage kopiert!")}).catch(E=>{prompt("Konnte nicht automatisch kopieren. Hier ist der Link:",L)})},j=()=>{confirm("Admin-Modus verlassen?")&&window.location.reload()};let y,b="Meine Events";if(c){const v=p.find(x=>x.id===c);v?(b=v.title,y=e.jsx(rt,{event:v,onBack:()=>{m(null),d()},onUpdate:()=>d()})):m(null)}return y||(y=e.jsxs("div",{className:"animate-fade-in",children:[e.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"2rem"},children:e.jsx("button",{className:"btn-primary",onClick:()=>t(!u),children:u?"Abbrechen":"+ Neue Party"})}),u&&e.jsxs("form",{onSubmit:o,className:"animate-fade-in",style:{background:"rgba(255,255,255,0.05)",padding:"1.5rem",borderRadius:"16px",marginBottom:"2rem",border:"1px solid rgba(255,255,255,0.1)"},children:[e.jsx("h3",{style:{marginBottom:"1rem",marginTop:0},children:"Neue Party erstellen"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem",marginBottom:"1rem"},children:[e.jsx("input",{required:!0,placeholder:"Party Name",className:"input-field",style:{marginBottom:0},value:r.title,onChange:v=>n({...r,title:v.target.value})}),e.jsx("input",{placeholder:"Admin PIN",className:"input-field",style:{marginBottom:0},maxLength:4,title:"4-Stelliger PIN fÃ¼r Admin-Login auf anderen GerÃ¤ten",value:r.adminPin||"",onChange:v=>n({...r,adminPin:v.target.value})})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[e.jsxs("div",{style:{gridColumn:"1 / -1"},children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem",opacity:.7},children:"Was wird gefeiert?"}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[e.jsxs("select",{className:"input-field",style:{marginBottom:0,flex:1},value:["SchieÃŸwettbewerb","Geburtstag","Party"].includes(r.theme)?r.theme:"Sonstiges",onChange:v=>{const x=v.target.value;n(x==="Sonstiges"?{...r,theme:""}:{...r,theme:x})},children:[e.jsx("option",{value:"SchieÃŸwettbewerb",children:"SchieÃŸwettbewerb"}),e.jsx("option",{value:"Geburtstag",children:"Geburtstag"}),e.jsx("option",{value:"Party",children:"Party"}),e.jsx("option",{value:"Sonstiges",children:"Sonstiges / Eigenes..."})]}),!["SchieÃŸwettbewerb","Geburtstag","Party"].includes(r.theme)&&e.jsx("input",{placeholder:"Eigenes Thema eingeben...",className:"input-field",style:{marginBottom:0,flex:1},value:r.theme,onChange:v=>n({...r,theme:v.target.value})})]})]}),e.jsx("input",{required:!0,type:"date",className:"input-field",value:r.date,onChange:v=>n({...r,date:v.target.value})}),e.jsx("input",{required:!0,type:"time",className:"input-field",value:r.time,onChange:v=>n({...r,time:v.target.value})})]}),e.jsx("input",{type:"number",placeholder:"Budget Limit (â‚¬)",className:"input-field",value:r.budgetLimit,onChange:v=>n({...r,budgetLimit:v.target.value})}),e.jsx("input",{type:"number",placeholder:"Max GÃ¤ste (0 = egal)",className:"input-field",value:r.maxGuests,onChange:v=>n({...r,maxGuests:v.target.value})}),e.jsx("input",{required:!0,placeholder:"Ort",className:"input-field",style:{width:"100%"},value:r.location,onChange:v=>n({...r,location:v.target.value})}),e.jsx("button",{type:"submit",className:"btn-primary",disabled:s,style:{width:"100%",marginTop:"1rem"},children:s?"Erstelle...":"Party erstellen"})]}),e.jsxs("div",{children:[e.jsx("h3",{style:{borderBottom:"1px solid rgba(255,255,255,0.1)",paddingBottom:"0.5rem",marginBottom:"1rem"},children:"Deine Events"}),s&&e.jsx("p",{children:"Lade Events..."}),!s&&p.length===0&&e.jsx("p",{style:{opacity:.6},children:"Noch keine Events. Erstelle eins!"}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:p.map(v=>e.jsxs("div",{onClick:()=>m(v.id),style:{background:"rgba(255,255,255,0.03)",padding:"1rem",borderRadius:"12px",border:"1px solid rgba(255,255,255,0.05)",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"1rem"},onMouseEnter:x=>{x.currentTarget.style.transform="translateY(-2px)",x.currentTarget.style.background="rgba(255,255,255,0.06)"},onMouseLeave:x=>{x.currentTarget.style.transform="translateY(0)",x.currentTarget.style.background="rgba(255,255,255,0.03)"},children:[v.image?e.jsx("div",{style:{width:"60px",height:"60px",borderRadius:"8px",backgroundImage:`url(${v.image})`,backgroundSize:"cover",backgroundPosition:"center",flexShrink:0}}):e.jsx("div",{style:{width:"60px",height:"60px",borderRadius:"8px",background:"rgba(255,255,255,0.1)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem",flexShrink:0},children:"ðŸ“…"}),e.jsx("div",{style:{flex:1},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[e.jsxs("div",{children:[e.jsx("h4",{style:{margin:"0 0 0.3rem 0",fontSize:"1.1rem",color:"#fff"},children:v.title}),e.jsxs("p",{style:{margin:0,opacity:.7,fontSize:"0.8rem"},children:[v.date?v.date.split("-").reverse().join("."):""," | ",v.location]})]}),e.jsx("button",{onClick:x=>h(v.id,x),className:"btn-primary",style:{fontSize:"0.75rem",padding:"6px 12px"},children:"ðŸ”— Link"})]})})]},v.id))})]})]})),e.jsx(Re,{title:b,onLogout:j,children:y})}export{lt as default};
