import{r,j as e}from"./index-ByzX3Q89.js";import{g as f,c as v,d as N}from"./firebase-CJRgEAD5.js";function w(){const[a,o]=r.useState({hostName:"",paypalLink:"",defaultBet:2,lowPerformance:!1,cameraDeviceId:"",masterVolume:100,tickerSpeed:30,adminPin:""}),[m,x]=r.useState(!1),[h,i]=r.useState(""),[u,b]=r.useState([]);r.useEffect(()=>{const t=localStorage.getItem("pitmaster_settings");t&&o(s=>({...s,...JSON.parse(t)})),navigator.mediaDevices.enumerateDevices().then(s=>{const n=s.filter(c=>c.kind==="videoinput");b(n)}).catch(s=>console.error("Could not list devices",s))},[]);const l=(t,s)=>{o(n=>({...n,[t]:s}))},g=()=>{localStorage.setItem("pitmaster_settings",JSON.stringify(a)),i("âœ… Einstellungen gespeichert!"),setTimeout(()=>i(""),3e3)},j=async()=>{x(!0);try{const t=await f(v(N,"events")),s={};t.forEach(p=>{s[p.id]=p.data()});const n=new Blob([JSON.stringify(s,null,2)],{type:"application/json"}),c=URL.createObjectURL(n),d=document.createElement("a");d.href=c,d.download=`pitmaster_backup_${new Date().toISOString().slice(0,10)}.json`,d.click(),i("âœ… Backup heruntergeladen!")}catch(t){console.error(t),i("âŒ Fehler beim Backup exportieren.")}x(!1)};return e.jsxs("div",{className:"container animate-fade-in",style:{maxWidth:"800px",margin:"0 auto",color:"white",paddingBottom:"4rem"},children:[e.jsx("h1",{style:{marginBottom:"2rem",fontSize:"2.5rem",textTransform:"uppercase",letterSpacing:"2px",color:"var(--accent-primary)"},children:"âš™ï¸ Einstellungen"}),h&&e.jsx("div",{style:{background:"rgba(16, 185, 129, 0.2)",color:"#34d399",padding:"1rem",borderRadius:"12px",marginBottom:"2rem",border:"1px solid #34d399"},children:h}),e.jsxs("div",{className:"grid gap-6",children:[e.jsxs("section",{className:"card p-6",children:[e.jsx("h2",{className:"text-xl font-bold mb-4 text-emerald-400",children:"ðŸ‘¤ Host Profil"}),e.jsx("p",{className:"text-slate-400 mb-4 text-sm",children:"Diese Daten werden fÃ¼r neue Events vorausgefÃ¼llt."}),e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Dein Name (als Host)"}),e.jsx("input",{type:"text",className:"input-field",value:a.hostName,onChange:t=>l("hostName",t.target.value),placeholder:"z.B. Ric"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"PayPal.me Link (Standard)"}),e.jsx("input",{type:"text",className:"input-field",value:a.paypalLink,onChange:t=>l("paypalLink",t.target.value),placeholder:"paypal.me/deinname"})]})]})]}),e.jsxs("section",{className:"card p-6",children:[e.jsx("h2",{className:"text-xl font-bold mb-4 text-emerald-400",children:"ðŸ“¹ Hardware (TV View)"}),e.jsx("p",{className:"text-slate-400 mb-4 text-sm",children:"Welche Kamera soll fÃ¼r den Live-Stream auf dem Fernseher genutzt werden?"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Kamera Auswahl"}),e.jsxs("select",{className:"input-field",value:a.cameraDeviceId,onChange:t=>l("cameraDeviceId",t.target.value),children:[e.jsx("option",{value:"",children:"Standard System-Kamera"}),u.map(t=>e.jsx("option",{value:t.deviceId,children:t.label||`Kamera ${t.deviceId.slice(0,5)}...`},t.deviceId))]}),e.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"Hinweis: Starte die App neu oder lade die Event-Seite neu, damit die Ã„nderung wirksam wird."})]})]}),e.jsxs("section",{className:"card p-6",children:[e.jsx("h2",{className:"text-xl font-bold mb-4 text-emerald-400",children:"ðŸ”Š Audio & Effekte"}),e.jsxs("div",{className:"grid gap-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("label",{className:"text-sm text-slate-400",children:"Master LautstÃ¤rke (Soundboard)"}),e.jsxs("span",{className:"text-sm font-bold",children:[a.masterVolume,"%"]})]}),e.jsx("input",{type:"range",min:"0",max:"100",value:a.masterVolume,onChange:t=>l("masterVolume",parseInt(t.target.value)),className:"w-full accent-emerald-500"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("label",{className:"text-sm text-slate-400",children:"Ticker Geschwindigkeit (News)"}),e.jsxs("span",{className:"text-sm font-bold",children:[a.tickerSpeed,"s"]})]}),e.jsx("input",{type:"range",min:"10",max:"120",step:"5",value:a.tickerSpeed,onChange:t=>l("tickerSpeed",parseInt(t.target.value)),className:"w-full accent-emerald-500"}),e.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"Dauer fÃ¼r einen kompletten Durchlauf einer Nachricht."})]})]})]}),e.jsxs("section",{className:"card p-6",children:[e.jsx("h2",{className:"text-xl font-bold mb-4 text-emerald-400",children:"ðŸŽ² Spiel-Standards"}),e.jsx("div",{className:"grid gap-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Standard Wetteinsatz (â‚¬)"}),e.jsx("input",{type:"number",className:"input-field",value:a.defaultBet,onChange:t=>l("defaultBet",t.target.value)})]})})]}),e.jsxs("section",{className:"card p-6 border border-slate-600 bg-slate-800/30",children:[e.jsx("h2",{className:"text-xl font-bold mb-4 text-red-400",children:"ðŸ” Sicherheit"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Admin Schutz-PIN"}),e.jsx("input",{type:"password",className:"input-field",value:a.adminPin,onChange:t=>l("adminPin",t.target.value),placeholder:"****",maxLength:8}),e.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"Wird abgefragt, wenn du kritische Aktionen ausfÃ¼hrst (z.B. Event lÃ¶schen). Lass es leer, um keinen Schutz zu haben."})]})]}),e.jsxs("section",{className:"card p-6",children:[e.jsx("h2",{className:"text-xl font-bold mb-4 text-emerald-400",children:"ðŸ“± App Performance"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("input",{type:"checkbox",id:"lowPerf",className:"w-6 h-6 accent-emerald-500",checked:a.lowPerformance,onChange:t=>l("lowPerformance",t.target.checked)}),e.jsxs("label",{htmlFor:"lowPerf",className:"cursor-pointer",children:[e.jsx("div",{className:"font-bold",children:"Performance-Modus"}),e.jsx("div",{className:"text-sm text-slate-400",children:"Reduziert Animationen (spart Akku am Laptop)."})]})]})]}),e.jsxs("section",{className:"card p-6 border border-slate-700",children:[e.jsx("h2",{className:"text-xl font-bold mb-4 text-slate-200",children:"ðŸ’¾ Daten & Backup"}),e.jsx("p",{className:"text-slate-400 mb-4 text-sm",children:"Lade alle deine Events und Ergebnisse als Datei herunter."}),e.jsx("button",{onClick:j,disabled:m,className:"btn-ghost w-full border-slate-500 hover:bg-slate-800",children:m?"Exportiere...":"ðŸ“¦ Alles Exportieren (JSON)"})]}),e.jsx("button",{onClick:g,className:"btn-primary w-full py-4 text-xl mt-4 shadow-lg shadow-emerald-900/50 hover:shadow-emerald-900/80 transition-all",children:"Einstellungen Speichern"})]})]})}export{w as default};
