import{r as x,j as e}from"./index-DqxfUhk-.js";import{a as d,o as j,u as b,s as w,d as p}from"./firebase-Codym4C1.js";import{B as C}from"./BeerPongTable-Cyn_ac7Q.js";function y(){const r="beerpong_standalone",[i,a]=x.useState({topCups:[],bottomCups:[]});x.useEffect(()=>{const t=d(p,"events",r),s=j(t,n=>{if(n.exists()){const o=n.data();o.beerPong&&a(o.beerPong)}else{const o={topCups:[0,1,2,3,4,5,6,7,8,9],bottomCups:[0,1,2,3,4,5,6,7,8,9]};w(t,{title:"Bierpong Match",beerPong:o}),a(o)}});return()=>s()},[]);const m=async(t,s)=>{const n=i[t==="top"?"topCups":"bottomCups"]||[],o=n.includes(s);let c;o?c=n.filter(l=>l!==s):c=[...n,s].sort((l,h)=>l-h);const u={...i,[t==="top"?"topCups":"bottomCups"]:c};a(u);const g=d(p,"events",r);await b(g,{beerPong:u})},f=async()=>{if(!confirm("âš ï¸ Neues Spiel starten? Alle Becher werden zurÃ¼ckgesetzt."))return;const t={topCups:[0,1,2,3,4,5,6,7,8,9],bottomCups:[0,1,2,3,4,5,6,7,8,9]};a(t);const s=d(p,"events",r);await b(s,{beerPong:t})};return e.jsxs("div",{className:"beer-pong-admin h-full flex flex-col animate-fade-in text-white",children:[e.jsxs("header",{className:"flex justify-between items-center p-4 border-b border-slate-700 bg-slate-800/50",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold",children:"ðŸº Bierpong Manager"}),e.jsx("span",{className:"text-xs uppercase text-slate-400",children:"Standalone Mode"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>{const t=`${window.location.origin}${window.location.pathname}#/party/beerpong`;window.open(t,"_blank")},style:{background:"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)",padding:"8px 16px",borderRadius:"8px",fontWeight:"bold",boxShadow:"0 4px 12px rgba(37, 99, 235, 0.4)",border:"1px solid rgba(255,255,255,0.1)"},children:"ðŸ“º TV Screen"}),e.jsx("button",{onClick:f,style:{background:"rgba(239, 68, 68, 0.1)",color:"#ef4444",border:"1px solid rgba(239, 68, 68, 0.3)",padding:"8px 16px",borderRadius:"8px",fontWeight:"bold",cursor:"pointer"},children:"â†º Reset"})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 flex flex-col items-center justify-center",children:[e.jsxs("div",{className:"mb-8 text-center opacity-70 text-sm max-w-md",children:["Links: ",e.jsx("strong",{children:"Team Schwarz"})," | Rechts: ",e.jsx("strong",{children:"Team GrÃ¼n"}),e.jsx("br",{}),"Klicke auf Becher, um sie zu entfernen."]}),e.jsx(C,{gameState:i,onCupClick:m})]})]})}export{y as default};
